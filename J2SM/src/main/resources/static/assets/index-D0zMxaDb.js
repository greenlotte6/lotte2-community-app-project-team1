var LO=Object.defineProperty;var BO=(n,e,t)=>e in n?LO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ce=(n,e,t)=>BO(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function hf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bm={exports:{}},Cl={},Fm={exports:{}},Qe={},k1;function FO(){if(k1)return Qe;k1=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=p&&W[p]||W["@@iterator"],typeof W=="function"?W:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function w(W,Z,pe){this.props=W,this.context=Z,this.refs=x,this.updater=pe||v}w.prototype.isReactComponent={},w.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},w.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function k(){}k.prototype=w.prototype;function C(W,Z,pe){this.props=W,this.context=Z,this.refs=x,this.updater=pe||v}var M=C.prototype=new k;M.constructor=C,b(M,w.prototype),M.isPureReactComponent=!0;var T=Array.isArray,D=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function P(W,Z,pe){var be,ke={},me=null,Ie=null;if(Z!=null)for(be in Z.ref!==void 0&&(Ie=Z.ref),Z.key!==void 0&&(me=""+Z.key),Z)D.call(Z,be)&&!I.hasOwnProperty(be)&&(ke[be]=Z[be]);var we=arguments.length-2;if(we===1)ke.children=pe;else if(1<we){for(var Pe=Array(we),Ee=0;Ee<we;Ee++)Pe[Ee]=arguments[Ee+2];ke.children=Pe}if(W&&W.defaultProps)for(be in we=W.defaultProps,we)ke[be]===void 0&&(ke[be]=we[be]);return{$$typeof:n,type:W,key:me,ref:Ie,props:ke,_owner:E.current}}function O(W,Z){return{$$typeof:n,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function B(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function A(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(pe){return Z[pe]})}var L=/\/+/g;function R(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?A(""+W.key):Z.toString(36)}function V(W,Z,pe,be,ke){var me=typeof W;(me==="undefined"||me==="boolean")&&(W=null);var Ie=!1;if(W===null)Ie=!0;else switch(me){case"string":case"number":Ie=!0;break;case"object":switch(W.$$typeof){case n:case e:Ie=!0}}if(Ie)return Ie=W,ke=ke(Ie),W=be===""?"."+R(Ie,0):be,T(ke)?(pe="",W!=null&&(pe=W.replace(L,"$&/")+"/"),V(ke,Z,pe,"",function(Ee){return Ee})):ke!=null&&(B(ke)&&(ke=O(ke,pe+(!ke.key||Ie&&Ie.key===ke.key?"":(""+ke.key).replace(L,"$&/")+"/")+W)),Z.push(ke)),1;if(Ie=0,be=be===""?".":be+":",T(W))for(var we=0;we<W.length;we++){me=W[we];var Pe=be+R(me,we);Ie+=V(me,Z,pe,Pe,ke)}else if(Pe=g(W),typeof Pe=="function")for(W=Pe.call(W),we=0;!(me=W.next()).done;)me=me.value,Pe=be+R(me,we++),Ie+=V(me,Z,pe,Pe,ke);else if(me==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Q(W,Z,pe){if(W==null)return W;var be=[],ke=0;return V(W,be,"","",function(me){return Z.call(pe,me,ke++)}),be}function oe(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(pe){(W._status===0||W._status===-1)&&(W._status=1,W._result=pe)},function(pe){(W._status===0||W._status===-1)&&(W._status=2,W._result=pe)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var q={current:null},Y={transition:null},re={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:Y,ReactCurrentOwner:E};function le(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:Q,forEach:function(W,Z,pe){Q(W,function(){Z.apply(this,arguments)},pe)},count:function(W){var Z=0;return Q(W,function(){Z++}),Z},toArray:function(W){return Q(W,function(Z){return Z})||[]},only:function(W){if(!B(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Qe.Component=w,Qe.Fragment=t,Qe.Profiler=i,Qe.PureComponent=C,Qe.StrictMode=r,Qe.Suspense=c,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Qe.act=le,Qe.cloneElement=function(W,Z,pe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var be=b({},W.props),ke=W.key,me=W.ref,Ie=W._owner;if(Z!=null){if(Z.ref!==void 0&&(me=Z.ref,Ie=E.current),Z.key!==void 0&&(ke=""+Z.key),W.type&&W.type.defaultProps)var we=W.type.defaultProps;for(Pe in Z)D.call(Z,Pe)&&!I.hasOwnProperty(Pe)&&(be[Pe]=Z[Pe]===void 0&&we!==void 0?we[Pe]:Z[Pe])}var Pe=arguments.length-2;if(Pe===1)be.children=pe;else if(1<Pe){we=Array(Pe);for(var Ee=0;Ee<Pe;Ee++)we[Ee]=arguments[Ee+2];be.children=we}return{$$typeof:n,type:W.type,key:ke,ref:me,props:be,_owner:Ie}},Qe.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},Qe.createElement=P,Qe.createFactory=function(W){var Z=P.bind(null,W);return Z.type=W,Z},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(W){return{$$typeof:a,render:W}},Qe.isValidElement=B,Qe.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:oe}},Qe.memo=function(W,Z){return{$$typeof:h,type:W,compare:Z===void 0?null:Z}},Qe.startTransition=function(W){var Z=Y.transition;Y.transition={};try{W()}finally{Y.transition=Z}},Qe.unstable_act=le,Qe.useCallback=function(W,Z){return q.current.useCallback(W,Z)},Qe.useContext=function(W){return q.current.useContext(W)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(W){return q.current.useDeferredValue(W)},Qe.useEffect=function(W,Z){return q.current.useEffect(W,Z)},Qe.useId=function(){return q.current.useId()},Qe.useImperativeHandle=function(W,Z,pe){return q.current.useImperativeHandle(W,Z,pe)},Qe.useInsertionEffect=function(W,Z){return q.current.useInsertionEffect(W,Z)},Qe.useLayoutEffect=function(W,Z){return q.current.useLayoutEffect(W,Z)},Qe.useMemo=function(W,Z){return q.current.useMemo(W,Z)},Qe.useReducer=function(W,Z,pe){return q.current.useReducer(W,Z,pe)},Qe.useRef=function(W){return q.current.useRef(W)},Qe.useState=function(W){return q.current.useState(W)},Qe.useSyncExternalStore=function(W,Z,pe){return q.current.useSyncExternalStore(W,Z,pe)},Qe.useTransition=function(){return q.current.useTransition()},Qe.version="18.3.1",Qe}var E1;function so(){return E1||(E1=1,Fm.exports=FO()),Fm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function HO(){if(C1)return Cl;C1=1;var n=so(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,c,h){var f,p={},g=null,v=null;h!==void 0&&(g=""+h),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(v=c.ref);for(f in c)r.call(c,f)&&!o.hasOwnProperty(f)&&(p[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:e,type:a,key:g,ref:v,props:p,_owner:i.current}}return Cl.Fragment=t,Cl.jsx=s,Cl.jsxs=s,Cl}var _1;function zO(){return _1||(_1=1,Bm.exports=HO()),Bm.exports}var d=zO(),j=so();const ze=hf(j);var ad={},Hm={exports:{}},ur={},zm={exports:{}},Um={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function UO(){return T1||(T1=1,function(n){function e(Y,re){var le=Y.length;Y.push(re);e:for(;0<le;){var W=le-1>>>1,Z=Y[W];if(0<i(Z,re))Y[W]=re,Y[le]=Z,le=W;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],le=Y.pop();if(le!==re){Y[0]=le;e:for(var W=0,Z=Y.length,pe=Z>>>1;W<pe;){var be=2*(W+1)-1,ke=Y[be],me=be+1,Ie=Y[me];if(0>i(ke,le))me<Z&&0>i(Ie,ke)?(Y[W]=Ie,Y[me]=le,W=me):(Y[W]=ke,Y[be]=le,W=be);else if(me<Z&&0>i(Ie,le))Y[W]=Ie,Y[me]=le,W=me;else break e}}return re}function i(Y,re){var le=Y.sortIndex-re.sortIndex;return le!==0?le:Y.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var c=[],h=[],f=1,p=null,g=3,v=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Y){for(var re=t(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=Y)r(h),re.sortIndex=re.expirationTime,e(c,re);else break;re=t(h)}}function T(Y){if(x=!1,M(Y),!b)if(t(c)!==null)b=!0,oe(D);else{var re=t(h);re!==null&&q(T,re.startTime-Y)}}function D(Y,re){b=!1,x&&(x=!1,k(P),P=-1),v=!0;var le=g;try{for(M(re),p=t(c);p!==null&&(!(p.expirationTime>re)||Y&&!A());){var W=p.callback;if(typeof W=="function"){p.callback=null,g=p.priorityLevel;var Z=W(p.expirationTime<=re);re=n.unstable_now(),typeof Z=="function"?p.callback=Z:p===t(c)&&r(c),M(re)}else r(c);p=t(c)}if(p!==null)var pe=!0;else{var be=t(h);be!==null&&q(T,be.startTime-re),pe=!1}return pe}finally{p=null,g=le,v=!1}}var E=!1,I=null,P=-1,O=5,B=-1;function A(){return!(n.unstable_now()-B<O)}function L(){if(I!==null){var Y=n.unstable_now();B=Y;var re=!0;try{re=I(!0,Y)}finally{re?R():(E=!1,I=null)}}else E=!1}var R;if(typeof C=="function")R=function(){C(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=L,R=function(){Q.postMessage(null)}}else R=function(){w(L,0)};function oe(Y){I=Y,E||(E=!0,R())}function q(Y,re){P=w(function(){Y(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){b||v||(b=!0,oe(D))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var le=g;g=re;try{return Y()}finally{g=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var le=g;g=Y;try{return re()}finally{g=le}},n.unstable_scheduleCallback=function(Y,re,le){var W=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,Y){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,Y={id:f++,callback:re,priorityLevel:Y,startTime:le,expirationTime:Z,sortIndex:-1},le>W?(Y.sortIndex=le,e(h,Y),t(c)===null&&Y===t(h)&&(x?(k(P),P=-1):x=!0,q(T,le-W))):(Y.sortIndex=Z,e(c,Y),b||v||(b=!0,oe(D))),Y},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(Y){var re=g;return function(){var le=g;g=re;try{return Y.apply(this,arguments)}finally{g=le}}}}(Um)),Um}var j1;function $O(){return j1||(j1=1,zm.exports=UO()),zm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function WO(){if(D1)return ur;D1=1;var n=so(),e=$O();function t(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(l,u){s(l,u),s(l+"Capture",u)}function s(l,u){for(i[l]=u,l=0;l<u.length;l++)r.add(u[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(l){return c.call(p,l)?!0:c.call(f,l)?!1:h.test(l)?p[l]=!0:(f[l]=!0,!1)}function v(l,u,m,y){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,u,m,y){if(u===null||typeof u>"u"||v(l,u,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function x(l,u,m,y,S,_,N){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=l,this.type=u,this.sanitizeURL=_,this.removeEmptyString=N}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){w[l]=new x(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];w[u]=new x(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){w[l]=new x(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){w[l]=new x(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){w[l]=new x(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){w[l]=new x(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){w[l]=new x(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){w[l]=new x(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){w[l]=new x(l,5,!1,l.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(k,C);w[u]=new x(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(k,C);w[u]=new x(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(k,C);w[u]=new x(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){w[l]=new x(l,1,!1,l.toLowerCase(),null,!1,!1)}),w.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){w[l]=new x(l,1,!1,l.toLowerCase(),null,!0,!0)});function M(l,u,m,y){var S=w.hasOwnProperty(u)?w[u]:null;(S!==null?S.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,m,S,y)&&(m=null),y||S===null?g(u)&&(m===null?l.removeAttribute(u):l.setAttribute(u,""+m)):S.mustUseProperty?l[S.propertyName]=m===null?S.type===3?!1:"":m:(u=S.attributeName,y=S.attributeNamespace,m===null?l.removeAttribute(u):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,y?l.setAttributeNS(y,u,m):l.setAttribute(u,m))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),A=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),Y=Symbol.iterator;function re(l){return l===null||typeof l!="object"?null:(l=Y&&l[Y]||l["@@iterator"],typeof l=="function"?l:null)}var le=Object.assign,W;function Z(l){if(W===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+l}var pe=!1;function be(l,u){if(!l||pe)return"";pe=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(se){var y=se}Reflect.construct(l,[],u)}else{try{u.call()}catch(se){y=se}l.call(u.prototype)}else{try{throw Error()}catch(se){y=se}l()}}catch(se){if(se&&y&&typeof se.stack=="string"){for(var S=se.stack.split(`
`),_=y.stack.split(`
`),N=S.length-1,$=_.length-1;1<=N&&0<=$&&S[N]!==_[$];)$--;for(;1<=N&&0<=$;N--,$--)if(S[N]!==_[$]){if(N!==1||$!==1)do if(N--,$--,0>$||S[N]!==_[$]){var G=`
`+S[N].replace(" at new "," at ");return l.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",l.displayName)),G}while(1<=N&&0<=$);break}}}finally{pe=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Z(l):""}function ke(l){switch(l.tag){case 5:return Z(l.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return l=be(l.type,!1),l;case 11:return l=be(l.type.render,!1),l;case 1:return l=be(l.type,!0),l;default:return""}}function me(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case I:return"Fragment";case E:return"Portal";case O:return"Profiler";case P:return"StrictMode";case R:return"Suspense";case V:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case A:return(l.displayName||"Context")+".Consumer";case B:return(l._context.displayName||"Context")+".Provider";case L:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Q:return u=l.displayName||null,u!==null?u:me(l.type)||"Memo";case oe:u=l._payload,l=l._init;try{return me(l(u))}catch{}}return null}function Ie(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function we(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Pe(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ee(l){var u=Pe(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),y=""+l[u];if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,_=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(N){y=""+N,_.call(this,N)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(N){y=""+N},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Ke(l){l._valueTracker||(l._valueTracker=Ee(l))}function at(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),y="";return l&&(y=Pe(l)?l.checked?"true":"false":l.value),l=y,l!==m?(u.setValue(l),!0):!1}function wt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function lt(l,u){var m=u.checked;return le({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function _t(l,u){var m=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;m=we(u.value!=null?u.value:m),l._wrapperState={initialChecked:y,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function an(l,u){u=u.checked,u!=null&&M(l,"checked",u,!1)}function Tn(l,u){an(l,u);var m=we(u.value),y=u.type;if(m!=null)y==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?nn(l,u.type,m):u.hasOwnProperty("defaultValue")&&nn(l,u.type,we(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function Nr(l,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,m||u===l.value||(l.value=u),l.defaultValue=u}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function nn(l,u,m){(u!=="number"||wt(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var Wt=Array.isArray;function zn(l,u,m,y){if(l=l.options,u){u={};for(var S=0;S<m.length;S++)u["$"+m[S]]=!0;for(m=0;m<l.length;m++)S=u.hasOwnProperty("$"+l[m].value),l[m].selected!==S&&(l[m].selected=S),S&&y&&(l[m].defaultSelected=!0)}else{for(m=""+we(m),u=null,S=0;S<l.length;S++){if(l[S].value===m){l[S].selected=!0,y&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function ln(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Un(l,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(t(92));if(Wt(m)){if(1<m.length)throw Error(t(93));m=m[0]}u=m}u==null&&(u=""),m=u}l._wrapperState={initialValue:we(m)}}function ei(l,u){var m=we(u.value),y=we(u.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),u.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),y!=null&&(l.defaultValue=""+y)}function yr(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function $n(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?$n(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var jn,Wn=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,y,S){MSApp.execUnsafeLocalFunction(function(){return l(u,m,y,S)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(jn=jn||document.createElement("div"),jn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=jn.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Rr(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var Tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xi=["Webkit","ms","Moz","O"];Object.keys(Tt).forEach(function(l){xi.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),Tt[u]=Tt[l]})});function Bi(l,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||Tt.hasOwnProperty(l)&&Tt[l]?(""+u).trim():u+"px"}function Fi(l,u){l=l.style;for(var m in u)if(u.hasOwnProperty(m)){var y=m.indexOf("--")===0,S=Bi(m,u[m],y);m==="float"&&(m="cssFloat"),y?l.setProperty(m,S):l[m]=S}}var dt=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function br(l,u){if(u){if(dt[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function tr(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function nr(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ni=null,Xt=null,St=null;function Kt(l){if(l=ul(l)){if(typeof ni!="function")throw Error(t(280));var u=l.stateNode;u&&(u=Su(u),ni(l.stateNode,l.type,u))}}function F(l){Xt?St?St.push(l):St=[l]:Xt=l}function z(){if(Xt){var l=Xt,u=St;if(St=Xt=null,Kt(l),u)for(l=0;l<u.length;l++)Kt(u[l])}}function K(l,u){return l(u)}function ie(){}var H=!1;function U(l,u,m){if(H)return l(u,m);H=!0;try{return K(l,u,m)}finally{H=!1,(Xt!==null||St!==null)&&(ie(),z())}}function X(l,u){var m=l.stateNode;if(m===null)return null;var y=Su(m);if(y===null)return null;m=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(t(231,u,typeof m));return m}var ee=!1;if(a)try{var de={};Object.defineProperty(de,"passive",{get:function(){ee=!0}}),window.addEventListener("test",de,de),window.removeEventListener("test",de,de)}catch{ee=!1}function ce(l,u,m,y,S,_,N,$,G){var se=Array.prototype.slice.call(arguments,3);try{u.apply(m,se)}catch(ve){this.onError(ve)}}var he=!1,ge=null,Te=!1,je=null,He={onError:function(l){he=!0,ge=l}};function Re(l,u,m,y,S,_,N,$,G){he=!1,ge=null,ce.apply(He,arguments)}function qe(l,u,m,y,S,_,N,$,G){if(Re.apply(this,arguments),he){if(he){var se=ge;he=!1,ge=null}else throw Error(t(198));Te||(Te=!0,je=se)}}function Je(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function Pt(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function Jt(l){if(Je(l)!==l)throw Error(t(188))}function wn(l){var u=l.alternate;if(!u){if(u=Je(l),u===null)throw Error(t(188));return u!==l?null:l}for(var m=l,y=u;;){var S=m.return;if(S===null)break;var _=S.alternate;if(_===null){if(y=S.return,y!==null){m=y;continue}break}if(S.child===_.child){for(_=S.child;_;){if(_===m)return Jt(S),l;if(_===y)return Jt(S),u;_=_.sibling}throw Error(t(188))}if(m.return!==y.return)m=S,y=_;else{for(var N=!1,$=S.child;$;){if($===m){N=!0,m=S,y=_;break}if($===y){N=!0,y=S,m=_;break}$=$.sibling}if(!N){for($=_.child;$;){if($===m){N=!0,m=_,y=S;break}if($===y){N=!0,y=_,m=S;break}$=$.sibling}if(!N)throw Error(t(189))}}if(m.alternate!==y)throw Error(t(190))}if(m.tag!==3)throw Error(t(188));return m.stateNode.current===m?l:u}function Ze(l){return l=wn(l),l!==null?wi(l):null}function wi(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=wi(l);if(u!==null)return u;l=l.sibling}return null}var Ar=e.unstable_scheduleCallback,Si=e.unstable_cancelCallback,Dn=e.unstable_shouldYield,es=e.unstable_requestPaint,kt=e.unstable_now,Va=e.unstable_getCurrentPriorityLevel,ri=e.unstable_ImmediatePriority,ts=e.unstable_UserBlockingPriority,it=e.unstable_NormalPriority,rr=e.unstable_LowPriority,ii=e.unstable_IdlePriority,Hi=null,ir=null;function Vt(l){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Hi,l,void 0,(l.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:tP,ru=Math.log,ip=Math.LN2;function tP(l){return l>>>=0,l===0?32:31-(ru(l)/ip|0)|0}var iu=64,ou=4194304;function qa(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function su(l,u){var m=l.pendingLanes;if(m===0)return 0;var y=0,S=l.suspendedLanes,_=l.pingedLanes,N=m&268435455;if(N!==0){var $=N&~S;$!==0?y=qa($):(_&=N,_!==0&&(y=qa(_)))}else N=m&~S,N!==0?y=qa(N):_!==0&&(y=qa(_));if(y===0)return 0;if(u!==0&&u!==y&&(u&S)===0&&(S=y&-y,_=u&-u,S>=_||S===16&&(_&4194240)!==0))return u;if((y&4)!==0&&(y|=m&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=y;0<u;)m=31-fn(u),S=1<<m,y|=l[m],u&=~S;return y}function nP(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rP(l,u){for(var m=l.suspendedLanes,y=l.pingedLanes,S=l.expirationTimes,_=l.pendingLanes;0<_;){var N=31-fn(_),$=1<<N,G=S[N];G===-1?(($&m)===0||($&y)!==0)&&(S[N]=nP($,u)):G<=u&&(l.expiredLanes|=$),_&=~$}}function op(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function e0(){var l=iu;return iu<<=1,(iu&4194240)===0&&(iu=64),l}function sp(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Ya(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-fn(u),l[u]=m}function iP(l,u){var m=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<m;){var S=31-fn(m),_=1<<S;u[S]=0,y[S]=-1,l[S]=-1,m&=~_}}function ap(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var y=31-fn(m),S=1<<y;S&u|l[y]&u&&(l[y]|=u),m&=~S}}var yt=0;function t0(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var n0,lp,r0,i0,o0,cp=!1,au=[],co=null,uo=null,ho=null,Ga=new Map,Xa=new Map,fo=[],oP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s0(l,u){switch(l){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Ga.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(u.pointerId)}}function Ka(l,u,m,y,S,_){return l===null||l.nativeEvent!==_?(l={blockedOn:u,domEventName:m,eventSystemFlags:y,nativeEvent:_,targetContainers:[S]},u!==null&&(u=ul(u),u!==null&&lp(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function sP(l,u,m,y,S){switch(u){case"focusin":return co=Ka(co,l,u,m,y,S),!0;case"dragenter":return uo=Ka(uo,l,u,m,y,S),!0;case"mouseover":return ho=Ka(ho,l,u,m,y,S),!0;case"pointerover":var _=S.pointerId;return Ga.set(_,Ka(Ga.get(_)||null,l,u,m,y,S)),!0;case"gotpointercapture":return _=S.pointerId,Xa.set(_,Ka(Xa.get(_)||null,l,u,m,y,S)),!0}return!1}function a0(l){var u=ns(l.target);if(u!==null){var m=Je(u);if(m!==null){if(u=m.tag,u===13){if(u=Pt(m),u!==null){l.blockedOn=u,o0(l.priority,function(){r0(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function lu(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=dp(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var y=new m.constructor(m.type,m);ti=y,m.target.dispatchEvent(y),ti=null}else return u=ul(m),u!==null&&lp(u),l.blockedOn=m,!1;u.shift()}return!0}function l0(l,u,m){lu(l)&&m.delete(u)}function aP(){cp=!1,co!==null&&lu(co)&&(co=null),uo!==null&&lu(uo)&&(uo=null),ho!==null&&lu(ho)&&(ho=null),Ga.forEach(l0),Xa.forEach(l0)}function Ja(l,u){l.blockedOn===u&&(l.blockedOn=null,cp||(cp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aP)))}function Qa(l){function u(S){return Ja(S,l)}if(0<au.length){Ja(au[0],l);for(var m=1;m<au.length;m++){var y=au[m];y.blockedOn===l&&(y.blockedOn=null)}}for(co!==null&&Ja(co,l),uo!==null&&Ja(uo,l),ho!==null&&Ja(ho,l),Ga.forEach(u),Xa.forEach(u),m=0;m<fo.length;m++)y=fo[m],y.blockedOn===l&&(y.blockedOn=null);for(;0<fo.length&&(m=fo[0],m.blockedOn===null);)a0(m),m.blockedOn===null&&fo.shift()}var Us=T.ReactCurrentBatchConfig,cu=!0;function lP(l,u,m,y){var S=yt,_=Us.transition;Us.transition=null;try{yt=1,up(l,u,m,y)}finally{yt=S,Us.transition=_}}function cP(l,u,m,y){var S=yt,_=Us.transition;Us.transition=null;try{yt=4,up(l,u,m,y)}finally{yt=S,Us.transition=_}}function up(l,u,m,y){if(cu){var S=dp(l,u,m,y);if(S===null)jp(l,u,y,uu,m),s0(l,y);else if(sP(S,l,u,m,y))y.stopPropagation();else if(s0(l,y),u&4&&-1<oP.indexOf(l)){for(;S!==null;){var _=ul(S);if(_!==null&&n0(_),_=dp(l,u,m,y),_===null&&jp(l,u,y,uu,m),_===S)break;S=_}S!==null&&y.stopPropagation()}else jp(l,u,y,null,m)}}var uu=null;function dp(l,u,m,y){if(uu=null,l=nr(y),l=ns(l),l!==null)if(u=Je(l),u===null)l=null;else if(m=u.tag,m===13){if(l=Pt(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return uu=l,null}function c0(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Va()){case ri:return 1;case ts:return 4;case it:case rr:return 16;case ii:return 536870912;default:return 16}default:return 16}}var po=null,hp=null,du=null;function u0(){if(du)return du;var l,u=hp,m=u.length,y,S="value"in po?po.value:po.textContent,_=S.length;for(l=0;l<m&&u[l]===S[l];l++);var N=m-l;for(y=1;y<=N&&u[m-y]===S[_-y];y++);return du=S.slice(l,1<y?1-y:void 0)}function hu(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function fu(){return!0}function d0(){return!1}function xr(l){function u(m,y,S,_,N){this._reactName=m,this._targetInst=S,this.type=y,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var $ in l)l.hasOwnProperty($)&&(m=l[$],this[$]=m?m(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?fu:d0,this.isPropagationStopped=d0,this}return le(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),u}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fp=xr($s),Za=le({},$s,{view:0,detail:0}),uP=xr(Za),pp,mp,el,pu=le({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vp,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==el&&(el&&l.type==="mousemove"?(pp=l.screenX-el.screenX,mp=l.screenY-el.screenY):mp=pp=0,el=l),pp)},movementY:function(l){return"movementY"in l?l.movementY:mp}}),h0=xr(pu),dP=le({},pu,{dataTransfer:0}),hP=xr(dP),fP=le({},Za,{relatedTarget:0}),gp=xr(fP),pP=le({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),mP=xr(pP),gP=le({},$s,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),vP=xr(gP),yP=le({},$s,{data:0}),f0=xr(yP),bP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SP(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=wP[l])?!!u[l]:!1}function vp(){return SP}var kP=le({},Za,{key:function(l){if(l.key){var u=bP[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=hu(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?xP[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vp,charCode:function(l){return l.type==="keypress"?hu(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?hu(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),EP=xr(kP),CP=le({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p0=xr(CP),_P=le({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vp}),TP=xr(_P),jP=le({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),DP=xr(jP),MP=le({},pu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),PP=xr(MP),OP=[9,13,27,32],yp=a&&"CompositionEvent"in window,tl=null;a&&"documentMode"in document&&(tl=document.documentMode);var IP=a&&"TextEvent"in window&&!tl,m0=a&&(!yp||tl&&8<tl&&11>=tl),g0=" ",v0=!1;function y0(l,u){switch(l){case"keyup":return OP.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b0(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ws=!1;function NP(l,u){switch(l){case"compositionend":return b0(u);case"keypress":return u.which!==32?null:(v0=!0,g0);case"textInput":return l=u.data,l===g0&&v0?null:l;default:return null}}function RP(l,u){if(Ws)return l==="compositionend"||!yp&&y0(l,u)?(l=u0(),du=hp=po=null,Ws=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return m0&&u.locale!=="ko"?null:u.data;default:return null}}var AP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x0(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!AP[l.type]:u==="textarea"}function w0(l,u,m,y){F(y),u=bu(u,"onChange"),0<u.length&&(m=new fp("onChange","change",null,m,y),l.push({event:m,listeners:u}))}var nl=null,rl=null;function LP(l){F0(l,0)}function mu(l){var u=Xs(l);if(at(u))return l}function BP(l,u){if(l==="change")return u}var S0=!1;if(a){var bp;if(a){var xp="oninput"in document;if(!xp){var k0=document.createElement("div");k0.setAttribute("oninput","return;"),xp=typeof k0.oninput=="function"}bp=xp}else bp=!1;S0=bp&&(!document.documentMode||9<document.documentMode)}function E0(){nl&&(nl.detachEvent("onpropertychange",C0),rl=nl=null)}function C0(l){if(l.propertyName==="value"&&mu(rl)){var u=[];w0(u,rl,l,nr(l)),U(LP,u)}}function FP(l,u,m){l==="focusin"?(E0(),nl=u,rl=m,nl.attachEvent("onpropertychange",C0)):l==="focusout"&&E0()}function HP(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return mu(rl)}function zP(l,u){if(l==="click")return mu(u)}function UP(l,u){if(l==="input"||l==="change")return mu(u)}function $P(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var oi=typeof Object.is=="function"?Object.is:$P;function il(l,u){if(oi(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),y=Object.keys(u);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var S=m[y];if(!c.call(u,S)||!oi(l[S],u[S]))return!1}return!0}function _0(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function T0(l,u){var m=_0(l);l=0;for(var y;m;){if(m.nodeType===3){if(y=l+m.textContent.length,l<=u&&y>=u)return{node:m,offset:u-l};l=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=_0(m)}}function j0(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?j0(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function D0(){for(var l=window,u=wt();u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=wt(l.document)}return u}function wp(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function WP(l){var u=D0(),m=l.focusedElem,y=l.selectionRange;if(u!==m&&m&&m.ownerDocument&&j0(m.ownerDocument.documentElement,m)){if(y!==null&&wp(m)){if(u=y.start,l=y.end,l===void 0&&(l=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(l,m.value.length);else if(l=(u=m.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var S=m.textContent.length,_=Math.min(y.start,S);y=y.end===void 0?_:Math.min(y.end,S),!l.extend&&_>y&&(S=y,y=_,_=S),S=T0(m,_);var N=T0(m,y);S&&N&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==N.node||l.focusOffset!==N.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),l.removeAllRanges(),_>y?(l.addRange(u),l.extend(N.node,N.offset)):(u.setEnd(N.node,N.offset),l.addRange(u)))}}for(u=[],l=m;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)l=u[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var VP=a&&"documentMode"in document&&11>=document.documentMode,Vs=null,Sp=null,ol=null,kp=!1;function M0(l,u,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;kp||Vs==null||Vs!==wt(y)||(y=Vs,"selectionStart"in y&&wp(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ol&&il(ol,y)||(ol=y,y=bu(Sp,"onSelect"),0<y.length&&(u=new fp("onSelect","select",null,u,m),l.push({event:u,listeners:y}),u.target=Vs)))}function gu(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var qs={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Ep={},P0={};a&&(P0=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function vu(l){if(Ep[l])return Ep[l];if(!qs[l])return l;var u=qs[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in P0)return Ep[l]=u[m];return l}var O0=vu("animationend"),I0=vu("animationiteration"),N0=vu("animationstart"),R0=vu("transitionend"),A0=new Map,L0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(l,u){A0.set(l,u),o(u,[l])}for(var Cp=0;Cp<L0.length;Cp++){var _p=L0[Cp],qP=_p.toLowerCase(),YP=_p[0].toUpperCase()+_p.slice(1);mo(qP,"on"+YP)}mo(O0,"onAnimationEnd"),mo(I0,"onAnimationIteration"),mo(N0,"onAnimationStart"),mo("dblclick","onDoubleClick"),mo("focusin","onFocus"),mo("focusout","onBlur"),mo(R0,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GP=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function B0(l,u,m){var y=l.type||"unknown-event";l.currentTarget=m,qe(y,u,void 0,l),l.currentTarget=null}function F0(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var y=l[m],S=y.event;y=y.listeners;e:{var _=void 0;if(u)for(var N=y.length-1;0<=N;N--){var $=y[N],G=$.instance,se=$.currentTarget;if($=$.listener,G!==_&&S.isPropagationStopped())break e;B0(S,$,se),_=G}else for(N=0;N<y.length;N++){if($=y[N],G=$.instance,se=$.currentTarget,$=$.listener,G!==_&&S.isPropagationStopped())break e;B0(S,$,se),_=G}}}if(Te)throw l=je,Te=!1,je=null,l}function jt(l,u){var m=u[Np];m===void 0&&(m=u[Np]=new Set);var y=l+"__bubble";m.has(y)||(H0(u,l,2,!1),m.add(y))}function Tp(l,u,m){var y=0;u&&(y|=4),H0(m,l,y,u)}var yu="_reactListening"+Math.random().toString(36).slice(2);function al(l){if(!l[yu]){l[yu]=!0,r.forEach(function(m){m!=="selectionchange"&&(GP.has(m)||Tp(m,!1,l),Tp(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[yu]||(u[yu]=!0,Tp("selectionchange",!1,u))}}function H0(l,u,m,y){switch(c0(u)){case 1:var S=lP;break;case 4:S=cP;break;default:S=up}m=S.bind(null,u,m,l),S=void 0,!ee||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),y?S!==void 0?l.addEventListener(u,m,{capture:!0,passive:S}):l.addEventListener(u,m,!0):S!==void 0?l.addEventListener(u,m,{passive:S}):l.addEventListener(u,m,!1)}function jp(l,u,m,y,S){var _=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var N=y.tag;if(N===3||N===4){var $=y.stateNode.containerInfo;if($===S||$.nodeType===8&&$.parentNode===S)break;if(N===4)for(N=y.return;N!==null;){var G=N.tag;if((G===3||G===4)&&(G=N.stateNode.containerInfo,G===S||G.nodeType===8&&G.parentNode===S))return;N=N.return}for(;$!==null;){if(N=ns($),N===null)return;if(G=N.tag,G===5||G===6){y=_=N;continue e}$=$.parentNode}}y=y.return}U(function(){var se=_,ve=nr(m),ye=[];e:{var fe=A0.get(l);if(fe!==void 0){var De=fp,Ne=l;switch(l){case"keypress":if(hu(m)===0)break e;case"keydown":case"keyup":De=EP;break;case"focusin":Ne="focus",De=gp;break;case"focusout":Ne="blur",De=gp;break;case"beforeblur":case"afterblur":De=gp;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=h0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=hP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=TP;break;case O0:case I0:case N0:De=mP;break;case R0:De=DP;break;case"scroll":De=uP;break;case"wheel":De=PP;break;case"copy":case"cut":case"paste":De=vP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=p0}var Ae=(u&4)!==0,Qt=!Ae&&l==="scroll",te=Ae?fe!==null?fe+"Capture":null:fe;Ae=[];for(var J=se,ne;J!==null;){ne=J;var xe=ne.stateNode;if(ne.tag===5&&xe!==null&&(ne=xe,te!==null&&(xe=X(J,te),xe!=null&&Ae.push(ll(J,xe,ne)))),Qt)break;J=J.return}0<Ae.length&&(fe=new De(fe,Ne,null,m,ve),ye.push({event:fe,listeners:Ae}))}}if((u&7)===0){e:{if(fe=l==="mouseover"||l==="pointerover",De=l==="mouseout"||l==="pointerout",fe&&m!==ti&&(Ne=m.relatedTarget||m.fromElement)&&(ns(Ne)||Ne[zi]))break e;if((De||fe)&&(fe=ve.window===ve?ve:(fe=ve.ownerDocument)?fe.defaultView||fe.parentWindow:window,De?(Ne=m.relatedTarget||m.toElement,De=se,Ne=Ne?ns(Ne):null,Ne!==null&&(Qt=Je(Ne),Ne!==Qt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(De=null,Ne=se),De!==Ne)){if(Ae=h0,xe="onMouseLeave",te="onMouseEnter",J="mouse",(l==="pointerout"||l==="pointerover")&&(Ae=p0,xe="onPointerLeave",te="onPointerEnter",J="pointer"),Qt=De==null?fe:Xs(De),ne=Ne==null?fe:Xs(Ne),fe=new Ae(xe,J+"leave",De,m,ve),fe.target=Qt,fe.relatedTarget=ne,xe=null,ns(ve)===se&&(Ae=new Ae(te,J+"enter",Ne,m,ve),Ae.target=ne,Ae.relatedTarget=Qt,xe=Ae),Qt=xe,De&&Ne)t:{for(Ae=De,te=Ne,J=0,ne=Ae;ne;ne=Ys(ne))J++;for(ne=0,xe=te;xe;xe=Ys(xe))ne++;for(;0<J-ne;)Ae=Ys(Ae),J--;for(;0<ne-J;)te=Ys(te),ne--;for(;J--;){if(Ae===te||te!==null&&Ae===te.alternate)break t;Ae=Ys(Ae),te=Ys(te)}Ae=null}else Ae=null;De!==null&&z0(ye,fe,De,Ae,!1),Ne!==null&&Qt!==null&&z0(ye,Qt,Ne,Ae,!0)}}e:{if(fe=se?Xs(se):window,De=fe.nodeName&&fe.nodeName.toLowerCase(),De==="select"||De==="input"&&fe.type==="file")var Le=BP;else if(x0(fe))if(S0)Le=UP;else{Le=HP;var Ue=FP}else(De=fe.nodeName)&&De.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Le=zP);if(Le&&(Le=Le(l,se))){w0(ye,Le,m,ve);break e}Ue&&Ue(l,fe,se),l==="focusout"&&(Ue=fe._wrapperState)&&Ue.controlled&&fe.type==="number"&&nn(fe,"number",fe.value)}switch(Ue=se?Xs(se):window,l){case"focusin":(x0(Ue)||Ue.contentEditable==="true")&&(Vs=Ue,Sp=se,ol=null);break;case"focusout":ol=Sp=Vs=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,M0(ye,m,ve);break;case"selectionchange":if(VP)break;case"keydown":case"keyup":M0(ye,m,ve)}var $e;if(yp)e:{switch(l){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ws?y0(l,m)&&(Ve="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Ve="onCompositionStart");Ve&&(m0&&m.locale!=="ko"&&(Ws||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ws&&($e=u0()):(po=ve,hp="value"in po?po.value:po.textContent,Ws=!0)),Ue=bu(se,Ve),0<Ue.length&&(Ve=new f0(Ve,l,null,m,ve),ye.push({event:Ve,listeners:Ue}),$e?Ve.data=$e:($e=b0(m),$e!==null&&(Ve.data=$e)))),($e=IP?NP(l,m):RP(l,m))&&(se=bu(se,"onBeforeInput"),0<se.length&&(ve=new f0("onBeforeInput","beforeinput",null,m,ve),ye.push({event:ve,listeners:se}),ve.data=$e))}F0(ye,u)})}function ll(l,u,m){return{instance:l,listener:u,currentTarget:m}}function bu(l,u){for(var m=u+"Capture",y=[];l!==null;){var S=l,_=S.stateNode;S.tag===5&&_!==null&&(S=_,_=X(l,m),_!=null&&y.unshift(ll(l,_,S)),_=X(l,u),_!=null&&y.push(ll(l,_,S))),l=l.return}return y}function Ys(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function z0(l,u,m,y,S){for(var _=u._reactName,N=[];m!==null&&m!==y;){var $=m,G=$.alternate,se=$.stateNode;if(G!==null&&G===y)break;$.tag===5&&se!==null&&($=se,S?(G=X(m,_),G!=null&&N.unshift(ll(m,G,$))):S||(G=X(m,_),G!=null&&N.push(ll(m,G,$)))),m=m.return}N.length!==0&&l.push({event:u,listeners:N})}var XP=/\r\n?/g,KP=/\u0000|\uFFFD/g;function U0(l){return(typeof l=="string"?l:""+l).replace(XP,`
`).replace(KP,"")}function xu(l,u,m){if(u=U0(u),U0(l)!==u&&m)throw Error(t(425))}function wu(){}var Dp=null,Mp=null;function Pp(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Op=typeof setTimeout=="function"?setTimeout:void 0,JP=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,QP=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(l){return $0.resolve(null).then(l).catch(ZP)}:Op;function ZP(l){setTimeout(function(){throw l})}function Ip(l,u){var m=u,y=0;do{var S=m.nextSibling;if(l.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(y===0){l.removeChild(S),Qa(u);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=S}while(m);Qa(u)}function go(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function W0(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return l;u--}else m==="/$"&&u++}l=l.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),ki="__reactFiber$"+Gs,cl="__reactProps$"+Gs,zi="__reactContainer$"+Gs,Np="__reactEvents$"+Gs,eO="__reactListeners$"+Gs,tO="__reactHandles$"+Gs;function ns(l){var u=l[ki];if(u)return u;for(var m=l.parentNode;m;){if(u=m[zi]||m[ki]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=W0(l);l!==null;){if(m=l[ki])return m;l=W0(l)}return u}l=m,m=l.parentNode}return null}function ul(l){return l=l[ki]||l[zi],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Xs(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(t(33))}function Su(l){return l[cl]||null}var Rp=[],Ks=-1;function vo(l){return{current:l}}function Dt(l){0>Ks||(l.current=Rp[Ks],Rp[Ks]=null,Ks--)}function Et(l,u){Ks++,Rp[Ks]=l.current,l.current=u}var yo={},Mn=vo(yo),or=vo(!1),rs=yo;function Js(l,u){var m=l.type.contextTypes;if(!m)return yo;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var S={},_;for(_ in m)S[_]=u[_];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=S),S}function sr(l){return l=l.childContextTypes,l!=null}function ku(){Dt(or),Dt(Mn)}function V0(l,u,m){if(Mn.current!==yo)throw Error(t(168));Et(Mn,u),Et(or,m)}function q0(l,u,m){var y=l.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var S in y)if(!(S in u))throw Error(t(108,Ie(l)||"Unknown",S));return le({},m,y)}function Eu(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||yo,rs=Mn.current,Et(Mn,l),Et(or,or.current),!0}function Y0(l,u,m){var y=l.stateNode;if(!y)throw Error(t(169));m?(l=q0(l,u,rs),y.__reactInternalMemoizedMergedChildContext=l,Dt(or),Dt(Mn),Et(Mn,l)):Dt(or),Et(or,m)}var Ui=null,Cu=!1,Ap=!1;function G0(l){Ui===null?Ui=[l]:Ui.push(l)}function nO(l){Cu=!0,G0(l)}function bo(){if(!Ap&&Ui!==null){Ap=!0;var l=0,u=yt;try{var m=Ui;for(yt=1;l<m.length;l++){var y=m[l];do y=y(!0);while(y!==null)}Ui=null,Cu=!1}catch(S){throw Ui!==null&&(Ui=Ui.slice(l+1)),Ar(ri,bo),S}finally{yt=u,Ap=!1}}return null}var Qs=[],Zs=0,_u=null,Tu=0,Lr=[],Br=0,is=null,$i=1,Wi="";function os(l,u){Qs[Zs++]=Tu,Qs[Zs++]=_u,_u=l,Tu=u}function X0(l,u,m){Lr[Br++]=$i,Lr[Br++]=Wi,Lr[Br++]=is,is=l;var y=$i;l=Wi;var S=32-fn(y)-1;y&=~(1<<S),m+=1;var _=32-fn(u)+S;if(30<_){var N=S-S%5;_=(y&(1<<N)-1).toString(32),y>>=N,S-=N,$i=1<<32-fn(u)+S|m<<S|y,Wi=_+l}else $i=1<<_|m<<S|y,Wi=l}function Lp(l){l.return!==null&&(os(l,1),X0(l,1,0))}function Bp(l){for(;l===_u;)_u=Qs[--Zs],Qs[Zs]=null,Tu=Qs[--Zs],Qs[Zs]=null;for(;l===is;)is=Lr[--Br],Lr[Br]=null,Wi=Lr[--Br],Lr[Br]=null,$i=Lr[--Br],Lr[Br]=null}var wr=null,Sr=null,Ot=!1,si=null;function K0(l,u){var m=Ur(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,u=l.deletions,u===null?(l.deletions=[m],l.flags|=16):u.push(m)}function J0(l,u){switch(l.tag){case 5:var m=l.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,wr=l,Sr=go(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,wr=l,Sr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=is!==null?{id:$i,overflow:Wi}:null,l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=Ur(18,null,null,0),m.stateNode=u,m.return=l,l.child=m,wr=l,Sr=null,!0):!1;default:return!1}}function Fp(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Hp(l){if(Ot){var u=Sr;if(u){var m=u;if(!J0(l,u)){if(Fp(l))throw Error(t(418));u=go(m.nextSibling);var y=wr;u&&J0(l,u)?K0(y,m):(l.flags=l.flags&-4097|2,Ot=!1,wr=l)}}else{if(Fp(l))throw Error(t(418));l.flags=l.flags&-4097|2,Ot=!1,wr=l}}}function Q0(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;wr=l}function ju(l){if(l!==wr)return!1;if(!Ot)return Q0(l),Ot=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!Pp(l.type,l.memoizedProps)),u&&(u=Sr)){if(Fp(l))throw Z0(),Error(t(418));for(;u;)K0(l,u),u=go(u.nextSibling)}if(Q0(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(t(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(u===0){Sr=go(l.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}l=l.nextSibling}Sr=null}}else Sr=wr?go(l.stateNode.nextSibling):null;return!0}function Z0(){for(var l=Sr;l;)l=go(l.nextSibling)}function ea(){Sr=wr=null,Ot=!1}function zp(l){si===null?si=[l]:si.push(l)}var rO=T.ReactCurrentBatchConfig;function dl(l,u,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(t(309));var y=m.stateNode}if(!y)throw Error(t(147,l));var S=y,_=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===_?u.ref:(u=function(N){var $=S.refs;N===null?delete $[_]:$[_]=N},u._stringRef=_,u)}if(typeof l!="string")throw Error(t(284));if(!m._owner)throw Error(t(290,l))}return l}function Du(l,u){throw l=Object.prototype.toString.call(u),Error(t(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function ew(l){var u=l._init;return u(l._payload)}function tw(l){function u(te,J){if(l){var ne=te.deletions;ne===null?(te.deletions=[J],te.flags|=16):ne.push(J)}}function m(te,J){if(!l)return null;for(;J!==null;)u(te,J),J=J.sibling;return null}function y(te,J){for(te=new Map;J!==null;)J.key!==null?te.set(J.key,J):te.set(J.index,J),J=J.sibling;return te}function S(te,J){return te=To(te,J),te.index=0,te.sibling=null,te}function _(te,J,ne){return te.index=ne,l?(ne=te.alternate,ne!==null?(ne=ne.index,ne<J?(te.flags|=2,J):ne):(te.flags|=2,J)):(te.flags|=1048576,J)}function N(te){return l&&te.alternate===null&&(te.flags|=2),te}function $(te,J,ne,xe){return J===null||J.tag!==6?(J=Om(ne,te.mode,xe),J.return=te,J):(J=S(J,ne),J.return=te,J)}function G(te,J,ne,xe){var Le=ne.type;return Le===I?ve(te,J,ne.props.children,xe,ne.key):J!==null&&(J.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===oe&&ew(Le)===J.type)?(xe=S(J,ne.props),xe.ref=dl(te,J,ne),xe.return=te,xe):(xe=Zu(ne.type,ne.key,ne.props,null,te.mode,xe),xe.ref=dl(te,J,ne),xe.return=te,xe)}function se(te,J,ne,xe){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=Im(ne,te.mode,xe),J.return=te,J):(J=S(J,ne.children||[]),J.return=te,J)}function ve(te,J,ne,xe,Le){return J===null||J.tag!==7?(J=fs(ne,te.mode,xe,Le),J.return=te,J):(J=S(J,ne),J.return=te,J)}function ye(te,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Om(""+J,te.mode,ne),J.return=te,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case D:return ne=Zu(J.type,J.key,J.props,null,te.mode,ne),ne.ref=dl(te,null,J),ne.return=te,ne;case E:return J=Im(J,te.mode,ne),J.return=te,J;case oe:var xe=J._init;return ye(te,xe(J._payload),ne)}if(Wt(J)||re(J))return J=fs(J,te.mode,ne,null),J.return=te,J;Du(te,J)}return null}function fe(te,J,ne,xe){var Le=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Le!==null?null:$(te,J,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case D:return ne.key===Le?G(te,J,ne,xe):null;case E:return ne.key===Le?se(te,J,ne,xe):null;case oe:return Le=ne._init,fe(te,J,Le(ne._payload),xe)}if(Wt(ne)||re(ne))return Le!==null?null:ve(te,J,ne,xe,null);Du(te,ne)}return null}function De(te,J,ne,xe,Le){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return te=te.get(ne)||null,$(J,te,""+xe,Le);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case D:return te=te.get(xe.key===null?ne:xe.key)||null,G(J,te,xe,Le);case E:return te=te.get(xe.key===null?ne:xe.key)||null,se(J,te,xe,Le);case oe:var Ue=xe._init;return De(te,J,ne,Ue(xe._payload),Le)}if(Wt(xe)||re(xe))return te=te.get(ne)||null,ve(J,te,xe,Le,null);Du(J,xe)}return null}function Ne(te,J,ne,xe){for(var Le=null,Ue=null,$e=J,Ve=J=0,gn=null;$e!==null&&Ve<ne.length;Ve++){$e.index>Ve?(gn=$e,$e=null):gn=$e.sibling;var ct=fe(te,$e,ne[Ve],xe);if(ct===null){$e===null&&($e=gn);break}l&&$e&&ct.alternate===null&&u(te,$e),J=_(ct,J,Ve),Ue===null?Le=ct:Ue.sibling=ct,Ue=ct,$e=gn}if(Ve===ne.length)return m(te,$e),Ot&&os(te,Ve),Le;if($e===null){for(;Ve<ne.length;Ve++)$e=ye(te,ne[Ve],xe),$e!==null&&(J=_($e,J,Ve),Ue===null?Le=$e:Ue.sibling=$e,Ue=$e);return Ot&&os(te,Ve),Le}for($e=y(te,$e);Ve<ne.length;Ve++)gn=De($e,te,Ve,ne[Ve],xe),gn!==null&&(l&&gn.alternate!==null&&$e.delete(gn.key===null?Ve:gn.key),J=_(gn,J,Ve),Ue===null?Le=gn:Ue.sibling=gn,Ue=gn);return l&&$e.forEach(function(jo){return u(te,jo)}),Ot&&os(te,Ve),Le}function Ae(te,J,ne,xe){var Le=re(ne);if(typeof Le!="function")throw Error(t(150));if(ne=Le.call(ne),ne==null)throw Error(t(151));for(var Ue=Le=null,$e=J,Ve=J=0,gn=null,ct=ne.next();$e!==null&&!ct.done;Ve++,ct=ne.next()){$e.index>Ve?(gn=$e,$e=null):gn=$e.sibling;var jo=fe(te,$e,ct.value,xe);if(jo===null){$e===null&&($e=gn);break}l&&$e&&jo.alternate===null&&u(te,$e),J=_(jo,J,Ve),Ue===null?Le=jo:Ue.sibling=jo,Ue=jo,$e=gn}if(ct.done)return m(te,$e),Ot&&os(te,Ve),Le;if($e===null){for(;!ct.done;Ve++,ct=ne.next())ct=ye(te,ct.value,xe),ct!==null&&(J=_(ct,J,Ve),Ue===null?Le=ct:Ue.sibling=ct,Ue=ct);return Ot&&os(te,Ve),Le}for($e=y(te,$e);!ct.done;Ve++,ct=ne.next())ct=De($e,te,Ve,ct.value,xe),ct!==null&&(l&&ct.alternate!==null&&$e.delete(ct.key===null?Ve:ct.key),J=_(ct,J,Ve),Ue===null?Le=ct:Ue.sibling=ct,Ue=ct);return l&&$e.forEach(function(AO){return u(te,AO)}),Ot&&os(te,Ve),Le}function Qt(te,J,ne,xe){if(typeof ne=="object"&&ne!==null&&ne.type===I&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case D:e:{for(var Le=ne.key,Ue=J;Ue!==null;){if(Ue.key===Le){if(Le=ne.type,Le===I){if(Ue.tag===7){m(te,Ue.sibling),J=S(Ue,ne.props.children),J.return=te,te=J;break e}}else if(Ue.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===oe&&ew(Le)===Ue.type){m(te,Ue.sibling),J=S(Ue,ne.props),J.ref=dl(te,Ue,ne),J.return=te,te=J;break e}m(te,Ue);break}else u(te,Ue);Ue=Ue.sibling}ne.type===I?(J=fs(ne.props.children,te.mode,xe,ne.key),J.return=te,te=J):(xe=Zu(ne.type,ne.key,ne.props,null,te.mode,xe),xe.ref=dl(te,J,ne),xe.return=te,te=xe)}return N(te);case E:e:{for(Ue=ne.key;J!==null;){if(J.key===Ue)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){m(te,J.sibling),J=S(J,ne.children||[]),J.return=te,te=J;break e}else{m(te,J);break}else u(te,J);J=J.sibling}J=Im(ne,te.mode,xe),J.return=te,te=J}return N(te);case oe:return Ue=ne._init,Qt(te,J,Ue(ne._payload),xe)}if(Wt(ne))return Ne(te,J,ne,xe);if(re(ne))return Ae(te,J,ne,xe);Du(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,J!==null&&J.tag===6?(m(te,J.sibling),J=S(J,ne),J.return=te,te=J):(m(te,J),J=Om(ne,te.mode,xe),J.return=te,te=J),N(te)):m(te,J)}return Qt}var ta=tw(!0),nw=tw(!1),Mu=vo(null),Pu=null,na=null,Up=null;function $p(){Up=na=Pu=null}function Wp(l){var u=Mu.current;Dt(Mu),l._currentValue=u}function Vp(l,u,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===m)break;l=l.return}}function ra(l,u){Pu=l,Up=na=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(ar=!0),l.firstContext=null)}function Fr(l){var u=l._currentValue;if(Up!==l)if(l={context:l,memoizedValue:u,next:null},na===null){if(Pu===null)throw Error(t(308));na=l,Pu.dependencies={lanes:0,firstContext:l}}else na=na.next=l;return u}var ss=null;function qp(l){ss===null?ss=[l]:ss.push(l)}function rw(l,u,m,y){var S=u.interleaved;return S===null?(m.next=m,qp(u)):(m.next=S.next,S.next=m),u.interleaved=m,Vi(l,y)}function Vi(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,m=l.alternate,m!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var xo=!1;function Yp(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iw(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function qi(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function wo(l,u,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(ot&2)!==0){var S=y.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),y.pending=u,Vi(l,m)}return S=y.interleaved,S===null?(u.next=u,qp(y)):(u.next=S.next,S.next=u),y.interleaved=u,Vi(l,m)}function Ou(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,ap(l,m)}}function ow(l,u){var m=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var S=null,_=null;if(m=m.firstBaseUpdate,m!==null){do{var N={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};_===null?S=_=N:_=_.next=N,m=m.next}while(m!==null);_===null?S=_=u:_=_.next=u}else S=_=u;m={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:_,shared:y.shared,effects:y.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Iu(l,u,m,y){var S=l.updateQueue;xo=!1;var _=S.firstBaseUpdate,N=S.lastBaseUpdate,$=S.shared.pending;if($!==null){S.shared.pending=null;var G=$,se=G.next;G.next=null,N===null?_=se:N.next=se,N=G;var ve=l.alternate;ve!==null&&(ve=ve.updateQueue,$=ve.lastBaseUpdate,$!==N&&($===null?ve.firstBaseUpdate=se:$.next=se,ve.lastBaseUpdate=G))}if(_!==null){var ye=S.baseState;N=0,ve=se=G=null,$=_;do{var fe=$.lane,De=$.eventTime;if((y&fe)===fe){ve!==null&&(ve=ve.next={eventTime:De,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ne=l,Ae=$;switch(fe=u,De=m,Ae.tag){case 1:if(Ne=Ae.payload,typeof Ne=="function"){ye=Ne.call(De,ye,fe);break e}ye=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ae.payload,fe=typeof Ne=="function"?Ne.call(De,ye,fe):Ne,fe==null)break e;ye=le({},ye,fe);break e;case 2:xo=!0}}$.callback!==null&&$.lane!==0&&(l.flags|=64,fe=S.effects,fe===null?S.effects=[$]:fe.push($))}else De={eventTime:De,lane:fe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ve===null?(se=ve=De,G=ye):ve=ve.next=De,N|=fe;if($=$.next,$===null){if($=S.shared.pending,$===null)break;fe=$,$=fe.next,fe.next=null,S.lastBaseUpdate=fe,S.shared.pending=null}}while(!0);if(ve===null&&(G=ye),S.baseState=G,S.firstBaseUpdate=se,S.lastBaseUpdate=ve,u=S.shared.interleaved,u!==null){S=u;do N|=S.lane,S=S.next;while(S!==u)}else _===null&&(S.shared.lanes=0);cs|=N,l.lanes=N,l.memoizedState=ye}}function sw(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var y=l[u],S=y.callback;if(S!==null){if(y.callback=null,y=m,typeof S!="function")throw Error(t(191,S));S.call(y)}}}var hl={},Ei=vo(hl),fl=vo(hl),pl=vo(hl);function as(l){if(l===hl)throw Error(t(174));return l}function Gp(l,u){switch(Et(pl,u),Et(fl,l),Et(Ei,hl),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ft(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Ft(u,l)}Dt(Ei),Et(Ei,u)}function ia(){Dt(Ei),Dt(fl),Dt(pl)}function aw(l){as(pl.current);var u=as(Ei.current),m=Ft(u,l.type);u!==m&&(Et(fl,l),Et(Ei,m))}function Xp(l){fl.current===l&&(Dt(Ei),Dt(fl))}var Ht=vo(0);function Nu(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Kp=[];function Jp(){for(var l=0;l<Kp.length;l++)Kp[l]._workInProgressVersionPrimary=null;Kp.length=0}var Ru=T.ReactCurrentDispatcher,Qp=T.ReactCurrentBatchConfig,ls=0,zt=null,cn=null,pn=null,Au=!1,ml=!1,gl=0,iO=0;function Pn(){throw Error(t(321))}function Zp(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!oi(l[m],u[m]))return!1;return!0}function em(l,u,m,y,S,_){if(ls=_,zt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ru.current=l===null||l.memoizedState===null?lO:cO,l=m(y,S),ml){_=0;do{if(ml=!1,gl=0,25<=_)throw Error(t(301));_+=1,pn=cn=null,u.updateQueue=null,Ru.current=uO,l=m(y,S)}while(ml)}if(Ru.current=Fu,u=cn!==null&&cn.next!==null,ls=0,pn=cn=zt=null,Au=!1,u)throw Error(t(300));return l}function tm(){var l=gl!==0;return gl=0,l}function Ci(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?zt.memoizedState=pn=l:pn=pn.next=l,pn}function Hr(){if(cn===null){var l=zt.alternate;l=l!==null?l.memoizedState:null}else l=cn.next;var u=pn===null?zt.memoizedState:pn.next;if(u!==null)pn=u,cn=l;else{if(l===null)throw Error(t(310));cn=l,l={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},pn===null?zt.memoizedState=pn=l:pn=pn.next=l}return pn}function vl(l,u){return typeof u=="function"?u(l):u}function nm(l){var u=Hr(),m=u.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=l;var y=cn,S=y.baseQueue,_=m.pending;if(_!==null){if(S!==null){var N=S.next;S.next=_.next,_.next=N}y.baseQueue=S=_,m.pending=null}if(S!==null){_=S.next,y=y.baseState;var $=N=null,G=null,se=_;do{var ve=se.lane;if((ls&ve)===ve)G!==null&&(G=G.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),y=se.hasEagerState?se.eagerState:l(y,se.action);else{var ye={lane:ve,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};G===null?($=G=ye,N=y):G=G.next=ye,zt.lanes|=ve,cs|=ve}se=se.next}while(se!==null&&se!==_);G===null?N=y:G.next=$,oi(y,u.memoizedState)||(ar=!0),u.memoizedState=y,u.baseState=N,u.baseQueue=G,m.lastRenderedState=y}if(l=m.interleaved,l!==null){S=l;do _=S.lane,zt.lanes|=_,cs|=_,S=S.next;while(S!==l)}else S===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function rm(l){var u=Hr(),m=u.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=l;var y=m.dispatch,S=m.pending,_=u.memoizedState;if(S!==null){m.pending=null;var N=S=S.next;do _=l(_,N.action),N=N.next;while(N!==S);oi(_,u.memoizedState)||(ar=!0),u.memoizedState=_,u.baseQueue===null&&(u.baseState=_),m.lastRenderedState=_}return[_,y]}function lw(){}function cw(l,u){var m=zt,y=Hr(),S=u(),_=!oi(y.memoizedState,S);if(_&&(y.memoizedState=S,ar=!0),y=y.queue,im(hw.bind(null,m,y,l),[l]),y.getSnapshot!==u||_||pn!==null&&pn.memoizedState.tag&1){if(m.flags|=2048,yl(9,dw.bind(null,m,y,S,u),void 0,null),mn===null)throw Error(t(349));(ls&30)!==0||uw(m,u,S)}return S}function uw(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=zt.updateQueue,u===null?(u={lastEffect:null,stores:null},zt.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function dw(l,u,m,y){u.value=m,u.getSnapshot=y,fw(u)&&pw(l)}function hw(l,u,m){return m(function(){fw(u)&&pw(l)})}function fw(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!oi(l,m)}catch{return!0}}function pw(l){var u=Vi(l,1);u!==null&&ui(u,l,1,-1)}function mw(l){var u=Ci();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:l},u.queue=l,l=l.dispatch=aO.bind(null,zt,l),[u.memoizedState,l]}function yl(l,u,m,y){return l={tag:l,create:u,destroy:m,deps:y,next:null},u=zt.updateQueue,u===null?(u={lastEffect:null,stores:null},zt.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect,m===null?u.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,u.lastEffect=l)),l}function gw(){return Hr().memoizedState}function Lu(l,u,m,y){var S=Ci();zt.flags|=l,S.memoizedState=yl(1|u,m,void 0,y===void 0?null:y)}function Bu(l,u,m,y){var S=Hr();y=y===void 0?null:y;var _=void 0;if(cn!==null){var N=cn.memoizedState;if(_=N.destroy,y!==null&&Zp(y,N.deps)){S.memoizedState=yl(u,m,_,y);return}}zt.flags|=l,S.memoizedState=yl(1|u,m,_,y)}function vw(l,u){return Lu(8390656,8,l,u)}function im(l,u){return Bu(2048,8,l,u)}function yw(l,u){return Bu(4,2,l,u)}function bw(l,u){return Bu(4,4,l,u)}function xw(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function ww(l,u,m){return m=m!=null?m.concat([l]):null,Bu(4,4,xw.bind(null,u,l),m)}function om(){}function Sw(l,u){var m=Hr();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&Zp(u,y[1])?y[0]:(m.memoizedState=[l,u],l)}function kw(l,u){var m=Hr();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&Zp(u,y[1])?y[0]:(l=l(),m.memoizedState=[l,u],l)}function Ew(l,u,m){return(ls&21)===0?(l.baseState&&(l.baseState=!1,ar=!0),l.memoizedState=m):(oi(m,u)||(m=e0(),zt.lanes|=m,cs|=m,l.baseState=!0),u)}function oO(l,u){var m=yt;yt=m!==0&&4>m?m:4,l(!0);var y=Qp.transition;Qp.transition={};try{l(!1),u()}finally{yt=m,Qp.transition=y}}function Cw(){return Hr().memoizedState}function sO(l,u,m){var y=Co(l);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},_w(l))Tw(u,m);else if(m=rw(l,u,m,y),m!==null){var S=qn();ui(m,l,y,S),jw(m,u,y)}}function aO(l,u,m){var y=Co(l),S={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(_w(l))Tw(u,S);else{var _=l.alternate;if(l.lanes===0&&(_===null||_.lanes===0)&&(_=u.lastRenderedReducer,_!==null))try{var N=u.lastRenderedState,$=_(N,m);if(S.hasEagerState=!0,S.eagerState=$,oi($,N)){var G=u.interleaved;G===null?(S.next=S,qp(u)):(S.next=G.next,G.next=S),u.interleaved=S;return}}catch{}finally{}m=rw(l,u,S,y),m!==null&&(S=qn(),ui(m,l,y,S),jw(m,u,y))}}function _w(l){var u=l.alternate;return l===zt||u!==null&&u===zt}function Tw(l,u){ml=Au=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function jw(l,u,m){if((m&4194240)!==0){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,ap(l,m)}}var Fu={readContext:Fr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},lO={readContext:Fr,useCallback:function(l,u){return Ci().memoizedState=[l,u===void 0?null:u],l},useContext:Fr,useEffect:vw,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,Lu(4194308,4,xw.bind(null,u,l),m)},useLayoutEffect:function(l,u){return Lu(4194308,4,l,u)},useInsertionEffect:function(l,u){return Lu(4,2,l,u)},useMemo:function(l,u){var m=Ci();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var y=Ci();return u=m!==void 0?m(u):u,y.memoizedState=y.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},y.queue=l,l=l.dispatch=sO.bind(null,zt,l),[y.memoizedState,l]},useRef:function(l){var u=Ci();return l={current:l},u.memoizedState=l},useState:mw,useDebugValue:om,useDeferredValue:function(l){return Ci().memoizedState=l},useTransition:function(){var l=mw(!1),u=l[0];return l=oO.bind(null,l[1]),Ci().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var y=zt,S=Ci();if(Ot){if(m===void 0)throw Error(t(407));m=m()}else{if(m=u(),mn===null)throw Error(t(349));(ls&30)!==0||uw(y,u,m)}S.memoizedState=m;var _={value:m,getSnapshot:u};return S.queue=_,vw(hw.bind(null,y,_,l),[l]),y.flags|=2048,yl(9,dw.bind(null,y,_,m,u),void 0,null),m},useId:function(){var l=Ci(),u=mn.identifierPrefix;if(Ot){var m=Wi,y=$i;m=(y&~(1<<32-fn(y)-1)).toString(32)+m,u=":"+u+"R"+m,m=gl++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=iO++,u=":"+u+"r"+m.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},cO={readContext:Fr,useCallback:Sw,useContext:Fr,useEffect:im,useImperativeHandle:ww,useInsertionEffect:yw,useLayoutEffect:bw,useMemo:kw,useReducer:nm,useRef:gw,useState:function(){return nm(vl)},useDebugValue:om,useDeferredValue:function(l){var u=Hr();return Ew(u,cn.memoizedState,l)},useTransition:function(){var l=nm(vl)[0],u=Hr().memoizedState;return[l,u]},useMutableSource:lw,useSyncExternalStore:cw,useId:Cw,unstable_isNewReconciler:!1},uO={readContext:Fr,useCallback:Sw,useContext:Fr,useEffect:im,useImperativeHandle:ww,useInsertionEffect:yw,useLayoutEffect:bw,useMemo:kw,useReducer:rm,useRef:gw,useState:function(){return rm(vl)},useDebugValue:om,useDeferredValue:function(l){var u=Hr();return cn===null?u.memoizedState=l:Ew(u,cn.memoizedState,l)},useTransition:function(){var l=rm(vl)[0],u=Hr().memoizedState;return[l,u]},useMutableSource:lw,useSyncExternalStore:cw,useId:Cw,unstable_isNewReconciler:!1};function ai(l,u){if(l&&l.defaultProps){u=le({},u),l=l.defaultProps;for(var m in l)u[m]===void 0&&(u[m]=l[m]);return u}return u}function sm(l,u,m,y){u=l.memoizedState,m=m(y,u),m=m==null?u:le({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Hu={isMounted:function(l){return(l=l._reactInternals)?Je(l)===l:!1},enqueueSetState:function(l,u,m){l=l._reactInternals;var y=qn(),S=Co(l),_=qi(y,S);_.payload=u,m!=null&&(_.callback=m),u=wo(l,_,S),u!==null&&(ui(u,l,S,y),Ou(u,l,S))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var y=qn(),S=Co(l),_=qi(y,S);_.tag=1,_.payload=u,m!=null&&(_.callback=m),u=wo(l,_,S),u!==null&&(ui(u,l,S,y),Ou(u,l,S))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=qn(),y=Co(l),S=qi(m,y);S.tag=2,u!=null&&(S.callback=u),u=wo(l,S,y),u!==null&&(ui(u,l,y,m),Ou(u,l,y))}};function Dw(l,u,m,y,S,_,N){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,_,N):u.prototype&&u.prototype.isPureReactComponent?!il(m,y)||!il(S,_):!0}function Mw(l,u,m){var y=!1,S=yo,_=u.contextType;return typeof _=="object"&&_!==null?_=Fr(_):(S=sr(u)?rs:Mn.current,y=u.contextTypes,_=(y=y!=null)?Js(l,S):yo),u=new u(m,_),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Hu,l.stateNode=u,u._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=_),u}function Pw(l,u,m,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,y),u.state!==l&&Hu.enqueueReplaceState(u,u.state,null)}function am(l,u,m,y){var S=l.stateNode;S.props=m,S.state=l.memoizedState,S.refs={},Yp(l);var _=u.contextType;typeof _=="object"&&_!==null?S.context=Fr(_):(_=sr(u)?rs:Mn.current,S.context=Js(l,_)),S.state=l.memoizedState,_=u.getDerivedStateFromProps,typeof _=="function"&&(sm(l,u,_,m),S.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&Hu.enqueueReplaceState(S,S.state,null),Iu(l,m,S,y),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function oa(l,u){try{var m="",y=u;do m+=ke(y),y=y.return;while(y);var S=m}catch(_){S=`
Error generating stack: `+_.message+`
`+_.stack}return{value:l,source:u,stack:S,digest:null}}function lm(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function cm(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var dO=typeof WeakMap=="function"?WeakMap:Map;function Ow(l,u,m){m=qi(-1,m),m.tag=3,m.payload={element:null};var y=u.value;return m.callback=function(){Yu||(Yu=!0,Em=y),cm(l,u)},m}function Iw(l,u,m){m=qi(-1,m),m.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var S=u.value;m.payload=function(){return y(S)},m.callback=function(){cm(l,u)}}var _=l.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(m.callback=function(){cm(l,u),typeof y!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})}),m}function Nw(l,u,m){var y=l.pingCache;if(y===null){y=l.pingCache=new dO;var S=new Set;y.set(u,S)}else S=y.get(u),S===void 0&&(S=new Set,y.set(u,S));S.has(m)||(S.add(m),l=CO.bind(null,l,u,m),u.then(l,l))}function Rw(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function Aw(l,u,m,y,S){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=qi(-1,1),u.tag=2,wo(m,u,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var hO=T.ReactCurrentOwner,ar=!1;function Vn(l,u,m,y){u.child=l===null?nw(u,null,m,y):ta(u,l.child,m,y)}function Lw(l,u,m,y,S){m=m.render;var _=u.ref;return ra(u,S),y=em(l,u,m,y,_,S),m=tm(),l!==null&&!ar?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Yi(l,u,S)):(Ot&&m&&Lp(u),u.flags|=1,Vn(l,u,y,S),u.child)}function Bw(l,u,m,y,S){if(l===null){var _=m.type;return typeof _=="function"&&!Pm(_)&&_.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=_,Fw(l,u,_,y,S)):(l=Zu(m.type,null,y,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(_=l.child,(l.lanes&S)===0){var N=_.memoizedProps;if(m=m.compare,m=m!==null?m:il,m(N,y)&&l.ref===u.ref)return Yi(l,u,S)}return u.flags|=1,l=To(_,y),l.ref=u.ref,l.return=u,u.child=l}function Fw(l,u,m,y,S){if(l!==null){var _=l.memoizedProps;if(il(_,y)&&l.ref===u.ref)if(ar=!1,u.pendingProps=y=_,(l.lanes&S)!==0)(l.flags&131072)!==0&&(ar=!0);else return u.lanes=l.lanes,Yi(l,u,S)}return um(l,u,m,y,S)}function Hw(l,u,m){var y=u.pendingProps,S=y.children,_=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(aa,kr),kr|=m;else{if((m&1073741824)===0)return l=_!==null?_.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Et(aa,kr),kr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=_!==null?_.baseLanes:m,Et(aa,kr),kr|=y}else _!==null?(y=_.baseLanes|m,u.memoizedState=null):y=m,Et(aa,kr),kr|=y;return Vn(l,u,S,m),u.child}function zw(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function um(l,u,m,y,S){var _=sr(m)?rs:Mn.current;return _=Js(u,_),ra(u,S),m=em(l,u,m,y,_,S),y=tm(),l!==null&&!ar?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Yi(l,u,S)):(Ot&&y&&Lp(u),u.flags|=1,Vn(l,u,m,S),u.child)}function Uw(l,u,m,y,S){if(sr(m)){var _=!0;Eu(u)}else _=!1;if(ra(u,S),u.stateNode===null)Uu(l,u),Mw(u,m,y),am(u,m,y,S),y=!0;else if(l===null){var N=u.stateNode,$=u.memoizedProps;N.props=$;var G=N.context,se=m.contextType;typeof se=="object"&&se!==null?se=Fr(se):(se=sr(m)?rs:Mn.current,se=Js(u,se));var ve=m.getDerivedStateFromProps,ye=typeof ve=="function"||typeof N.getSnapshotBeforeUpdate=="function";ye||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||($!==y||G!==se)&&Pw(u,N,y,se),xo=!1;var fe=u.memoizedState;N.state=fe,Iu(u,y,N,S),G=u.memoizedState,$!==y||fe!==G||or.current||xo?(typeof ve=="function"&&(sm(u,m,ve,y),G=u.memoizedState),($=xo||Dw(u,m,$,y,fe,G,se))?(ye||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=G),N.props=y,N.state=G,N.context=se,y=$):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{N=u.stateNode,iw(l,u),$=u.memoizedProps,se=u.type===u.elementType?$:ai(u.type,$),N.props=se,ye=u.pendingProps,fe=N.context,G=m.contextType,typeof G=="object"&&G!==null?G=Fr(G):(G=sr(m)?rs:Mn.current,G=Js(u,G));var De=m.getDerivedStateFromProps;(ve=typeof De=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||($!==ye||fe!==G)&&Pw(u,N,y,G),xo=!1,fe=u.memoizedState,N.state=fe,Iu(u,y,N,S);var Ne=u.memoizedState;$!==ye||fe!==Ne||or.current||xo?(typeof De=="function"&&(sm(u,m,De,y),Ne=u.memoizedState),(se=xo||Dw(u,m,se,y,fe,Ne,G)||!1)?(ve||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(y,Ne,G),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(y,Ne,G)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||$===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Ne),N.props=y,N.state=Ne,N.context=G,y=se):(typeof N.componentDidUpdate!="function"||$===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),y=!1)}return dm(l,u,m,y,_,S)}function dm(l,u,m,y,S,_){zw(l,u);var N=(u.flags&128)!==0;if(!y&&!N)return S&&Y0(u,m,!1),Yi(l,u,_);y=u.stateNode,hO.current=u;var $=N&&typeof m.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,l!==null&&N?(u.child=ta(u,l.child,null,_),u.child=ta(u,null,$,_)):Vn(l,u,$,_),u.memoizedState=y.state,S&&Y0(u,m,!0),u.child}function $w(l){var u=l.stateNode;u.pendingContext?V0(l,u.pendingContext,u.pendingContext!==u.context):u.context&&V0(l,u.context,!1),Gp(l,u.containerInfo)}function Ww(l,u,m,y,S){return ea(),zp(S),u.flags|=256,Vn(l,u,m,y),u.child}var hm={dehydrated:null,treeContext:null,retryLane:0};function fm(l){return{baseLanes:l,cachePool:null,transitions:null}}function Vw(l,u,m){var y=u.pendingProps,S=Ht.current,_=!1,N=(u.flags&128)!==0,$;if(($=N)||($=l!==null&&l.memoizedState===null?!1:(S&2)!==0),$?(_=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),Et(Ht,S&1),l===null)return Hp(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(N=y.children,l=y.fallback,_?(y=u.mode,_=u.child,N={mode:"hidden",children:N},(y&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=N):_=ed(N,y,0,null),l=fs(l,y,m,null),_.return=u,l.return=u,_.sibling=l,u.child=_,u.child.memoizedState=fm(m),u.memoizedState=hm,l):pm(u,N));if(S=l.memoizedState,S!==null&&($=S.dehydrated,$!==null))return fO(l,u,N,y,$,S,m);if(_){_=y.fallback,N=u.mode,S=l.child,$=S.sibling;var G={mode:"hidden",children:y.children};return(N&1)===0&&u.child!==S?(y=u.child,y.childLanes=0,y.pendingProps=G,u.deletions=null):(y=To(S,G),y.subtreeFlags=S.subtreeFlags&14680064),$!==null?_=To($,_):(_=fs(_,N,m,null),_.flags|=2),_.return=u,y.return=u,y.sibling=_,u.child=y,y=_,_=u.child,N=l.child.memoizedState,N=N===null?fm(m):{baseLanes:N.baseLanes|m,cachePool:null,transitions:N.transitions},_.memoizedState=N,_.childLanes=l.childLanes&~m,u.memoizedState=hm,y}return _=l.child,l=_.sibling,y=To(_,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=m),y.return=u,y.sibling=null,l!==null&&(m=u.deletions,m===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=y,u.memoizedState=null,y}function pm(l,u){return u=ed({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function zu(l,u,m,y){return y!==null&&zp(y),ta(u,l.child,null,m),l=pm(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function fO(l,u,m,y,S,_,N){if(m)return u.flags&256?(u.flags&=-257,y=lm(Error(t(422))),zu(l,u,N,y)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(_=y.fallback,S=u.mode,y=ed({mode:"visible",children:y.children},S,0,null),_=fs(_,S,N,null),_.flags|=2,y.return=u,_.return=u,y.sibling=_,u.child=y,(u.mode&1)!==0&&ta(u,l.child,null,N),u.child.memoizedState=fm(N),u.memoizedState=hm,_);if((u.mode&1)===0)return zu(l,u,N,null);if(S.data==="$!"){if(y=S.nextSibling&&S.nextSibling.dataset,y)var $=y.dgst;return y=$,_=Error(t(419)),y=lm(_,y,void 0),zu(l,u,N,y)}if($=(N&l.childLanes)!==0,ar||$){if(y=mn,y!==null){switch(N&-N){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(y.suspendedLanes|N))!==0?0:S,S!==0&&S!==_.retryLane&&(_.retryLane=S,Vi(l,S),ui(y,l,S,-1))}return Mm(),y=lm(Error(t(421))),zu(l,u,N,y)}return S.data==="$?"?(u.flags|=128,u.child=l.child,u=_O.bind(null,l),S._reactRetry=u,null):(l=_.treeContext,Sr=go(S.nextSibling),wr=u,Ot=!0,si=null,l!==null&&(Lr[Br++]=$i,Lr[Br++]=Wi,Lr[Br++]=is,$i=l.id,Wi=l.overflow,is=u),u=pm(u,y.children),u.flags|=4096,u)}function qw(l,u,m){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),Vp(l.return,u,m)}function mm(l,u,m,y,S){var _=l.memoizedState;_===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:S}:(_.isBackwards=u,_.rendering=null,_.renderingStartTime=0,_.last=y,_.tail=m,_.tailMode=S)}function Yw(l,u,m){var y=u.pendingProps,S=y.revealOrder,_=y.tail;if(Vn(l,u,y.children,m),y=Ht.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&qw(l,m,u);else if(l.tag===19)qw(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(Et(Ht,y),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(m=u.child,S=null;m!==null;)l=m.alternate,l!==null&&Nu(l)===null&&(S=m),m=m.sibling;m=S,m===null?(S=u.child,u.child=null):(S=m.sibling,m.sibling=null),mm(u,!1,S,m,_);break;case"backwards":for(m=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Nu(l)===null){u.child=S;break}l=S.sibling,S.sibling=m,m=S,S=l}mm(u,!0,m,null,_);break;case"together":mm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Uu(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Yi(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),cs|=u.lanes,(m&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(t(153));if(u.child!==null){for(l=u.child,m=To(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=To(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function pO(l,u,m){switch(u.tag){case 3:$w(u),ea();break;case 5:aw(u);break;case 1:sr(u.type)&&Eu(u);break;case 4:Gp(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,S=u.memoizedProps.value;Et(Mu,y._currentValue),y._currentValue=S;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(Et(Ht,Ht.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?Vw(l,u,m):(Et(Ht,Ht.current&1),l=Yi(l,u,m),l!==null?l.sibling:null);Et(Ht,Ht.current&1);break;case 19:if(y=(m&u.childLanes)!==0,(l.flags&128)!==0){if(y)return Yw(l,u,m);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Et(Ht,Ht.current),y)break;return null;case 22:case 23:return u.lanes=0,Hw(l,u,m)}return Yi(l,u,m)}var Gw,gm,Xw,Kw;Gw=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},gm=function(){},Xw=function(l,u,m,y){var S=l.memoizedProps;if(S!==y){l=u.stateNode,as(Ei.current);var _=null;switch(m){case"input":S=lt(l,S),y=lt(l,y),_=[];break;case"select":S=le({},S,{value:void 0}),y=le({},y,{value:void 0}),_=[];break;case"textarea":S=ln(l,S),y=ln(l,y),_=[];break;default:typeof S.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=wu)}br(m,y);var N;m=null;for(se in S)if(!y.hasOwnProperty(se)&&S.hasOwnProperty(se)&&S[se]!=null)if(se==="style"){var $=S[se];for(N in $)$.hasOwnProperty(N)&&(m||(m={}),m[N]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?_||(_=[]):(_=_||[]).push(se,null));for(se in y){var G=y[se];if($=S!=null?S[se]:void 0,y.hasOwnProperty(se)&&G!==$&&(G!=null||$!=null))if(se==="style")if($){for(N in $)!$.hasOwnProperty(N)||G&&G.hasOwnProperty(N)||(m||(m={}),m[N]="");for(N in G)G.hasOwnProperty(N)&&$[N]!==G[N]&&(m||(m={}),m[N]=G[N])}else m||(_||(_=[]),_.push(se,m)),m=G;else se==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,$=$?$.__html:void 0,G!=null&&$!==G&&(_=_||[]).push(se,G)):se==="children"?typeof G!="string"&&typeof G!="number"||(_=_||[]).push(se,""+G):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(G!=null&&se==="onScroll"&&jt("scroll",l),_||$===G||(_=[])):(_=_||[]).push(se,G))}m&&(_=_||[]).push("style",m);var se=_;(u.updateQueue=se)&&(u.flags|=4)}},Kw=function(l,u,m,y){m!==y&&(u.flags|=4)};function bl(l,u){if(!Ot)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function On(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(u)for(var S=l.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags&14680064,y|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=y,l.childLanes=m,u}function mO(l,u,m){var y=u.pendingProps;switch(Bp(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(u),null;case 1:return sr(u.type)&&ku(),On(u),null;case 3:return y=u.stateNode,ia(),Dt(or),Dt(Mn),Jp(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(ju(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,si!==null&&(Tm(si),si=null))),gm(l,u),On(u),null;case 5:Xp(u);var S=as(pl.current);if(m=u.type,l!==null&&u.stateNode!=null)Xw(l,u,m,y,S),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(t(166));return On(u),null}if(l=as(Ei.current),ju(u)){y=u.stateNode,m=u.type;var _=u.memoizedProps;switch(y[ki]=u,y[cl]=_,l=(u.mode&1)!==0,m){case"dialog":jt("cancel",y),jt("close",y);break;case"iframe":case"object":case"embed":jt("load",y);break;case"video":case"audio":for(S=0;S<sl.length;S++)jt(sl[S],y);break;case"source":jt("error",y);break;case"img":case"image":case"link":jt("error",y),jt("load",y);break;case"details":jt("toggle",y);break;case"input":_t(y,_),jt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!_.multiple},jt("invalid",y);break;case"textarea":Un(y,_),jt("invalid",y)}br(m,_),S=null;for(var N in _)if(_.hasOwnProperty(N)){var $=_[N];N==="children"?typeof $=="string"?y.textContent!==$&&(_.suppressHydrationWarning!==!0&&xu(y.textContent,$,l),S=["children",$]):typeof $=="number"&&y.textContent!==""+$&&(_.suppressHydrationWarning!==!0&&xu(y.textContent,$,l),S=["children",""+$]):i.hasOwnProperty(N)&&$!=null&&N==="onScroll"&&jt("scroll",y)}switch(m){case"input":Ke(y),Nr(y,_,!0);break;case"textarea":Ke(y),yr(y);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(y.onclick=wu)}y=S,u.updateQueue=y,y!==null&&(u.flags|=4)}else{N=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=$n(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=N.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=N.createElement(m,{is:y.is}):(l=N.createElement(m),m==="select"&&(N=l,y.multiple?N.multiple=!0:y.size&&(N.size=y.size))):l=N.createElementNS(l,m),l[ki]=u,l[cl]=y,Gw(l,u,!1,!1),u.stateNode=l;e:{switch(N=tr(m,y),m){case"dialog":jt("cancel",l),jt("close",l),S=y;break;case"iframe":case"object":case"embed":jt("load",l),S=y;break;case"video":case"audio":for(S=0;S<sl.length;S++)jt(sl[S],l);S=y;break;case"source":jt("error",l),S=y;break;case"img":case"image":case"link":jt("error",l),jt("load",l),S=y;break;case"details":jt("toggle",l),S=y;break;case"input":_t(l,y),S=lt(l,y),jt("invalid",l);break;case"option":S=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},S=le({},y,{value:void 0}),jt("invalid",l);break;case"textarea":Un(l,y),S=ln(l,y),jt("invalid",l);break;default:S=y}br(m,S),$=S;for(_ in $)if($.hasOwnProperty(_)){var G=$[_];_==="style"?Fi(l,G):_==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Wn(l,G)):_==="children"?typeof G=="string"?(m!=="textarea"||G!=="")&&Rr(l,G):typeof G=="number"&&Rr(l,""+G):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?G!=null&&_==="onScroll"&&jt("scroll",l):G!=null&&M(l,_,G,N))}switch(m){case"input":Ke(l),Nr(l,y,!1);break;case"textarea":Ke(l),yr(l);break;case"option":y.value!=null&&l.setAttribute("value",""+we(y.value));break;case"select":l.multiple=!!y.multiple,_=y.value,_!=null?zn(l,!!y.multiple,_,!1):y.defaultValue!=null&&zn(l,!!y.multiple,y.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=wu)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return On(u),null;case 6:if(l&&u.stateNode!=null)Kw(l,u,l.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(t(166));if(m=as(pl.current),as(Ei.current),ju(u)){if(y=u.stateNode,m=u.memoizedProps,y[ki]=u,(_=y.nodeValue!==m)&&(l=wr,l!==null))switch(l.tag){case 3:xu(y.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&xu(y.nodeValue,m,(l.mode&1)!==0)}_&&(u.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[ki]=u,u.stateNode=y}return On(u),null;case 13:if(Dt(Ht),y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Ot&&Sr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Z0(),ea(),u.flags|=98560,_=!1;else if(_=ju(u),y!==null&&y.dehydrated!==null){if(l===null){if(!_)throw Error(t(318));if(_=u.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[ki]=u}else ea(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;On(u),_=!1}else si!==null&&(Tm(si),si=null),_=!0;if(!_)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Ht.current&1)!==0?un===0&&(un=3):Mm())),u.updateQueue!==null&&(u.flags|=4),On(u),null);case 4:return ia(),gm(l,u),l===null&&al(u.stateNode.containerInfo),On(u),null;case 10:return Wp(u.type._context),On(u),null;case 17:return sr(u.type)&&ku(),On(u),null;case 19:if(Dt(Ht),_=u.memoizedState,_===null)return On(u),null;if(y=(u.flags&128)!==0,N=_.rendering,N===null)if(y)bl(_,!1);else{if(un!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(N=Nu(l),N!==null){for(u.flags|=128,bl(_,!1),y=N.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=m,m=u.child;m!==null;)_=m,l=y,_.flags&=14680066,N=_.alternate,N===null?(_.childLanes=0,_.lanes=l,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=N.childLanes,_.lanes=N.lanes,_.child=N.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=N.memoizedProps,_.memoizedState=N.memoizedState,_.updateQueue=N.updateQueue,_.type=N.type,l=N.dependencies,_.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return Et(Ht,Ht.current&1|2),u.child}l=l.sibling}_.tail!==null&&kt()>la&&(u.flags|=128,y=!0,bl(_,!1),u.lanes=4194304)}else{if(!y)if(l=Nu(N),l!==null){if(u.flags|=128,y=!0,m=l.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),bl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!N.alternate&&!Ot)return On(u),null}else 2*kt()-_.renderingStartTime>la&&m!==1073741824&&(u.flags|=128,y=!0,bl(_,!1),u.lanes=4194304);_.isBackwards?(N.sibling=u.child,u.child=N):(m=_.last,m!==null?m.sibling=N:u.child=N,_.last=N)}return _.tail!==null?(u=_.tail,_.rendering=u,_.tail=u.sibling,_.renderingStartTime=kt(),u.sibling=null,m=Ht.current,Et(Ht,y?m&1|2:m&1),u):(On(u),null);case 22:case 23:return Dm(),y=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(kr&1073741824)!==0&&(On(u),u.subtreeFlags&6&&(u.flags|=8192)):On(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function gO(l,u){switch(Bp(u),u.tag){case 1:return sr(u.type)&&ku(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return ia(),Dt(or),Dt(Mn),Jp(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Xp(u),null;case 13:if(Dt(Ht),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(t(340));ea()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Dt(Ht),null;case 4:return ia(),null;case 10:return Wp(u.type._context),null;case 22:case 23:return Dm(),null;case 24:return null;default:return null}}var $u=!1,In=!1,vO=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function sa(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){qt(l,u,y)}else m.current=null}function vm(l,u,m){try{m()}catch(y){qt(l,u,y)}}var Jw=!1;function yO(l,u){if(Dp=cu,l=D0(),wp(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var S=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{m.nodeType,_.nodeType}catch{m=null;break e}var N=0,$=-1,G=-1,se=0,ve=0,ye=l,fe=null;t:for(;;){for(var De;ye!==m||S!==0&&ye.nodeType!==3||($=N+S),ye!==_||y!==0&&ye.nodeType!==3||(G=N+y),ye.nodeType===3&&(N+=ye.nodeValue.length),(De=ye.firstChild)!==null;)fe=ye,ye=De;for(;;){if(ye===l)break t;if(fe===m&&++se===S&&($=N),fe===_&&++ve===y&&(G=N),(De=ye.nextSibling)!==null)break;ye=fe,fe=ye.parentNode}ye=De}m=$===-1||G===-1?null:{start:$,end:G}}else m=null}m=m||{start:0,end:0}}else m=null;for(Mp={focusedElem:l,selectionRange:m},cu=!1,Oe=u;Oe!==null;)if(u=Oe,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Oe=l;else for(;Oe!==null;){u=Oe;try{var Ne=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Ae=Ne.memoizedProps,Qt=Ne.memoizedState,te=u.stateNode,J=te.getSnapshotBeforeUpdate(u.elementType===u.type?Ae:ai(u.type,Ae),Qt);te.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var ne=u.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(xe){qt(u,u.return,xe)}if(l=u.sibling,l!==null){l.return=u.return,Oe=l;break}Oe=u.return}return Ne=Jw,Jw=!1,Ne}function xl(l,u,m){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var S=y=y.next;do{if((S.tag&l)===l){var _=S.destroy;S.destroy=void 0,_!==void 0&&vm(u,m,_)}S=S.next}while(S!==y)}}function Wu(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&l)===l){var y=m.create;m.destroy=y()}m=m.next}while(m!==u)}}function ym(l){var u=l.ref;if(u!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof u=="function"?u(l):u.current=l}}function Qw(l){var u=l.alternate;u!==null&&(l.alternate=null,Qw(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[ki],delete u[cl],delete u[Np],delete u[eO],delete u[tO])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Zw(l){return l.tag===5||l.tag===3||l.tag===4}function e1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Zw(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function bm(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(l,u):m.insertBefore(l,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(l,m)):(u=m,u.appendChild(l)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=wu));else if(y!==4&&(l=l.child,l!==null))for(bm(l,u,m),l=l.sibling;l!==null;)bm(l,u,m),l=l.sibling}function xm(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(xm(l,u,m),l=l.sibling;l!==null;)xm(l,u,m),l=l.sibling}var Sn=null,li=!1;function So(l,u,m){for(m=m.child;m!==null;)t1(l,u,m),m=m.sibling}function t1(l,u,m){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Hi,m)}catch{}switch(m.tag){case 5:In||sa(m,u);case 6:var y=Sn,S=li;Sn=null,So(l,u,m),Sn=y,li=S,Sn!==null&&(li?(l=Sn,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):Sn.removeChild(m.stateNode));break;case 18:Sn!==null&&(li?(l=Sn,m=m.stateNode,l.nodeType===8?Ip(l.parentNode,m):l.nodeType===1&&Ip(l,m),Qa(l)):Ip(Sn,m.stateNode));break;case 4:y=Sn,S=li,Sn=m.stateNode.containerInfo,li=!0,So(l,u,m),Sn=y,li=S;break;case 0:case 11:case 14:case 15:if(!In&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){S=y=y.next;do{var _=S,N=_.destroy;_=_.tag,N!==void 0&&((_&2)!==0||(_&4)!==0)&&vm(m,u,N),S=S.next}while(S!==y)}So(l,u,m);break;case 1:if(!In&&(sa(m,u),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch($){qt(m,u,$)}So(l,u,m);break;case 21:So(l,u,m);break;case 22:m.mode&1?(In=(y=In)||m.memoizedState!==null,So(l,u,m),In=y):So(l,u,m);break;default:So(l,u,m)}}function n1(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new vO),u.forEach(function(y){var S=TO.bind(null,l,y);m.has(y)||(m.add(y),y.then(S,S))})}}function ci(l,u){var m=u.deletions;if(m!==null)for(var y=0;y<m.length;y++){var S=m[y];try{var _=l,N=u,$=N;e:for(;$!==null;){switch($.tag){case 5:Sn=$.stateNode,li=!1;break e;case 3:Sn=$.stateNode.containerInfo,li=!0;break e;case 4:Sn=$.stateNode.containerInfo,li=!0;break e}$=$.return}if(Sn===null)throw Error(t(160));t1(_,N,S),Sn=null,li=!1;var G=S.alternate;G!==null&&(G.return=null),S.return=null}catch(se){qt(S,u,se)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)r1(u,l),u=u.sibling}function r1(l,u){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ci(u,l),_i(l),y&4){try{xl(3,l,l.return),Wu(3,l)}catch(Ae){qt(l,l.return,Ae)}try{xl(5,l,l.return)}catch(Ae){qt(l,l.return,Ae)}}break;case 1:ci(u,l),_i(l),y&512&&m!==null&&sa(m,m.return);break;case 5:if(ci(u,l),_i(l),y&512&&m!==null&&sa(m,m.return),l.flags&32){var S=l.stateNode;try{Rr(S,"")}catch(Ae){qt(l,l.return,Ae)}}if(y&4&&(S=l.stateNode,S!=null)){var _=l.memoizedProps,N=m!==null?m.memoizedProps:_,$=l.type,G=l.updateQueue;if(l.updateQueue=null,G!==null)try{$==="input"&&_.type==="radio"&&_.name!=null&&an(S,_),tr($,N);var se=tr($,_);for(N=0;N<G.length;N+=2){var ve=G[N],ye=G[N+1];ve==="style"?Fi(S,ye):ve==="dangerouslySetInnerHTML"?Wn(S,ye):ve==="children"?Rr(S,ye):M(S,ve,ye,se)}switch($){case"input":Tn(S,_);break;case"textarea":ei(S,_);break;case"select":var fe=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!_.multiple;var De=_.value;De!=null?zn(S,!!_.multiple,De,!1):fe!==!!_.multiple&&(_.defaultValue!=null?zn(S,!!_.multiple,_.defaultValue,!0):zn(S,!!_.multiple,_.multiple?[]:"",!1))}S[cl]=_}catch(Ae){qt(l,l.return,Ae)}}break;case 6:if(ci(u,l),_i(l),y&4){if(l.stateNode===null)throw Error(t(162));S=l.stateNode,_=l.memoizedProps;try{S.nodeValue=_}catch(Ae){qt(l,l.return,Ae)}}break;case 3:if(ci(u,l),_i(l),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Qa(u.containerInfo)}catch(Ae){qt(l,l.return,Ae)}break;case 4:ci(u,l),_i(l);break;case 13:ci(u,l),_i(l),S=l.child,S.flags&8192&&(_=S.memoizedState!==null,S.stateNode.isHidden=_,!_||S.alternate!==null&&S.alternate.memoizedState!==null||(km=kt())),y&4&&n1(l);break;case 22:if(ve=m!==null&&m.memoizedState!==null,l.mode&1?(In=(se=In)||ve,ci(u,l),In=se):ci(u,l),_i(l),y&8192){if(se=l.memoizedState!==null,(l.stateNode.isHidden=se)&&!ve&&(l.mode&1)!==0)for(Oe=l,ve=l.child;ve!==null;){for(ye=Oe=ve;Oe!==null;){switch(fe=Oe,De=fe.child,fe.tag){case 0:case 11:case 14:case 15:xl(4,fe,fe.return);break;case 1:sa(fe,fe.return);var Ne=fe.stateNode;if(typeof Ne.componentWillUnmount=="function"){y=fe,m=fe.return;try{u=y,Ne.props=u.memoizedProps,Ne.state=u.memoizedState,Ne.componentWillUnmount()}catch(Ae){qt(y,m,Ae)}}break;case 5:sa(fe,fe.return);break;case 22:if(fe.memoizedState!==null){s1(ye);continue}}De!==null?(De.return=fe,Oe=De):s1(ye)}ve=ve.sibling}e:for(ve=null,ye=l;;){if(ye.tag===5){if(ve===null){ve=ye;try{S=ye.stateNode,se?(_=S.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):($=ye.stateNode,G=ye.memoizedProps.style,N=G!=null&&G.hasOwnProperty("display")?G.display:null,$.style.display=Bi("display",N))}catch(Ae){qt(l,l.return,Ae)}}}else if(ye.tag===6){if(ve===null)try{ye.stateNode.nodeValue=se?"":ye.memoizedProps}catch(Ae){qt(l,l.return,Ae)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===l)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===l)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===l)break e;ve===ye&&(ve=null),ye=ye.return}ve===ye&&(ve=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:ci(u,l),_i(l),y&4&&n1(l);break;case 21:break;default:ci(u,l),_i(l)}}function _i(l){var u=l.flags;if(u&2){try{e:{for(var m=l.return;m!==null;){if(Zw(m)){var y=m;break e}m=m.return}throw Error(t(160))}switch(y.tag){case 5:var S=y.stateNode;y.flags&32&&(Rr(S,""),y.flags&=-33);var _=e1(l);xm(l,_,S);break;case 3:case 4:var N=y.stateNode.containerInfo,$=e1(l);bm(l,$,N);break;default:throw Error(t(161))}}catch(G){qt(l,l.return,G)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function bO(l,u,m){Oe=l,i1(l)}function i1(l,u,m){for(var y=(l.mode&1)!==0;Oe!==null;){var S=Oe,_=S.child;if(S.tag===22&&y){var N=S.memoizedState!==null||$u;if(!N){var $=S.alternate,G=$!==null&&$.memoizedState!==null||In;$=$u;var se=In;if($u=N,(In=G)&&!se)for(Oe=S;Oe!==null;)N=Oe,G=N.child,N.tag===22&&N.memoizedState!==null?a1(S):G!==null?(G.return=N,Oe=G):a1(S);for(;_!==null;)Oe=_,i1(_),_=_.sibling;Oe=S,$u=$,In=se}o1(l)}else(S.subtreeFlags&8772)!==0&&_!==null?(_.return=S,Oe=_):o1(l)}}function o1(l){for(;Oe!==null;){var u=Oe;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:In||Wu(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!In)if(m===null)y.componentDidMount();else{var S=u.elementType===u.type?m.memoizedProps:ai(u.type,m.memoizedProps);y.componentDidUpdate(S,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var _=u.updateQueue;_!==null&&sw(u,_,y);break;case 3:var N=u.updateQueue;if(N!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}sw(u,N,m)}break;case 5:var $=u.stateNode;if(m===null&&u.flags&4){m=$;var G=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&m.focus();break;case"img":G.src&&(m.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var se=u.alternate;if(se!==null){var ve=se.memoizedState;if(ve!==null){var ye=ve.dehydrated;ye!==null&&Qa(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}In||u.flags&512&&ym(u)}catch(fe){qt(u,u.return,fe)}}if(u===l){Oe=null;break}if(m=u.sibling,m!==null){m.return=u.return,Oe=m;break}Oe=u.return}}function s1(l){for(;Oe!==null;){var u=Oe;if(u===l){Oe=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Oe=m;break}Oe=u.return}}function a1(l){for(;Oe!==null;){var u=Oe;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Wu(4,u)}catch(G){qt(u,m,G)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var S=u.return;try{y.componentDidMount()}catch(G){qt(u,S,G)}}var _=u.return;try{ym(u)}catch(G){qt(u,_,G)}break;case 5:var N=u.return;try{ym(u)}catch(G){qt(u,N,G)}}}catch(G){qt(u,u.return,G)}if(u===l){Oe=null;break}var $=u.sibling;if($!==null){$.return=u.return,Oe=$;break}Oe=u.return}}var xO=Math.ceil,Vu=T.ReactCurrentDispatcher,wm=T.ReactCurrentOwner,zr=T.ReactCurrentBatchConfig,ot=0,mn=null,rn=null,kn=0,kr=0,aa=vo(0),un=0,wl=null,cs=0,qu=0,Sm=0,Sl=null,lr=null,km=0,la=1/0,Gi=null,Yu=!1,Em=null,ko=null,Gu=!1,Eo=null,Xu=0,kl=0,Cm=null,Ku=-1,Ju=0;function qn(){return(ot&6)!==0?kt():Ku!==-1?Ku:Ku=kt()}function Co(l){return(l.mode&1)===0?1:(ot&2)!==0&&kn!==0?kn&-kn:rO.transition!==null?(Ju===0&&(Ju=e0()),Ju):(l=yt,l!==0||(l=window.event,l=l===void 0?16:c0(l.type)),l)}function ui(l,u,m,y){if(50<kl)throw kl=0,Cm=null,Error(t(185));Ya(l,m,y),((ot&2)===0||l!==mn)&&(l===mn&&((ot&2)===0&&(qu|=m),un===4&&_o(l,kn)),cr(l,y),m===1&&ot===0&&(u.mode&1)===0&&(la=kt()+500,Cu&&bo()))}function cr(l,u){var m=l.callbackNode;rP(l,u);var y=su(l,l===mn?kn:0);if(y===0)m!==null&&Si(m),l.callbackNode=null,l.callbackPriority=0;else if(u=y&-y,l.callbackPriority!==u){if(m!=null&&Si(m),u===1)l.tag===0?nO(c1.bind(null,l)):G0(c1.bind(null,l)),QP(function(){(ot&6)===0&&bo()}),m=null;else{switch(t0(y)){case 1:m=ri;break;case 4:m=ts;break;case 16:m=it;break;case 536870912:m=ii;break;default:m=it}m=v1(m,l1.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function l1(l,u){if(Ku=-1,Ju=0,(ot&6)!==0)throw Error(t(327));var m=l.callbackNode;if(ca()&&l.callbackNode!==m)return null;var y=su(l,l===mn?kn:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||u)u=Qu(l,y);else{u=y;var S=ot;ot|=2;var _=d1();(mn!==l||kn!==u)&&(Gi=null,la=kt()+500,ds(l,u));do try{kO();break}catch($){u1(l,$)}while(!0);$p(),Vu.current=_,ot=S,rn!==null?u=0:(mn=null,kn=0,u=un)}if(u!==0){if(u===2&&(S=op(l),S!==0&&(y=S,u=_m(l,S))),u===1)throw m=wl,ds(l,0),_o(l,y),cr(l,kt()),m;if(u===6)_o(l,y);else{if(S=l.current.alternate,(y&30)===0&&!wO(S)&&(u=Qu(l,y),u===2&&(_=op(l),_!==0&&(y=_,u=_m(l,_))),u===1))throw m=wl,ds(l,0),_o(l,y),cr(l,kt()),m;switch(l.finishedWork=S,l.finishedLanes=y,u){case 0:case 1:throw Error(t(345));case 2:hs(l,lr,Gi);break;case 3:if(_o(l,y),(y&130023424)===y&&(u=km+500-kt(),10<u)){if(su(l,0)!==0)break;if(S=l.suspendedLanes,(S&y)!==y){qn(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=Op(hs.bind(null,l,lr,Gi),u);break}hs(l,lr,Gi);break;case 4:if(_o(l,y),(y&4194240)===y)break;for(u=l.eventTimes,S=-1;0<y;){var N=31-fn(y);_=1<<N,N=u[N],N>S&&(S=N),y&=~_}if(y=S,y=kt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*xO(y/1960))-y,10<y){l.timeoutHandle=Op(hs.bind(null,l,lr,Gi),y);break}hs(l,lr,Gi);break;case 5:hs(l,lr,Gi);break;default:throw Error(t(329))}}}return cr(l,kt()),l.callbackNode===m?l1.bind(null,l):null}function _m(l,u){var m=Sl;return l.current.memoizedState.isDehydrated&&(ds(l,u).flags|=256),l=Qu(l,u),l!==2&&(u=lr,lr=m,u!==null&&Tm(u)),l}function Tm(l){lr===null?lr=l:lr.push.apply(lr,l)}function wO(l){for(var u=l;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var S=m[y],_=S.getSnapshot;S=S.value;try{if(!oi(_(),S))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function _o(l,u){for(u&=~Sm,u&=~qu,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-fn(u),y=1<<m;l[m]=-1,u&=~y}}function c1(l){if((ot&6)!==0)throw Error(t(327));ca();var u=su(l,0);if((u&1)===0)return cr(l,kt()),null;var m=Qu(l,u);if(l.tag!==0&&m===2){var y=op(l);y!==0&&(u=y,m=_m(l,y))}if(m===1)throw m=wl,ds(l,0),_o(l,u),cr(l,kt()),m;if(m===6)throw Error(t(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,hs(l,lr,Gi),cr(l,kt()),null}function jm(l,u){var m=ot;ot|=1;try{return l(u)}finally{ot=m,ot===0&&(la=kt()+500,Cu&&bo())}}function us(l){Eo!==null&&Eo.tag===0&&(ot&6)===0&&ca();var u=ot;ot|=1;var m=zr.transition,y=yt;try{if(zr.transition=null,yt=1,l)return l()}finally{yt=y,zr.transition=m,ot=u,(ot&6)===0&&bo()}}function Dm(){kr=aa.current,Dt(aa)}function ds(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,JP(m)),rn!==null)for(m=rn.return;m!==null;){var y=m;switch(Bp(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&ku();break;case 3:ia(),Dt(or),Dt(Mn),Jp();break;case 5:Xp(y);break;case 4:ia();break;case 13:Dt(Ht);break;case 19:Dt(Ht);break;case 10:Wp(y.type._context);break;case 22:case 23:Dm()}m=m.return}if(mn=l,rn=l=To(l.current,null),kn=kr=u,un=0,wl=null,Sm=qu=cs=0,lr=Sl=null,ss!==null){for(u=0;u<ss.length;u++)if(m=ss[u],y=m.interleaved,y!==null){m.interleaved=null;var S=y.next,_=m.pending;if(_!==null){var N=_.next;_.next=S,y.next=N}m.pending=y}ss=null}return l}function u1(l,u){do{var m=rn;try{if($p(),Ru.current=Fu,Au){for(var y=zt.memoizedState;y!==null;){var S=y.queue;S!==null&&(S.pending=null),y=y.next}Au=!1}if(ls=0,pn=cn=zt=null,ml=!1,gl=0,wm.current=null,m===null||m.return===null){un=1,wl=u,rn=null;break}e:{var _=l,N=m.return,$=m,G=u;if(u=kn,$.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var se=G,ve=$,ye=ve.tag;if((ve.mode&1)===0&&(ye===0||ye===11||ye===15)){var fe=ve.alternate;fe?(ve.updateQueue=fe.updateQueue,ve.memoizedState=fe.memoizedState,ve.lanes=fe.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var De=Rw(N);if(De!==null){De.flags&=-257,Aw(De,N,$,_,u),De.mode&1&&Nw(_,se,u),u=De,G=se;var Ne=u.updateQueue;if(Ne===null){var Ae=new Set;Ae.add(G),u.updateQueue=Ae}else Ne.add(G);break e}else{if((u&1)===0){Nw(_,se,u),Mm();break e}G=Error(t(426))}}else if(Ot&&$.mode&1){var Qt=Rw(N);if(Qt!==null){(Qt.flags&65536)===0&&(Qt.flags|=256),Aw(Qt,N,$,_,u),zp(oa(G,$));break e}}_=G=oa(G,$),un!==4&&(un=2),Sl===null?Sl=[_]:Sl.push(_),_=N;do{switch(_.tag){case 3:_.flags|=65536,u&=-u,_.lanes|=u;var te=Ow(_,G,u);ow(_,te);break e;case 1:$=G;var J=_.type,ne=_.stateNode;if((_.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(ko===null||!ko.has(ne)))){_.flags|=65536,u&=-u,_.lanes|=u;var xe=Iw(_,$,u);ow(_,xe);break e}}_=_.return}while(_!==null)}f1(m)}catch(Le){u=Le,rn===m&&m!==null&&(rn=m=m.return);continue}break}while(!0)}function d1(){var l=Vu.current;return Vu.current=Fu,l===null?Fu:l}function Mm(){(un===0||un===3||un===2)&&(un=4),mn===null||(cs&268435455)===0&&(qu&268435455)===0||_o(mn,kn)}function Qu(l,u){var m=ot;ot|=2;var y=d1();(mn!==l||kn!==u)&&(Gi=null,ds(l,u));do try{SO();break}catch(S){u1(l,S)}while(!0);if($p(),ot=m,Vu.current=y,rn!==null)throw Error(t(261));return mn=null,kn=0,un}function SO(){for(;rn!==null;)h1(rn)}function kO(){for(;rn!==null&&!Dn();)h1(rn)}function h1(l){var u=g1(l.alternate,l,kr);l.memoizedProps=l.pendingProps,u===null?f1(l):rn=u,wm.current=null}function f1(l){var u=l;do{var m=u.alternate;if(l=u.return,(u.flags&32768)===0){if(m=mO(m,u,kr),m!==null){rn=m;return}}else{if(m=gO(m,u),m!==null){m.flags&=32767,rn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{un=6,rn=null;return}}if(u=u.sibling,u!==null){rn=u;return}rn=u=l}while(u!==null);un===0&&(un=5)}function hs(l,u,m){var y=yt,S=zr.transition;try{zr.transition=null,yt=1,EO(l,u,m,y)}finally{zr.transition=S,yt=y}return null}function EO(l,u,m,y){do ca();while(Eo!==null);if((ot&6)!==0)throw Error(t(327));m=l.finishedWork;var S=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(t(177));l.callbackNode=null,l.callbackPriority=0;var _=m.lanes|m.childLanes;if(iP(l,_),l===mn&&(rn=mn=null,kn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Gu||(Gu=!0,v1(it,function(){return ca(),null})),_=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||_){_=zr.transition,zr.transition=null;var N=yt;yt=1;var $=ot;ot|=4,wm.current=null,yO(l,m),r1(m,l),WP(Mp),cu=!!Dp,Mp=Dp=null,l.current=m,bO(m),es(),ot=$,yt=N,zr.transition=_}else l.current=m;if(Gu&&(Gu=!1,Eo=l,Xu=S),_=l.pendingLanes,_===0&&(ko=null),Vt(m.stateNode),cr(l,kt()),u!==null)for(y=l.onRecoverableError,m=0;m<u.length;m++)S=u[m],y(S.value,{componentStack:S.stack,digest:S.digest});if(Yu)throw Yu=!1,l=Em,Em=null,l;return(Xu&1)!==0&&l.tag!==0&&ca(),_=l.pendingLanes,(_&1)!==0?l===Cm?kl++:(kl=0,Cm=l):kl=0,bo(),null}function ca(){if(Eo!==null){var l=t0(Xu),u=zr.transition,m=yt;try{if(zr.transition=null,yt=16>l?16:l,Eo===null)var y=!1;else{if(l=Eo,Eo=null,Xu=0,(ot&6)!==0)throw Error(t(331));var S=ot;for(ot|=4,Oe=l.current;Oe!==null;){var _=Oe,N=_.child;if((Oe.flags&16)!==0){var $=_.deletions;if($!==null){for(var G=0;G<$.length;G++){var se=$[G];for(Oe=se;Oe!==null;){var ve=Oe;switch(ve.tag){case 0:case 11:case 15:xl(8,ve,_)}var ye=ve.child;if(ye!==null)ye.return=ve,Oe=ye;else for(;Oe!==null;){ve=Oe;var fe=ve.sibling,De=ve.return;if(Qw(ve),ve===se){Oe=null;break}if(fe!==null){fe.return=De,Oe=fe;break}Oe=De}}}var Ne=_.alternate;if(Ne!==null){var Ae=Ne.child;if(Ae!==null){Ne.child=null;do{var Qt=Ae.sibling;Ae.sibling=null,Ae=Qt}while(Ae!==null)}}Oe=_}}if((_.subtreeFlags&2064)!==0&&N!==null)N.return=_,Oe=N;else e:for(;Oe!==null;){if(_=Oe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:xl(9,_,_.return)}var te=_.sibling;if(te!==null){te.return=_.return,Oe=te;break e}Oe=_.return}}var J=l.current;for(Oe=J;Oe!==null;){N=Oe;var ne=N.child;if((N.subtreeFlags&2064)!==0&&ne!==null)ne.return=N,Oe=ne;else e:for(N=J;Oe!==null;){if($=Oe,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:Wu(9,$)}}catch(Le){qt($,$.return,Le)}if($===N){Oe=null;break e}var xe=$.sibling;if(xe!==null){xe.return=$.return,Oe=xe;break e}Oe=$.return}}if(ot=S,bo(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Hi,l)}catch{}y=!0}return y}finally{yt=m,zr.transition=u}}return!1}function p1(l,u,m){u=oa(m,u),u=Ow(l,u,1),l=wo(l,u,1),u=qn(),l!==null&&(Ya(l,1,u),cr(l,u))}function qt(l,u,m){if(l.tag===3)p1(l,l,m);else for(;u!==null;){if(u.tag===3){p1(u,l,m);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ko===null||!ko.has(y))){l=oa(m,l),l=Iw(u,l,1),u=wo(u,l,1),l=qn(),u!==null&&(Ya(u,1,l),cr(u,l));break}}u=u.return}}function CO(l,u,m){var y=l.pingCache;y!==null&&y.delete(u),u=qn(),l.pingedLanes|=l.suspendedLanes&m,mn===l&&(kn&m)===m&&(un===4||un===3&&(kn&130023424)===kn&&500>kt()-km?ds(l,0):Sm|=m),cr(l,u)}function m1(l,u){u===0&&((l.mode&1)===0?u=1:(u=ou,ou<<=1,(ou&130023424)===0&&(ou=4194304)));var m=qn();l=Vi(l,u),l!==null&&(Ya(l,u,m),cr(l,m))}function _O(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),m1(l,m)}function TO(l,u){var m=0;switch(l.tag){case 13:var y=l.stateNode,S=l.memoizedState;S!==null&&(m=S.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(u),m1(l,m)}var g1;g1=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||or.current)ar=!0;else{if((l.lanes&m)===0&&(u.flags&128)===0)return ar=!1,pO(l,u,m);ar=(l.flags&131072)!==0}else ar=!1,Ot&&(u.flags&1048576)!==0&&X0(u,Tu,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Uu(l,u),l=u.pendingProps;var S=Js(u,Mn.current);ra(u,m),S=em(null,u,y,l,S,m);var _=tm();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,sr(y)?(_=!0,Eu(u)):_=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Yp(u),S.updater=Hu,u.stateNode=S,S._reactInternals=u,am(u,y,l,m),u=dm(null,u,y,!0,_,m)):(u.tag=0,Ot&&_&&Lp(u),Vn(null,u,S,m),u=u.child),u;case 16:y=u.elementType;e:{switch(Uu(l,u),l=u.pendingProps,S=y._init,y=S(y._payload),u.type=y,S=u.tag=DO(y),l=ai(y,l),S){case 0:u=um(null,u,y,l,m);break e;case 1:u=Uw(null,u,y,l,m);break e;case 11:u=Lw(null,u,y,l,m);break e;case 14:u=Bw(null,u,y,ai(y.type,l),m);break e}throw Error(t(306,y,""))}return u;case 0:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:ai(y,S),um(l,u,y,S,m);case 1:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:ai(y,S),Uw(l,u,y,S,m);case 3:e:{if($w(u),l===null)throw Error(t(387));y=u.pendingProps,_=u.memoizedState,S=_.element,iw(l,u),Iu(u,y,null,m);var N=u.memoizedState;if(y=N.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},u.updateQueue.baseState=_,u.memoizedState=_,u.flags&256){S=oa(Error(t(423)),u),u=Ww(l,u,y,m,S);break e}else if(y!==S){S=oa(Error(t(424)),u),u=Ww(l,u,y,m,S);break e}else for(Sr=go(u.stateNode.containerInfo.firstChild),wr=u,Ot=!0,si=null,m=nw(u,null,y,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ea(),y===S){u=Yi(l,u,m);break e}Vn(l,u,y,m)}u=u.child}return u;case 5:return aw(u),l===null&&Hp(u),y=u.type,S=u.pendingProps,_=l!==null?l.memoizedProps:null,N=S.children,Pp(y,S)?N=null:_!==null&&Pp(y,_)&&(u.flags|=32),zw(l,u),Vn(l,u,N,m),u.child;case 6:return l===null&&Hp(u),null;case 13:return Vw(l,u,m);case 4:return Gp(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=ta(u,null,y,m):Vn(l,u,y,m),u.child;case 11:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:ai(y,S),Lw(l,u,y,S,m);case 7:return Vn(l,u,u.pendingProps,m),u.child;case 8:return Vn(l,u,u.pendingProps.children,m),u.child;case 12:return Vn(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(y=u.type._context,S=u.pendingProps,_=u.memoizedProps,N=S.value,Et(Mu,y._currentValue),y._currentValue=N,_!==null)if(oi(_.value,N)){if(_.children===S.children&&!or.current){u=Yi(l,u,m);break e}}else for(_=u.child,_!==null&&(_.return=u);_!==null;){var $=_.dependencies;if($!==null){N=_.child;for(var G=$.firstContext;G!==null;){if(G.context===y){if(_.tag===1){G=qi(-1,m&-m),G.tag=2;var se=_.updateQueue;if(se!==null){se=se.shared;var ve=se.pending;ve===null?G.next=G:(G.next=ve.next,ve.next=G),se.pending=G}}_.lanes|=m,G=_.alternate,G!==null&&(G.lanes|=m),Vp(_.return,m,u),$.lanes|=m;break}G=G.next}}else if(_.tag===10)N=_.type===u.type?null:_.child;else if(_.tag===18){if(N=_.return,N===null)throw Error(t(341));N.lanes|=m,$=N.alternate,$!==null&&($.lanes|=m),Vp(N,m,u),N=_.sibling}else N=_.child;if(N!==null)N.return=_;else for(N=_;N!==null;){if(N===u){N=null;break}if(_=N.sibling,_!==null){_.return=N.return,N=_;break}N=N.return}_=N}Vn(l,u,S.children,m),u=u.child}return u;case 9:return S=u.type,y=u.pendingProps.children,ra(u,m),S=Fr(S),y=y(S),u.flags|=1,Vn(l,u,y,m),u.child;case 14:return y=u.type,S=ai(y,u.pendingProps),S=ai(y.type,S),Bw(l,u,y,S,m);case 15:return Fw(l,u,u.type,u.pendingProps,m);case 17:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:ai(y,S),Uu(l,u),u.tag=1,sr(y)?(l=!0,Eu(u)):l=!1,ra(u,m),Mw(u,y,S),am(u,y,S,m),dm(null,u,y,!0,l,m);case 19:return Yw(l,u,m);case 22:return Hw(l,u,m)}throw Error(t(156,u.tag))};function v1(l,u){return Ar(l,u)}function jO(l,u,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(l,u,m,y){return new jO(l,u,m,y)}function Pm(l){return l=l.prototype,!(!l||!l.isReactComponent)}function DO(l){if(typeof l=="function")return Pm(l)?1:0;if(l!=null){if(l=l.$$typeof,l===L)return 11;if(l===Q)return 14}return 2}function To(l,u){var m=l.alternate;return m===null?(m=Ur(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Zu(l,u,m,y,S,_){var N=2;if(y=l,typeof l=="function")Pm(l)&&(N=1);else if(typeof l=="string")N=5;else e:switch(l){case I:return fs(m.children,S,_,u);case P:N=8,S|=8;break;case O:return l=Ur(12,m,u,S|2),l.elementType=O,l.lanes=_,l;case R:return l=Ur(13,m,u,S),l.elementType=R,l.lanes=_,l;case V:return l=Ur(19,m,u,S),l.elementType=V,l.lanes=_,l;case q:return ed(m,S,_,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case B:N=10;break e;case A:N=9;break e;case L:N=11;break e;case Q:N=14;break e;case oe:N=16,y=null;break e}throw Error(t(130,l==null?l:typeof l,""))}return u=Ur(N,m,u,S),u.elementType=l,u.type=y,u.lanes=_,u}function fs(l,u,m,y){return l=Ur(7,l,y,u),l.lanes=m,l}function ed(l,u,m,y){return l=Ur(22,l,y,u),l.elementType=q,l.lanes=m,l.stateNode={isHidden:!1},l}function Om(l,u,m){return l=Ur(6,l,null,u),l.lanes=m,l}function Im(l,u,m){return u=Ur(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function MO(l,u,m,y,S){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=y,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Nm(l,u,m,y,S,_,N,$,G){return l=new MO(l,u,m,$,G),u===1?(u=1,_===!0&&(u|=8)):u=0,_=Ur(3,null,null,u),l.current=_,_.stateNode=l,_.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yp(_),l}function PO(l,u,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:y==null?null:""+y,children:l,containerInfo:u,implementation:m}}function y1(l){if(!l)return yo;l=l._reactInternals;e:{if(Je(l)!==l||l.tag!==1)throw Error(t(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(sr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(l.tag===1){var m=l.type;if(sr(m))return q0(l,m,u)}return u}function b1(l,u,m,y,S,_,N,$,G){return l=Nm(m,y,!0,l,S,_,N,$,G),l.context=y1(null),m=l.current,y=qn(),S=Co(m),_=qi(y,S),_.callback=u??null,wo(m,_,S),l.current.lanes=S,Ya(l,S,y),cr(l,y),l}function td(l,u,m,y){var S=u.current,_=qn(),N=Co(S);return m=y1(m),u.context===null?u.context=m:u.pendingContext=m,u=qi(_,N),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=wo(S,u,N),l!==null&&(ui(l,S,N,_),Ou(l,S,N)),N}function nd(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function x1(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Rm(l,u){x1(l,u),(l=l.alternate)&&x1(l,u)}function OO(){return null}var w1=typeof reportError=="function"?reportError:function(l){console.error(l)};function Am(l){this._internalRoot=l}rd.prototype.render=Am.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(t(409));td(l,u,null,null)},rd.prototype.unmount=Am.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;us(function(){td(null,l,null,null)}),u[zi]=null}};function rd(l){this._internalRoot=l}rd.prototype.unstable_scheduleHydration=function(l){if(l){var u=i0();l={blockedOn:null,target:l,priority:u};for(var m=0;m<fo.length&&u!==0&&u<fo[m].priority;m++);fo.splice(m,0,l),m===0&&a0(l)}};function Lm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function id(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function S1(){}function IO(l,u,m,y,S){if(S){if(typeof y=="function"){var _=y;y=function(){var se=nd(N);_.call(se)}}var N=b1(u,y,l,0,null,!1,!1,"",S1);return l._reactRootContainer=N,l[zi]=N.current,al(l.nodeType===8?l.parentNode:l),us(),N}for(;S=l.lastChild;)l.removeChild(S);if(typeof y=="function"){var $=y;y=function(){var se=nd(G);$.call(se)}}var G=Nm(l,0,!1,null,null,!1,!1,"",S1);return l._reactRootContainer=G,l[zi]=G.current,al(l.nodeType===8?l.parentNode:l),us(function(){td(u,G,m,y)}),G}function od(l,u,m,y,S){var _=m._reactRootContainer;if(_){var N=_;if(typeof S=="function"){var $=S;S=function(){var G=nd(N);$.call(G)}}td(u,N,l,S)}else N=IO(m,u,l,S,y);return nd(N)}n0=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=qa(u.pendingLanes);m!==0&&(ap(u,m|1),cr(u,kt()),(ot&6)===0&&(la=kt()+500,bo()))}break;case 13:us(function(){var y=Vi(l,1);if(y!==null){var S=qn();ui(y,l,1,S)}}),Rm(l,1)}},lp=function(l){if(l.tag===13){var u=Vi(l,134217728);if(u!==null){var m=qn();ui(u,l,134217728,m)}Rm(l,134217728)}},r0=function(l){if(l.tag===13){var u=Co(l),m=Vi(l,u);if(m!==null){var y=qn();ui(m,l,u,y)}Rm(l,u)}},i0=function(){return yt},o0=function(l,u){var m=yt;try{return yt=l,u()}finally{yt=m}},ni=function(l,u,m){switch(u){case"input":if(Tn(l,m),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var y=m[u];if(y!==l&&y.form===l.form){var S=Su(y);if(!S)throw Error(t(90));at(y),Tn(y,S)}}}break;case"textarea":ei(l,m);break;case"select":u=m.value,u!=null&&zn(l,!!m.multiple,u,!1)}},K=jm,ie=us;var NO={usingClientEntryPoint:!1,Events:[ul,Xs,Su,F,z,jm]},El={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RO={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Ze(l),l===null?null:l.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||OO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{Hi=sd.inject(RO),ir=sd}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NO,ur.createPortal=function(l,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lm(u))throw Error(t(200));return PO(l,u,null,m)},ur.createRoot=function(l,u){if(!Lm(l))throw Error(t(299));var m=!1,y="",S=w1;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=Nm(l,1,!1,null,null,m,!1,y,S),l[zi]=u.current,al(l.nodeType===8?l.parentNode:l),new Am(u)},ur.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(t(188)):(l=Object.keys(l).join(","),Error(t(268,l)));return l=Ze(u),l=l===null?null:l.stateNode,l},ur.flushSync=function(l){return us(l)},ur.hydrate=function(l,u,m){if(!id(u))throw Error(t(200));return od(null,l,u,!0,m)},ur.hydrateRoot=function(l,u,m){if(!Lm(l))throw Error(t(405));var y=m!=null&&m.hydratedSources||null,S=!1,_="",N=w1;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(_=m.identifierPrefix),m.onRecoverableError!==void 0&&(N=m.onRecoverableError)),u=b1(u,null,l,1,m??null,S,!1,_,N),l[zi]=u.current,al(l),y)for(l=0;l<y.length;l++)m=y[l],S=m._getVersion,S=S(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,S]:u.mutableSourceEagerHydrationData.push(m,S);return new rd(u)},ur.render=function(l,u,m){if(!id(u))throw Error(t(200));return od(null,l,u,!1,m)},ur.unmountComponentAtNode=function(l){if(!id(l))throw Error(t(40));return l._reactRootContainer?(us(function(){od(null,null,l,!1,function(){l._reactRootContainer=null,l[zi]=null})}),!0):!1},ur.unstable_batchedUpdates=jm,ur.unstable_renderSubtreeIntoContainer=function(l,u,m,y){if(!id(m))throw Error(t(200));if(l==null||l._reactInternals===void 0)throw Error(t(38));return od(l,u,m,!1,y)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var M1;function ff(){if(M1)return Hm.exports;M1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hm.exports=WO(),Hm.exports}var P1;function VO(){if(P1)return ad;P1=1;var n=ff();return ad.createRoot=n.createRoot,ad.hydrateRoot=n.hydrateRoot,ad}var qO=VO(),_l={},O1;function YO(){if(O1)return _l;O1=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.parse=s,_l.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function s(g,v){const b=new o,x=g.length;if(x<2)return b;const w=(v==null?void 0:v.decode)||f;let k=0;do{const C=g.indexOf("=",k);if(C===-1)break;const M=g.indexOf(";",k),T=M===-1?x:M;if(C>T){k=g.lastIndexOf(";",C-1)+1;continue}const D=a(g,k,C),E=c(g,C,D),I=g.slice(D,E);if(b[I]===void 0){let P=a(g,C+1,T),O=c(g,T,P);const B=w(g.slice(P,O));b[I]=B}k=T+1}while(k<x);return b}function a(g,v,b){do{const x=g.charCodeAt(v);if(x!==32&&x!==9)return v}while(++v<b);return b}function c(g,v,b){for(;v>b;){const x=g.charCodeAt(--v);if(x!==32&&x!==9)return v+1}return b}function h(g,v,b){const x=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(g))throw new TypeError(`argument name is invalid: ${g}`);const w=x(v);if(!e.test(w))throw new TypeError(`argument val is invalid: ${v}`);let k=g+"="+w;if(!b)return k;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);k+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);k+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);k+="; Path="+b.path}if(b.expires){if(!p(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);k+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(k+="; HttpOnly"),b.secure&&(k+="; Secure"),b.partitioned&&(k+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return k}function f(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return i.call(g)==="[object Date]"}return _l}YO();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var F_=n=>{throw TypeError(n)},GO=(n,e,t)=>e.has(n)||F_("Cannot "+t),$m=(n,e,t)=>(GO(n,e,"read from private field"),t?t.call(n):e.get(n)),XO=(n,e,t)=>e.has(n)?F_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),I1="popstate";function KO(n={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return fc("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:$o(i)}return QO(e,t,null,n)}function et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JO(){return Math.random().toString(36).substring(2,10)}function N1(n,e){return{usr:n.state,key:n.key,idx:e}}function fc(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xo(e):e,state:t,key:e&&e.key||r||JO()}}function $o({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function QO(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",c=null,h=f();h==null&&(h=0,s.replaceState({...s.state,idx:h},""));function f(){return(s.state||{idx:null}).idx}function p(){a="POP";let w=f(),k=w==null?null:w-h;h=w,c&&c({action:a,location:x.location,delta:k})}function g(w,k){a="PUSH";let C=fc(x.location,w,k);h=f()+1;let M=N1(C,h),T=x.createHref(C);try{s.pushState(M,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(T)}o&&c&&c({action:a,location:x.location,delta:1})}function v(w,k){a="REPLACE";let C=fc(x.location,w,k);h=f();let M=N1(C,h),T=x.createHref(C);s.replaceState(M,"",T),o&&c&&c({action:a,location:x.location,delta:0})}function b(w){return H_(w)}let x={get action(){return a},get location(){return n(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(I1,p),c=w,()=>{i.removeEventListener(I1,p),c=null}},createHref(w){return e(i,w)},createURL:b,encodeLocation(w){let k=b(w);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:v,go(w){return s.go(w)}};return x}function H_(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),et(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:$o(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var $l,R1=class{constructor(n){if(XO(this,$l,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if($m(this,$l).has(n))return $m(this,$l).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){$m(this,$l).set(n,e)}};$l=new WeakMap;var ZO=new Set(["lazy","caseSensitive","path","id","index","children"]);function eI(n){return ZO.has(n)}var tI=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function nI(n){return tI.has(n)}function rI(n){return n.index===!0}function Eh(n,e,t=[],r={}){return n.map((i,o)=>{let s=[...t,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(et(i.index!==!0||!i.children,"Cannot specify children on an index route"),et(!r[a],`Found a route id collision on id "${a}".  Route id's must be globally unique within Data Router usages`),rI(i)){let c={...i,...e(i),id:a};return r[a]=c,c}else{let c={...i,...e(i),id:a,children:void 0};return r[a]=c,i.children&&(c.children=Eh(i.children,e,s,r)),c}})}function Po(n,e,t="/"){return nh(n,e,t,!1)}function nh(n,e,t,r){let i=typeof e=="string"?Xo(e):e,o=Jr(i.pathname||"/",t);if(o==null)return null;let s=z_(n);oI(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let h=gI(o);a=pI(s[c],h,r)}return a}function iI(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function z_(n,e=[],t=[],r=""){let i=(o,s,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=Oi([r,c.relativePath]),f=t.concat(c);o.children&&o.children.length>0&&(et(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),z_(o.children,e,f,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:hI(h,o.index),routesMeta:f})};return n.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let c of U_(o.path))i(o,s,c)}),e}function U_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=U_(r.join("/")),a=[];return a.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&a.push(...s),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function oI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var sI=/^:[\w-]+$/,aI=3,lI=2,cI=1,uI=10,dI=-2,A1=n=>n==="*";function hI(n,e){let t=n.split("/"),r=t.length;return t.some(A1)&&(r+=dI),e&&(r+=lI),t.filter(i=>!A1(i)).reduce((i,o)=>i+(sI.test(o)?aI:o===""?cI:uI),r)}function fI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function pI(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",s=[];for(let a=0;a<r.length;++a){let c=r[a],h=a===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",p=Ch({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),g=c.route;if(!p&&h&&t&&!r[r.length-1].route.index&&(p=Ch({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Oi([o,p.pathname]),pathnameBase:bI(Oi([o,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(o=Oi([o,p.pathnameBase]))}return s}function Ch(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=mI(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,{paramName:f,isOptional:p},g)=>{if(f==="*"){let b=a[g]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const v=a[g];return p&&!v?h[f]=void 0:h[f]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:s,pattern:n}}function mI(n,e=!1,t=!0){tn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Jr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function vI(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Xo(n):n;return{pathname:t?t.startsWith("/")?t:yI(t,e):e,search:xI(r),hash:wI(i)}}function yI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Wm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zy(n){let e=$_(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Uy(n,e,t,r=!1){let i;typeof n=="string"?i=Xo(n):(i={...n},et(!i.pathname||!i.pathname.includes("?"),Wm("?","pathname","search",i)),et(!i.pathname||!i.pathname.includes("#"),Wm("#","pathname","hash",i)),et(!i.search||!i.search.includes("#"),Wm("#","search","hash",i)));let o=n===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=t;else{let p=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?e[p]:"/"}let c=vI(i,a),h=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}var Oi=n=>n.join("/").replace(/\/\/+/g,"/"),bI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,_h=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function pc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var W_=["POST","PUT","PATCH","DELETE"],SI=new Set(W_),kI=["GET",...W_],EI=new Set(kI),CI=new Set([301,302,303,307,308]),_I=new Set([307,308]),Vm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},TI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jI=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),V_="remix-router-transitions",q_=Symbol("ResetLoaderData");function DI(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";et(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],i=n.mapRouteProperties||jI,o={},s=Eh(n.routes,i,void 0,o),a,c=n.basename||"/",h=n.dataStrategy||NI,f={unstable_middleware:!1,...n.future},p=null,g=new Set,v=null,b=null,x=null,w=n.hydrationData!=null,k=Po(s,n.history.location,c),C=!1,M=null,T;if(k==null&&!n.patchRoutesOnNavigation){let H=qr(404,{pathname:n.history.location.pathname}),{matches:U,route:X}=G1(s);T=!0,k=U,M={[X.id]:H}}else if(k&&!n.hydrationData&&F(k,s,n.history.location.pathname).active&&(k=null),k)if(k.some(H=>H.route.lazy))T=!1;else if(!k.some(H=>H.route.loader))T=!0;else{let H=n.hydrationData?n.hydrationData.loaderData:null,U=n.hydrationData?n.hydrationData.errors:null;if(U){let X=k.findIndex(ee=>U[ee.route.id]!==void 0);T=k.slice(0,X+1).every(ee=>!Gv(ee.route,H,U))}else T=k.every(X=>!Gv(X.route,H,U))}else{T=!1,k=[];let H=F(null,s,n.history.location.pathname);H.active&&H.matches&&(C=!0,k=H.matches)}let D,E={historyAction:n.history.action,location:n.history.location,matches:k,initialized:T,navigation:Vm,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||M,fetchers:new Map,blockers:new Map},I="POP",P=!1,O,B=!1,A=new Map,L=null,R=!1,V=!1,Q=new Set,oe=new Map,q=0,Y=-1,re=new Map,le=new Set,W=new Map,Z=new Map,pe=new Set,be=new Map,ke,me=null;function Ie(){if(p=n.history.listen(({action:H,location:U,delta:X})=>{if(ke){ke(),ke=void 0;return}tn(be.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=ti({currentLocation:E.location,nextLocation:U,historyAction:H});if(ee&&X!=null){let de=new Promise(ce=>{ke=ce});n.history.go(X*-1),tr(ee,{state:"blocked",location:U,proceed(){tr(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),de.then(()=>n.history.go(X))},reset(){let ce=new Map(E.blockers);ce.set(ee,Tl),Ee({blockers:ce})}});return}return lt(H,U)}),t){VI(e,A);let H=()=>qI(e,A);e.addEventListener("pagehide",H),L=()=>e.removeEventListener("pagehide",H)}return E.initialized||lt("POP",E.location,{initialHydration:!0}),D}function we(){p&&p(),L&&L(),g.clear(),O&&O.abort(),E.fetchers.forEach((H,U)=>Wn(U)),E.blockers.forEach((H,U)=>br(U))}function Pe(H){return g.add(H),()=>g.delete(H)}function Ee(H,U={}){E={...E,...H};let X=[],ee=[];E.fetchers.forEach((de,ce)=>{de.state==="idle"&&(pe.has(ce)?X.push(ce):ee.push(ce))}),pe.forEach(de=>{!E.fetchers.has(de)&&!oe.has(de)&&X.push(de)}),[...g].forEach(de=>de(E,{deletedFetchers:X,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),X.forEach(de=>Wn(de)),ee.forEach(de=>E.fetchers.delete(de))}function Ke(H,U,{flushSync:X}={}){var je,He;let ee=E.actionData!=null&&E.navigation.formMethod!=null&&Dr(E.navigation.formMethod)&&E.navigation.state==="loading"&&((je=H.state)==null?void 0:je._isRedirect)!==!0,de;U.actionData?Object.keys(U.actionData).length>0?de=U.actionData:de=null:ee?de=E.actionData:de=null;let ce=U.loaderData?q1(E.loaderData,U.loaderData,U.matches||[],U.errors):E.loaderData,he=E.blockers;he.size>0&&(he=new Map(he),he.forEach((Re,qe)=>he.set(qe,Tl)));let ge=P===!0||E.navigation.formMethod!=null&&Dr(E.navigation.formMethod)&&((He=H.state)==null?void 0:He._isRedirect)!==!0;a&&(s=a,a=void 0),R||I==="POP"||(I==="PUSH"?n.history.push(H,H.state):I==="REPLACE"&&n.history.replace(H,H.state));let Te;if(I==="POP"){let Re=A.get(E.location.pathname);Re&&Re.has(H.pathname)?Te={currentLocation:E.location,nextLocation:H}:A.has(H.pathname)&&(Te={currentLocation:H,nextLocation:E.location})}else if(B){let Re=A.get(E.location.pathname);Re?Re.add(H.pathname):(Re=new Set([H.pathname]),A.set(E.location.pathname,Re)),Te={currentLocation:E.location,nextLocation:H}}Ee({...U,actionData:de,loaderData:ce,historyAction:I,location:H,initialized:!0,navigation:Vm,revalidation:"idle",restoreScrollPosition:Kt(H,U.matches||E.matches),preventScrollReset:ge,blockers:he},{viewTransitionOpts:Te,flushSync:X===!0}),I="POP",P=!1,B=!1,R=!1,V=!1,me==null||me.resolve(),me=null}async function at(H,U){if(typeof H=="number"){n.history.go(H);return}let X=Yv(E.location,E.matches,c,H,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:ee,submission:de,error:ce}=L1(!1,X,U),he=E.location,ge=fc(E.location,ee,U&&U.state);ge={...ge,...n.history.encodeLocation(ge)};let Te=U&&U.replace!=null?U.replace:void 0,je="PUSH";Te===!0?je="REPLACE":Te===!1||de!=null&&Dr(de.formMethod)&&de.formAction===E.location.pathname+E.location.search&&(je="REPLACE");let He=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Re=(U&&U.flushSync)===!0,qe=ti({currentLocation:he,nextLocation:ge,historyAction:je});if(qe){tr(qe,{state:"blocked",location:ge,proceed(){tr(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),at(H,U)},reset(){let Je=new Map(E.blockers);Je.set(qe,Tl),Ee({blockers:Je})}});return}await lt(je,ge,{submission:de,pendingError:ce,preventScrollReset:He,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:Re})}function wt(){me||(me=YI()),yr(),Ee({revalidation:"loading"});let H=me.promise;return E.navigation.state==="submitting"?H:E.navigation.state==="idle"?(lt(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),H):(lt(I||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:B===!0}),H)}async function lt(H,U,X){O&&O.abort(),O=null,I=H,R=(X&&X.startUninterruptedRevalidation)===!0,St(E.location,E.matches),P=(X&&X.preventScrollReset)===!0,B=(X&&X.enableViewTransition)===!0;let ee=a||s,de=X&&X.overrideNavigation,ce=X!=null&&X.initialHydration&&E.matches&&E.matches.length>0&&!C?E.matches:Po(ee,U,c),he=(X&&X.flushSync)===!0;if(ce&&E.initialized&&!V&&HI(E.location,U)&&!(X&&X.submission&&Dr(X.submission.formMethod))){Ke(U,{matches:ce},{flushSync:he});return}let ge=F(ce,ee,U.pathname);if(ge.active&&ge.matches&&(ce=ge.matches),!ce){let{error:Jt,notFoundMatches:wn,route:Ze}=nr(U.pathname);Ke(U,{matches:wn,loaderData:{},errors:{[Ze.id]:Jt}},{flushSync:he});return}O=new AbortController;let Te=fa(n.history,U,O.signal,X&&X.submission),je=new R1(n.unstable_getContext?await n.unstable_getContext():void 0),He;if(X&&X.pendingError)He=[Ss(ce).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&Dr(X.submission.formMethod)){let Jt=await _t(Te,U,X.submission,ce,je,ge.active,X&&X.initialHydration===!0,{replace:X.replace,flushSync:he});if(Jt.shortCircuited)return;if(Jt.pendingActionResult){let[wn,Ze]=Jt.pendingActionResult;if(jr(Ze)&&pc(Ze.error)&&Ze.error.status===404){O=null,Ke(U,{matches:Jt.matches,loaderData:{},errors:{[wn]:Ze.error}});return}}ce=Jt.matches||ce,He=Jt.pendingActionResult,de=qm(U,X.submission),he=!1,ge.active=!1,Te=fa(n.history,Te.url,Te.signal)}let{shortCircuited:Re,matches:qe,loaderData:Je,errors:Pt}=await an(Te,U,ce,je,ge.active,de,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,he,He);Re||(O=null,Ke(U,{matches:qe||ce,...Y1(He),loaderData:Je,errors:Pt}))}async function _t(H,U,X,ee,de,ce,he,ge={}){yr();let Te=$I(U,X);if(Ee({navigation:Te},{flushSync:ge.flushSync===!0}),ce){let Re=await z(ee,U.pathname,H.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let qe=Ss(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[qe,{type:"error",error:Re.error}]}}else if(Re.matches)ee=Re.matches;else{let{notFoundMatches:qe,error:Je,route:Pt}=nr(U.pathname);return{matches:qe,pendingActionResult:[Pt.id,{type:"error",error:Je}]}}}let je,He=Wl(ee,U);if(!He.route.action&&!He.route.lazy)je={type:"error",error:qr(405,{method:H.method,pathname:U.pathname,routeId:He.route.id})};else{let Re=ga(i,o,H,ee,He,he?[]:r,de),qe=await Un(H,Re,de,null);if(je=qe[He.route.id],!je){for(let Je of ee)if(qe[Je.route.id]){je=qe[Je.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(Es(je)){let Re;return ge&&ge.replace!=null?Re=ge.replace:Re=$1(je.response.headers.get("Location"),new URL(H.url),c)===E.location.pathname+E.location.search,await ln(H,je,!0,{submission:X,replace:Re}),{shortCircuited:!0}}if(jr(je)){let Re=Ss(ee,He.route.id);return(ge&&ge.replace)!==!0&&(I="PUSH"),{matches:ee,pendingActionResult:[Re.route.id,je,He.route.id]}}return{matches:ee,pendingActionResult:[He.route.id,je]}}async function an(H,U,X,ee,de,ce,he,ge,Te,je,He,Re){let qe=ce||qm(U,he),Je=he||ge||K1(qe),Pt=!R&&!je;if(de){if(Pt){let rr=Tn(Re);Ee({navigation:qe,...rr!==void 0?{actionData:rr}:{}},{flushSync:He})}let it=await z(X,U.pathname,H.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){let rr=Ss(it.partialMatches).route.id;return{matches:it.partialMatches,loaderData:{},errors:{[rr]:it.error}}}else if(it.matches)X=it.matches;else{let{error:rr,notFoundMatches:ii,route:Hi}=nr(U.pathname);return{matches:ii,loaderData:{},errors:{[Hi.id]:rr}}}}let Jt=a||s,{dsMatches:wn,revalidatingFetchers:Ze}=B1(H,ee,i,o,n.history,E,X,Je,U,je?[]:r,je===!0,V,Q,pe,W,le,Jt,c,n.patchRoutesOnNavigation!=null,Re);if(Y=++q,!n.dataStrategy&&!wn.some(it=>it.shouldLoad)&&Ze.length===0){let it=Bi();return Ke(U,{matches:X,loaderData:{},errors:Re&&jr(Re[1])?{[Re[0]]:Re[1].error}:null,...Y1(Re),...it?{fetchers:new Map(E.fetchers)}:{}},{flushSync:He}),{shortCircuited:!0}}if(Pt){let it={};if(!de){it.navigation=qe;let rr=Tn(Re);rr!==void 0&&(it.actionData=rr)}Ze.length>0&&(it.fetchers=Nr(Ze)),Ee(it,{flushSync:He})}Ze.forEach(it=>{Tt(it.key),it.controller&&oe.set(it.key,it.controller)});let wi=()=>Ze.forEach(it=>Tt(it.key));O&&O.signal.addEventListener("abort",wi);let{loaderResults:Ar,fetcherResults:Si}=await ei(wn,Ze,H,ee);if(H.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",wi),Ze.forEach(it=>oe.delete(it.key));let Dn=ld(Ar);if(Dn)return await ln(H,Dn.result,!0,{replace:Te}),{shortCircuited:!0};if(Dn=ld(Si),Dn)return le.add(Dn.key),await ln(H,Dn.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:es,errors:kt}=V1(E,X,Ar,Re,Ze,Si);je&&E.errors&&(kt={...E.errors,...kt});let Va=Bi(),ri=Fi(Y),ts=Va||ri||Ze.length>0;return{matches:X,loaderData:es,errors:kt,...ts?{fetchers:new Map(E.fetchers)}:{}}}function Tn(H){if(H&&!jr(H[1]))return{[H[0]]:H[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function Nr(H){return H.forEach(U=>{let X=E.fetchers.get(U.key),ee=jl(void 0,X?X.data:void 0);E.fetchers.set(U.key,ee)}),new Map(E.fetchers)}async function nn(H,U,X,ee){Tt(H);let de=(ee&&ee.flushSync)===!0,ce=a||s,he=Yv(E.location,E.matches,c,X,U,ee==null?void 0:ee.relative),ge=Po(ce,he,c),Te=F(ge,ce,he);if(Te.active&&Te.matches&&(ge=Te.matches),!ge){Ft(H,U,qr(404,{pathname:he}),{flushSync:de});return}let{path:je,submission:He,error:Re}=L1(!0,he,ee);if(Re){Ft(H,U,Re,{flushSync:de});return}let qe=Wl(ge,je),Je=new R1(n.unstable_getContext?await n.unstable_getContext():void 0),Pt=(ee&&ee.preventScrollReset)===!0;if(He&&Dr(He.formMethod)){await Wt(H,U,je,qe,ge,Je,Te.active,de,Pt,He);return}W.set(H,{routeId:U,path:je}),await zn(H,U,je,qe,ge,Je,Te.active,de,Pt,He)}async function Wt(H,U,X,ee,de,ce,he,ge,Te,je){yr(),W.delete(H);function He(Vt){if(!Vt.route.action&&!Vt.route.lazy){let fn=qr(405,{method:je.formMethod,pathname:X,routeId:U});return Ft(H,U,fn,{flushSync:ge}),!0}return!1}if(!he&&He(ee))return;let Re=E.fetchers.get(H);$n(H,WI(je,Re),{flushSync:ge});let qe=new AbortController,Je=fa(n.history,X,qe.signal,je);if(he){let Vt=await z(de,X,Je.signal,H);if(Vt.type==="aborted")return;if(Vt.type==="error"){Ft(H,U,Vt.error,{flushSync:ge});return}else if(Vt.matches){if(de=Vt.matches,ee=Wl(de,X),He(ee))return}else{Ft(H,U,qr(404,{pathname:X}),{flushSync:ge});return}}oe.set(H,qe);let Pt=q,Jt=ga(i,o,Je,de,ee,r,ce),Ze=(await Un(Je,Jt,ce,H))[ee.route.id];if(Je.signal.aborted){oe.get(H)===qe&&oe.delete(H);return}if(pe.has(H)){if(Es(Ze)||jr(Ze)){$n(H,Do(void 0));return}}else{if(Es(Ze))if(oe.delete(H),Y>Pt){$n(H,Do(void 0));return}else return le.add(H),$n(H,jl(je)),ln(Je,Ze,!1,{fetcherSubmission:je,preventScrollReset:Te});if(jr(Ze)){Ft(H,U,Ze.error);return}}let wi=E.navigation.location||E.location,Ar=fa(n.history,wi,qe.signal),Si=a||s,Dn=E.navigation.state!=="idle"?Po(Si,E.navigation.location,c):E.matches;et(Dn,"Didn't find any matches after fetcher action");let es=++q;re.set(H,es);let kt=jl(je,Ze.data);E.fetchers.set(H,kt);let{dsMatches:Va,revalidatingFetchers:ri}=B1(Ar,ce,i,o,n.history,E,Dn,je,wi,r,!1,V,Q,pe,W,le,Si,c,n.patchRoutesOnNavigation!=null,[ee.route.id,Ze]);ri.filter(Vt=>Vt.key!==H).forEach(Vt=>{let fn=Vt.key,ru=E.fetchers.get(fn),ip=jl(void 0,ru?ru.data:void 0);E.fetchers.set(fn,ip),Tt(fn),Vt.controller&&oe.set(fn,Vt.controller)}),Ee({fetchers:new Map(E.fetchers)});let ts=()=>ri.forEach(Vt=>Tt(Vt.key));qe.signal.addEventListener("abort",ts);let{loaderResults:it,fetcherResults:rr}=await ei(Va,ri,Ar,ce);if(qe.signal.aborted)return;if(qe.signal.removeEventListener("abort",ts),re.delete(H),oe.delete(H),ri.forEach(Vt=>oe.delete(Vt.key)),E.fetchers.has(H)){let Vt=Do(Ze.data);E.fetchers.set(H,Vt)}let ii=ld(it);if(ii)return ln(Ar,ii.result,!1,{preventScrollReset:Te});if(ii=ld(rr),ii)return le.add(ii.key),ln(Ar,ii.result,!1,{preventScrollReset:Te});let{loaderData:Hi,errors:ir}=V1(E,Dn,it,void 0,ri,rr);Fi(es),E.navigation.state==="loading"&&es>Y?(et(I,"Expected pending action"),O&&O.abort(),Ke(E.navigation.location,{matches:Dn,loaderData:Hi,errors:ir,fetchers:new Map(E.fetchers)})):(Ee({errors:ir,loaderData:q1(E.loaderData,Hi,Dn,ir),fetchers:new Map(E.fetchers)}),V=!1)}async function zn(H,U,X,ee,de,ce,he,ge,Te,je){let He=E.fetchers.get(H);$n(H,jl(je,He?He.data:void 0),{flushSync:ge});let Re=new AbortController,qe=fa(n.history,X,Re.signal);if(he){let Ze=await z(de,X,qe.signal,H);if(Ze.type==="aborted")return;if(Ze.type==="error"){Ft(H,U,Ze.error,{flushSync:ge});return}else if(Ze.matches)de=Ze.matches,ee=Wl(de,X);else{Ft(H,U,qr(404,{pathname:X}),{flushSync:ge});return}}oe.set(H,Re);let Je=q,Pt=ga(i,o,qe,de,ee,r,ce),wn=(await Un(qe,Pt,ce,H))[ee.route.id];if(oe.get(H)===Re&&oe.delete(H),!qe.signal.aborted){if(pe.has(H)){$n(H,Do(void 0));return}if(Es(wn))if(Y>Je){$n(H,Do(void 0));return}else{le.add(H),await ln(qe,wn,!1,{preventScrollReset:Te});return}if(jr(wn)){Ft(H,U,wn.error);return}$n(H,Do(wn.data))}}async function ln(H,U,X,{submission:ee,fetcherSubmission:de,preventScrollReset:ce,replace:he}={}){U.response.headers.has("X-Remix-Revalidate")&&(V=!0);let ge=U.response.headers.get("Location");et(ge,"Expected a Location header on the redirect Response"),ge=$1(ge,new URL(H.url),c);let Te=fc(E.location,ge,{_isRedirect:!0});if(t){let Pt=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Pt=!0;else if($y.test(ge)){const Jt=H_(ge,!0);Pt=Jt.origin!==e.location.origin||Jr(Jt.pathname,c)==null}if(Pt){he?e.location.replace(ge):e.location.assign(ge);return}}O=null;let je=he===!0||U.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:He,formAction:Re,formEncType:qe}=E.navigation;!ee&&!de&&He&&Re&&qe&&(ee=K1(E.navigation));let Je=ee||de;if(_I.has(U.response.status)&&Je&&Dr(Je.formMethod))await lt(je,Te,{submission:{...Je,formAction:ge},preventScrollReset:ce||P,enableViewTransition:X?B:void 0});else{let Pt=qm(Te,ee);await lt(je,Te,{overrideNavigation:Pt,fetcherSubmission:de,preventScrollReset:ce||P,enableViewTransition:X?B:void 0})}}async function Un(H,U,X,ee){let de,ce={};try{de=await RI(h,H,U,ee,X,!1)}catch(he){return U.filter(ge=>ge.shouldLoad).forEach(ge=>{ce[ge.route.id]={type:"error",error:he}}),ce}if(H.signal.aborted)return ce;for(let[he,ge]of Object.entries(de))if(zI(ge)){let Te=ge.result;ce[he]={type:"redirect",response:BI(Te,H,he,U,c)}}else ce[he]=await LI(ge);return ce}async function ei(H,U,X,ee){let de=Un(X,H,ee,null),ce=Promise.all(U.map(async Te=>{if(Te.matches&&Te.match&&Te.request&&Te.controller){let He=(await Un(Te.request,Te.matches,ee,Te.key))[Te.match.route.id];return{[Te.key]:He}}else return Promise.resolve({[Te.key]:{type:"error",error:qr(404,{pathname:Te.path})}})})),he=await de,ge=(await ce).reduce((Te,je)=>Object.assign(Te,je),{});return{loaderResults:he,fetcherResults:ge}}function yr(){V=!0,W.forEach((H,U)=>{oe.has(U)&&Q.add(U),Tt(U)})}function $n(H,U,X={}){E.fetchers.set(H,U),Ee({fetchers:new Map(E.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Ft(H,U,X,ee={}){let de=Ss(E.matches,U);Wn(H),Ee({errors:{[de.route.id]:X},fetchers:new Map(E.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function jn(H){return Z.set(H,(Z.get(H)||0)+1),pe.has(H)&&pe.delete(H),E.fetchers.get(H)||TI}function Wn(H){let U=E.fetchers.get(H);oe.has(H)&&!(U&&U.state==="loading"&&re.has(H))&&Tt(H),W.delete(H),re.delete(H),le.delete(H),pe.delete(H),Q.delete(H),E.fetchers.delete(H)}function Rr(H){let U=(Z.get(H)||0)-1;U<=0?(Z.delete(H),pe.add(H)):Z.set(H,U),Ee({fetchers:new Map(E.fetchers)})}function Tt(H){let U=oe.get(H);U&&(U.abort(),oe.delete(H))}function xi(H){for(let U of H){let X=jn(U),ee=Do(X.data);E.fetchers.set(U,ee)}}function Bi(){let H=[],U=!1;for(let X of le){let ee=E.fetchers.get(X);et(ee,`Expected fetcher: ${X}`),ee.state==="loading"&&(le.delete(X),H.push(X),U=!0)}return xi(H),U}function Fi(H){let U=[];for(let[X,ee]of re)if(ee<H){let de=E.fetchers.get(X);et(de,`Expected fetcher: ${X}`),de.state==="loading"&&(Tt(X),re.delete(X),U.push(X))}return xi(U),U.length>0}function dt(H,U){let X=E.blockers.get(H)||Tl;return be.get(H)!==U&&be.set(H,U),X}function br(H){E.blockers.delete(H),be.delete(H)}function tr(H,U){let X=E.blockers.get(H)||Tl;et(X.state==="unblocked"&&U.state==="blocked"||X.state==="blocked"&&U.state==="blocked"||X.state==="blocked"&&U.state==="proceeding"||X.state==="blocked"&&U.state==="unblocked"||X.state==="proceeding"&&U.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${U.state}`);let ee=new Map(E.blockers);ee.set(H,U),Ee({blockers:ee})}function ti({currentLocation:H,nextLocation:U,historyAction:X}){if(be.size===0)return;be.size>1&&tn(!1,"A router only supports one blocker at a time");let ee=Array.from(be.entries()),[de,ce]=ee[ee.length-1],he=E.blockers.get(de);if(!(he&&he.state==="proceeding")&&ce({currentLocation:H,nextLocation:U,historyAction:X}))return de}function nr(H){let U=qr(404,{pathname:H}),X=a||s,{matches:ee,route:de}=G1(X);return{notFoundMatches:ee,route:de,error:U}}function ni(H,U,X){if(v=H,x=U,b=X||null,!w&&E.navigation===Vm){w=!0;let ee=Kt(E.location,E.matches);ee!=null&&Ee({restoreScrollPosition:ee})}return()=>{v=null,x=null,b=null}}function Xt(H,U){return b&&b(H,U.map(ee=>iI(ee,E.loaderData)))||H.key}function St(H,U){if(v&&x){let X=Xt(H,U);v[X]=x()}}function Kt(H,U){if(v){let X=Xt(H,U),ee=v[X];if(typeof ee=="number")return ee}return null}function F(H,U,X){if(n.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:nh(U,X,c,!0)}}else return{active:!0,matches:nh(U,X,c,!0)||[]};return{active:!1,matches:null}}async function z(H,U,X,ee){if(!n.patchRoutesOnNavigation)return{type:"success",matches:H};let de=H;for(;;){let ce=a==null,he=a||s,ge=o;try{await n.patchRoutesOnNavigation({signal:X,path:U,matches:de,fetcherKey:ee,patch:(He,Re)=>{X.aborted||F1(He,Re,he,ge,i)}})}catch(He){return{type:"error",error:He,partialMatches:de}}finally{ce&&!X.aborted&&(s=[...s])}if(X.aborted)return{type:"aborted"};let Te=Po(he,U,c);if(Te)return{type:"success",matches:Te};let je=nh(he,U,c,!0);if(!je||de.length===je.length&&de.every((He,Re)=>He.route.id===je[Re].route.id))return{type:"success",matches:null};de=je}}function K(H){o={},a=Eh(H,i,void 0,o)}function ie(H,U){let X=a==null;F1(H,U,a||s,o,i),X&&(s=[...s],Ee({}))}return D={get basename(){return c},get future(){return f},get state(){return E},get routes(){return s},get window(){return e},initialize:Ie,subscribe:Pe,enableScrollRestoration:ni,navigate:at,fetch:nn,revalidate:wt,createHref:H=>n.history.createHref(H),encodeLocation:H=>n.history.encodeLocation(H),getFetcher:jn,deleteFetcher:Rr,dispose:we,getBlocker:dt,deleteBlocker:br,patchRoutes:ie,_internalFetchControllers:oe,_internalSetRoutes:K},D}function MI(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Yv(n,e,t,r,i,o){let s,a;if(i){s=[];for(let h of e)if(s.push(h),h.route.id===i){a=h;break}}else s=e,a=e[e.length-1];let c=Uy(r||".",zy(s),Jr(n.pathname,t)||n.pathname,o==="path");if(r==null&&(c.search=n.search,c.hash=n.hash),(r==null||r===""||r===".")&&a){let h=Wy(c.search);if(a.route.index&&!h)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&h){let f=new URLSearchParams(c.search),p=f.getAll("index");f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();c.search=g?`?${g}`:""}}return t!=="/"&&(c.pathname=c.pathname==="/"?t:Oi([t,c.pathname])),$o(c)}function L1(n,e,t){if(!t||!MI(t))return{path:e};if(t.formMethod&&!UI(t.formMethod))return{path:e,error:qr(405,{method:t.formMethod})};let r=()=>({path:e,error:qr(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),s=Q_(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Dr(o))return r();let p=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((g,[v,b])=>`${g}${v}=${b}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:s,formEncType:t.formEncType,formData:void 0,json:void 0,text:p}}}else if(t.formEncType==="application/json"){if(!Dr(o))return r();try{let p=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:s,formEncType:t.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}et(typeof FormData=="function","FormData is not available in this environment");let a,c;if(t.formData)a=Kv(t.formData),c=t.formData;else if(t.body instanceof FormData)a=Kv(t.body),c=t.body;else if(t.body instanceof URLSearchParams)a=t.body,c=W1(a);else if(t.body==null)a=new URLSearchParams,c=new FormData;else try{a=new URLSearchParams(t.body),c=W1(a)}catch{return r()}let h={formMethod:o,formAction:s,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Dr(h.formMethod))return{path:e,submission:h};let f=Xo(e);return n&&f.search&&Wy(f.search)&&a.append("index",""),f.search=`?${a}`,{path:$o(f),submission:h}}function B1(n,e,t,r,i,o,s,a,c,h,f,p,g,v,b,x,w,k,C,M){var R;let T=M?jr(M[1])?M[1].error:M[1].data:void 0,D=i.createURL(o.location),E=i.createURL(c),I;if(f&&o.errors){let V=Object.keys(o.errors)[0];I=s.findIndex(Q=>Q.route.id===V)}else if(M&&jr(M[1])){let V=M[0];I=s.findIndex(Q=>Q.route.id===V)-1}let P=M?M[1].statusCode:void 0,O=P&&P>=400,B={currentUrl:D,currentParams:((R=o.matches[0])==null?void 0:R.params)||{},nextUrl:E,nextParams:s[0].params,...a,actionResult:T,actionStatus:P},A=s.map((V,Q)=>{let{route:oe}=V,q=null;if(I!=null&&Q>I?q=!1:oe.lazy?q=!0:oe.loader==null?q=!1:f?q=Gv(oe,o.loaderData,o.errors):PI(o.loaderData,o.matches[Q],V)&&(q=!0),q!==null)return Xv(t,r,n,V,h,e,q);let Y=O?!1:p||D.pathname+D.search===E.pathname+E.search||D.search!==E.search||OI(o.matches[Q],V),re={...B,defaultShouldRevalidate:Y},le=Th(V,re);return Xv(t,r,n,V,h,e,le,re)}),L=[];return b.forEach((V,Q)=>{if(f||!s.some(pe=>pe.route.id===V.routeId)||v.has(Q))return;let oe=o.fetchers.get(Q),q=oe&&oe.state!=="idle"&&oe.data===void 0,Y=Po(w,V.path,k);if(!Y){if(C&&q)return;L.push({key:Q,routeId:V.routeId,path:V.path,matches:null,match:null,request:null,controller:null});return}if(x.has(Q))return;let re=Wl(Y,V.path),le=new AbortController,W=fa(i,V.path,le.signal),Z=null;if(g.has(Q))g.delete(Q),Z=ga(t,r,W,Y,re,h,e);else if(q)p&&(Z=ga(t,r,W,Y,re,h,e));else{let pe={...B,defaultShouldRevalidate:O?!1:p};Th(re,pe)&&(Z=ga(t,r,W,Y,re,h,e,pe))}Z&&L.push({key:Q,routeId:V.routeId,path:V.path,matches:Z,match:re,request:W,controller:le})}),{dsMatches:A,revalidatingFetchers:L}}function Gv(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&n.id in e,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function PI(n,e,t){let r=!e||t.route.id!==e.route.id,i=!n.hasOwnProperty(t.route.id);return r||i}function OI(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Th(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function F1(n,e,t,r,i){let o;if(n){let c=r[n];et(c,`No route found to patch children into: routeId = ${n}`),c.children||(c.children=[]),o=c.children}else o=t;let s=e.filter(c=>!o.some(h=>Y_(c,h))),a=Eh(s,i,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...a)}function Y_(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>Y_(t,o))}):!1}var H1=new WeakMap,G_=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let i=t[e.id];if(et(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[n];if(!o)return;let s=H1.get(i);s||(s={},H1.set(i,s));let a=s[n];if(a)return a;let c=(async()=>{let h=eI(n),p=i[n]!==void 0&&n!=="hasErrorBoundary";if(h)tn(!h,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),s[n]=Promise.resolve();else if(p)tn(!1,`Route "${i.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let g=await o();g!=null&&(Object.assign(i,{[n]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[n]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return s[n]=c,c},z1=new WeakMap;function II(n,e,t,r,i){let o=t[n.id];if(et(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let f=z1.get(o);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{et(typeof n.lazy=="function","No lazy route function found");let g=await n.lazy(),v={};for(let b in g){let x=g[b];if(x===void 0)continue;let w=nI(b),C=o[b]!==void 0&&b!=="hasErrorBoundary";w?tn(!w,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):C?tn(!C,`Route "${o.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):v[b]=x}Object.assign(o,v),Object.assign(o,{...r(o),lazy:void 0})})();return z1.set(o,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let s=Object.keys(n.lazy),a=[],c;for(let f of s){if(i&&i.includes(f))continue;let p=G_({key:f,route:n,manifest:t,mapRouteProperties:r});p&&(a.push(p),f===e&&(c=p))}let h=a.length>0?Promise.all(a).then(()=>{}):void 0;return h==null||h.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:c}}async function U1(n){let e=n.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{t[e[o].route.id]=i}),t}async function NI(n){return n.matches.some(e=>e.route.unstable_middleware)?X_(n,!1,()=>U1(n),(e,t)=>({[t]:{type:"error",result:e}})):U1(n)}async function X_(n,e,t,r){let{matches:i,request:o,params:s,context:a}=n,c={handlerResult:void 0};try{let h=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(g=>[p.route.id,g]):[]),f=await K_({request:o,params:s,context:a},h,e,c,t);return e?f:c.handlerResult}catch(h){if(!c.middlewareError)throw h;let f=await r(c.middlewareError.error,c.middlewareError.routeId);return c.handlerResult?Object.assign(c.handlerResult,f):f}}async function K_(n,e,t,r,i,o=0){let{request:s}=n;if(s.signal.aborted)throw s.signal.reason?s.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${s.method} ${s.url}`);let a=e[o];if(!a)return r.handlerResult=await i(),r.handlerResult;let[c,h]=a,f=!1,p,g=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await K_(n,e,t,r,i,o+1)};try{let v=await h({request:n.request,params:n.params,context:n.context},g);return f?v===void 0?p:v:g()}catch(v){throw r.middlewareError?r.middlewareError.error!==v&&(r.middlewareError={routeId:c,error:v}):r.middlewareError={routeId:c,error:v},v}}function J_(n,e,t,r,i){let o=G_({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),s=II(r.route,Dr(t.method)?"action":"loader",e,n,i);return{middleware:o,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function Xv(n,e,t,r,i,o,s,a=null){let c=!1,h=J_(n,e,t,r,i);return{...r,_lazyPromises:h,shouldLoad:s,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(f){return c=!0,a?typeof f=="boolean"?Th(r,{...a,defaultShouldRevalidate:f}):Th(r,a):s},resolve(f){return c||s||f&&t.method==="GET"&&(r.route.lazy||r.route.loader)?AI({request:t,match:r,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:f,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function ga(n,e,t,r,i,o,s,a=null){return r.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:J_(n,e,t,c,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Xv(n,e,t,c,o,s,!0,a))}async function RI(n,e,t,r,i,o){t.some(h=>{var f;return(f=h._lazyPromises)==null?void 0:f.middleware})&&await Promise.all(t.map(h=>{var f;return(f=h._lazyPromises)==null?void 0:f.middleware}));let s={request:e,params:t[0].params,context:i,matches:t},c=await n({...s,fetcherKey:r,unstable_runClientMiddleware:h=>{let f=s;return X_(f,!1,()=>h({...f,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,g)=>({[g]:{type:"error",result:p}}))}});try{await Promise.all(t.flatMap(h=>{var f,p;return[(f=h._lazyPromises)==null?void 0:f.handler,(p=h._lazyPromises)==null?void 0:p.route]}))}catch{}return c}async function AI({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let s,a,c=Dr(n.method),h=c?"action":"loader",f=p=>{let g,v=new Promise((w,k)=>g=k);a=()=>g(),n.signal.addEventListener("abort",a);let b=w=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):p({request:n,params:e.params,context:o},...w!==void 0?[w]:[]),x=(async()=>{try{return{type:"data",result:await(i?i(k=>b(k)):b())}}catch(w){return{type:"error",result:w}}})();return Promise.race([x,v])};try{let p=c?e.route.action:e.route.loader;if(t||r)if(p){let g,[v]=await Promise.all([f(p).catch(b=>{g=b}),t,r]);if(g!==void 0)throw g;s=v}else{await t;let g=c?e.route.action:e.route.loader;if(g)[s]=await Promise.all([f(g),r]);else if(h==="action"){let v=new URL(n.url),b=v.pathname+v.search;throw qr(405,{method:n.method,pathname:b,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(p)s=await f(p);else{let g=new URL(n.url),v=g.pathname+g.search;throw qr(404,{pathname:v})}}catch(p){return{type:"error",result:p}}finally{a&&n.signal.removeEventListener("abort",a)}return s}async function LI(n){var r,i,o,s,a,c;let{result:e,type:t}=n;if(Z_(e)){let h;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(f){return{type:"error",error:f}}return t==="error"?{type:"error",error:new _h(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return t==="error"?X1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new _h(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:pc(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:pc(e)?e.status:void 0}:X1(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function BI(n,e,t,r,i){let o=n.headers.get("Location");if(et(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!$y.test(o)){let s=r.slice(0,r.findIndex(a=>a.route.id===t)+1);o=Yv(new URL(e.url),s,i,o),n.headers.set("Location",o)}return n}function $1(n,e,t){if($y.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Jr(i.pathname,t)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return n}function fa(n,e,t,r){let i=n.createURL(Q_(e)).toString(),o={signal:t};if(r&&Dr(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Kv(r.formData):o.body=r.formData}return new Request(i,o)}function Kv(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function W1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function FI(n,e,t,r=!1,i=!1){let o={},s=null,a,c=!1,h={},f=t&&jr(t[1])?t[1].error:void 0;return n.forEach(p=>{if(!(p.route.id in e))return;let g=p.route.id,v=e[g];if(et(!Es(v),"Cannot handle redirect results in processLoaderData"),jr(v)){let b=v.error;if(f!==void 0&&(b=f,f=void 0),s=s||{},i)s[g]=b;else{let x=Ss(n,g);s[x.route.id]==null&&(s[x.route.id]=b)}r||(o[g]=q_),c||(c=!0,a=pc(v.error)?v.error.status:500),v.headers&&(h[g]=v.headers)}else o[g]=v.data,v.statusCode&&v.statusCode!==200&&!c&&(a=v.statusCode),v.headers&&(h[g]=v.headers)}),f!==void 0&&t&&(s={[t[0]]:f},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:h}}function V1(n,e,t,r,i,o){let{loaderData:s,errors:a}=FI(e,t,r);return i.filter(c=>!c.matches||c.matches.some(h=>h.shouldLoad)).forEach(c=>{let{key:h,match:f,controller:p}=c,g=o[h];if(et(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(jr(g)){let v=Ss(n.matches,f==null?void 0:f.route.id);a&&a[v.route.id]||(a={...a,[v.route.id]:g.error}),n.fetchers.delete(h)}else if(Es(g))et(!1,"Unhandled fetcher revalidation redirect");else{let v=Do(g.data);n.fetchers.set(h,v)}}),{loaderData:s,errors:a}}function q1(n,e,t,r){let i=Object.entries(e).filter(([,o])=>o!==q_).reduce((o,[s,a])=>(o[s]=a,o),{});for(let o of t){let s=o.route.id;if(!e.hasOwnProperty(s)&&n.hasOwnProperty(s)&&o.route.loader&&(i[s]=n[s]),r&&r.hasOwnProperty(s))break}return i}function Y1(n){return n?jr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ss(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function G1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function qr(n,{pathname:e,routeId:t,method:r,type:i,message:o}={}){let s="Unknown Server Error",a="Unknown @remix-run/router error";return n===400?(s="Bad Request",r&&e&&t?a=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):n===403?(s="Forbidden",a=`Route "${t}" does not match URL "${e}"`):n===404?(s="Not Found",a=`No route matches URL "${e}"`):n===405&&(s="Method Not Allowed",r&&e&&t?a=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new _h(n||500,s,new Error(a),!0)}function ld(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(Es(i))return{key:r,result:i}}}function Q_(n){let e=typeof n=="string"?Xo(n):n;return $o({...e,hash:""})}function HI(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function zI(n){return Z_(n.result)&&CI.has(n.result.status)}function jr(n){return n.type==="error"}function Es(n){return(n&&n.type)==="redirect"}function X1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Z_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function UI(n){return EI.has(n.toUpperCase())}function Dr(n){return SI.has(n.toUpperCase())}function Wy(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Wl(n,e){let t=typeof e=="string"?Xo(e).search:e.search;if(n[n.length-1].route.index&&Wy(t||""))return n[n.length-1];let r=$_(n);return r[r.length-1]}function K1(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:o,json:s}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:s,text:void 0}}}function qm(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $I(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function jl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function WI(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Do(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function VI(n,e){try{let t=n.sessionStorage.getItem(V_);if(t){let r=JSON.parse(t);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function qI(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(V_,JSON.stringify(t))}catch(r){tn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function YI(){let n,e,t=new Promise((r,i)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{i(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Bs=j.createContext(null);Bs.displayName="DataRouter";var Lc=j.createContext(null);Lc.displayName="DataRouterState";var Vy=j.createContext({isTransitioning:!1});Vy.displayName="ViewTransition";var eT=j.createContext(new Map);eT.displayName="Fetchers";var GI=j.createContext(null);GI.displayName="Await";var Ri=j.createContext(null);Ri.displayName="Navigation";var pf=j.createContext(null);pf.displayName="Location";var Ai=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var qy=j.createContext(null);qy.displayName="RouteError";function XI(n,{relative:e}={}){et(Bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=j.useContext(Ri),{hash:i,pathname:o,search:s}=Fc(n,{relative:e}),a=o;return t!=="/"&&(a=o==="/"?t:Oi([t,o])),r.createHref({pathname:a,search:s,hash:i})}function Bc(){return j.useContext(pf)!=null}function vr(){return et(Bc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(pf).location}var tT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(n){j.useContext(Ri).static||j.useLayoutEffect(n)}function Bt(){let{isDataRoute:n}=j.useContext(Ai);return n?lN():KI()}function KI(){et(Bc(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(Bs),{basename:e,navigator:t}=j.useContext(Ri),{matches:r}=j.useContext(Ai),{pathname:i}=vr(),o=JSON.stringify(zy(r)),s=j.useRef(!1);return nT(()=>{s.current=!0}),j.useCallback((c,h={})=>{if(tn(s.current,tT),!s.current)return;if(typeof c=="number"){t.go(c);return}let f=Uy(c,JSON.parse(o),i,h.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Oi([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,o,i,n])}j.createContext(null);function rT(){let{matches:n}=j.useContext(Ai),e=n[n.length-1];return e?e.params:{}}function Fc(n,{relative:e}={}){let{matches:t}=j.useContext(Ai),{pathname:r}=vr(),i=JSON.stringify(zy(t));return j.useMemo(()=>Uy(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function JI(n,e,t,r){et(Bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=j.useContext(Ri),{matches:o}=j.useContext(Ai),s=o[o.length-1],a=s?s.params:{},c=s?s.pathname:"/",h=s?s.pathnameBase:"/",f=s&&s.route;{let k=f&&f.path||"";iT(c,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=vr(),g;g=p;let v=g.pathname||"/",b=v;if(h!=="/"){let k=h.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=Po(n,{pathname:b});return tn(f||x!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),tn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nN(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Oi([h,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Oi([h,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,t,r)}function QI(){let n=aN(),e=pc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:i},t):null,s)}var ZI=j.createElement(QI,null),eN=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?j.createElement(Ai.Provider,{value:this.props.routeContext},j.createElement(qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tN({routeContext:n,match:e,children:t}){let r=j.useContext(Bs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Ai.Provider,{value:n},t)}function nN(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let c=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);et(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,a=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(a=c),h.route.id){let{loaderData:f,errors:p}=t,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,h,f)=>{let p,g=!1,v=null,b=null;t&&(p=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||ZI,s&&(a<0&&f===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):a===f&&(g=!0,b=h.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,f+1)),w=()=>{let k;return p?k=v:g?k=b:h.route.Component?k=j.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=c,j.createElement(tN,{match:h,routeContext:{outlet:c,matches:x,isDataRoute:t!=null},children:k})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(eN,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function Yy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rN(n){let e=j.useContext(Bs);return et(e,Yy(n)),e}function iN(n){let e=j.useContext(Lc);return et(e,Yy(n)),e}function oN(n){let e=j.useContext(Ai);return et(e,Yy(n)),e}function Gy(n){let e=oN(n),t=e.matches[e.matches.length-1];return et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function sN(){return Gy("useRouteId")}function aN(){var r;let n=j.useContext(qy),e=iN("useRouteError"),t=Gy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function lN(){let{router:n}=rN("useNavigate"),e=Gy("useNavigate"),t=j.useRef(!1);return nT(()=>{t.current=!0}),j.useCallback(async(i,o={})=>{tn(t.current,tT),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var J1={};function iT(n,e,t){!e&&!J1[n]&&(J1[n]=!0,tn(!1,t))}var Q1={};function Z1(n,e){!n&&!Q1[e]&&(Q1[e]=!0,console.warn(e))}function cN(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&tn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:j.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&tn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:j.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&tn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:j.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var uN=["HydrateFallback","hydrateFallbackElement"],dN=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function hN({router:n,flushSync:e}){let[t,r]=j.useState(n.state),[i,o]=j.useState(),[s,a]=j.useState({isTransitioning:!1}),[c,h]=j.useState(),[f,p]=j.useState(),[g,v]=j.useState(),b=j.useRef(new Map),x=j.useCallback((M,{deletedFetchers:T,flushSync:D,viewTransitionOpts:E})=>{M.fetchers.forEach((P,O)=>{P.data!==void 0&&b.current.set(O,P.data)}),T.forEach(P=>b.current.delete(P)),Z1(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Z1(E==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!E||!I){e&&D?e(()=>r(M)):j.startTransition(()=>r(M));return}if(e&&D){e(()=>{f&&(c&&c.resolve(),f.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:E.currentLocation,nextLocation:E.nextLocation})});let P=n.window.document.startViewTransition(()=>{e(()=>r(M))});P.finished.finally(()=>{e(()=>{h(void 0),p(void 0),o(void 0),a({isTransitioning:!1})})}),e(()=>p(P));return}f?(c&&c.resolve(),f.skipTransition(),v({state:M,currentLocation:E.currentLocation,nextLocation:E.nextLocation})):(o(M),a({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}))},[n.window,e,f,c]);j.useLayoutEffect(()=>n.subscribe(x),[n,x]),j.useEffect(()=>{s.isTransitioning&&!s.flushSync&&h(new dN)},[s]),j.useEffect(()=>{if(c&&i&&n.window){let M=i,T=c.promise,D=n.window.document.startViewTransition(async()=>{j.startTransition(()=>r(M)),await T});D.finished.finally(()=>{h(void 0),p(void 0),o(void 0),a({isTransitioning:!1})}),p(D)}},[i,c,n.window]),j.useEffect(()=>{c&&i&&t.location.key===i.location.key&&c.resolve()},[c,f,t.location,i]),j.useEffect(()=>{!s.isTransitioning&&g&&(o(g.state),a({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[s.isTransitioning,g]);let w=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:M=>n.navigate(M),push:(M,T,D)=>n.navigate(M,{state:T,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(M,T,D)=>n.navigate(M,{replace:!0,state:T,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),k=n.basename||"/",C=j.useMemo(()=>({router:n,navigator:w,static:!1,basename:k}),[n,w,k]);return j.createElement(j.Fragment,null,j.createElement(Bs.Provider,{value:C},j.createElement(Lc.Provider,{value:t},j.createElement(eT.Provider,{value:b.current},j.createElement(Vy.Provider,{value:s},j.createElement(mN,{basename:k,location:t.location,navigationType:t.historyAction,navigator:w},j.createElement(fN,{routes:n.routes,future:n.future,state:t})))))),null)}var fN=j.memo(pN);function pN({routes:n,future:e,state:t}){return JI(n,void 0,t,e)}function mN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){et(!Bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),a=j.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof t=="string"&&(t=Xo(t));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:g="default"}=t,v=j.useMemo(()=>{let b=Jr(c,s);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:g},navigationType:r}},[s,c,h,f,p,g,r]);return tn(v!=null,`<Router basename="${s}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:j.createElement(Ri.Provider,{value:a},j.createElement(pf.Provider,{children:e,value:v}))}var rh="get",ih="application/x-www-form-urlencoded";function mf(n){return n!=null&&typeof n.tagName=="string"}function gN(n){return mf(n)&&n.tagName.toLowerCase()==="button"}function vN(n){return mf(n)&&n.tagName.toLowerCase()==="form"}function yN(n){return mf(n)&&n.tagName.toLowerCase()==="input"}function bN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xN(n,e){return n.button===0&&(!e||e==="_self")&&!bN(n)}function Jv(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function wN(n,e){let t=Jv(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(o=>{t.append(i,o)})}),t}var cd=null;function SN(){if(cd===null)try{new FormData(document.createElement("form"),0),cd=!1}catch{cd=!0}return cd}var kN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(n){return n!=null&&!kN.has(n)?(tn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):n}function EN(n,e){let t,r,i,o,s;if(vN(n)){let a=n.getAttribute("action");r=a?Jr(a,e):null,t=n.getAttribute("method")||rh,i=Ym(n.getAttribute("enctype"))||ih,o=new FormData(n)}else if(gN(n)||yN(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||a.getAttribute("action");if(r=c?Jr(c,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||rh,i=Ym(n.getAttribute("formenctype"))||Ym(a.getAttribute("enctype"))||ih,o=new FormData(a,n),!SN()){let{name:h,type:f,value:p}=n;if(f==="image"){let g=h?`${h}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else h&&o.append(h,p)}}else{if(mf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rh,r=null,i=ih,s=n}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:s}}function Xy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function CN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _N(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function TN(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await CN(o,t);return s.links?s.links():[]}return[]}));return PN(r.flat(1).filter(_N).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function eS(n,e,t,r,i,o){let s=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,a=(c,h)=>{var f;return t[h].pathname!==c.pathname||((f=t[h].route.path)==null?void 0:f.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,h)=>s(c,h)||a(c,h)):o==="data"?e.filter((c,h)=>{var p;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,h)||a(c,h))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function jN(n,e,{includeHydrateFallback:t}={}){return DN(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function DN(n){return[...new Set(n)]}function MN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function PN(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(MN(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ON=new Set([100,101,204,205]);function IN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Jr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function oT(){let n=j.useContext(Bs);return Xy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function NN(){let n=j.useContext(Lc);return Xy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ky=j.createContext(void 0);Ky.displayName="FrameworkContext";function sT(){let n=j.useContext(Ky);return Xy(n,"You must render this element inside a <HydratedRouter> element"),n}function RN(n,e){let t=j.useContext(Ky),[r,i]=j.useState(!1),[o,s]=j.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,g=j.useRef(null);j.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let x=k=>{k.forEach(C=>{s(C.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[n]),j.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),s(!1)};return t?n!=="intent"?[o,g,{}]:[o,g,{onFocus:Dl(a,v),onBlur:Dl(c,b),onMouseEnter:Dl(h,v),onMouseLeave:Dl(f,b),onTouchStart:Dl(p,v)}]:[!1,g,{}]}function Dl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function AN({page:n,...e}){let{router:t}=oT(),r=j.useMemo(()=>Po(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?j.createElement(BN,{page:n,matches:r,...e}):null}function LN(n){let{manifest:e,routeModules:t}=sT(),[r,i]=j.useState([]);return j.useEffect(()=>{let o=!1;return TN(n,e,t).then(s=>{o||i(s)}),()=>{o=!0}},[n,e,t]),r}function BN({page:n,matches:e,...t}){let r=vr(),{manifest:i,routeModules:o}=sT(),{basename:s}=oT(),{loaderData:a,matches:c}=NN(),h=j.useMemo(()=>eS(n,e,c,i,r,"data"),[n,e,c,i,r]),f=j.useMemo(()=>eS(n,e,c,i,r,"assets"),[n,e,c,i,r]),p=j.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,x=!1;if(e.forEach(k=>{var M;let C=i.routes[k.route.id];!C||!C.hasLoader||(!h.some(T=>T.route.id===k.route.id)&&k.route.id in a&&((M=o[k.route.id])!=null&&M.shouldRevalidate)||C.hasClientLoader?x=!0:b.add(k.route.id))}),b.size===0)return[];let w=IN(n,s);return x&&b.size>0&&w.searchParams.set("_routes",e.filter(k=>b.has(k.route.id)).map(k=>k.route.id).join(",")),[w.pathname+w.search]},[s,a,r,i,h,e,n,o]),g=j.useMemo(()=>jN(f,i),[f,i]),v=LN(f);return j.createElement(j.Fragment,null,p.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),v.map(({key:b,link:x})=>j.createElement("link",{key:b,...x})))}function FN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var aT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aT&&(window.__reactRouterVersion="7.6.2")}catch{}function HN(n,e){return DI({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:KO({window:e==null?void 0:e.window}),hydrationData:zN(),routes:n,mapRouteProperties:cN,hydrationRouteProperties:uN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function zN(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:UN(n.errors)}),n}function UN(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new _h(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",t[r]=s}catch{}}if(t[r]==null){let o=new Error(i.message);o.stack="",t[r]=o}}else t[r]=i;return t}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=j.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:c,to:h,preventScrollReset:f,viewTransition:p,...g},v){let{basename:b}=j.useContext(Ri),x=typeof h=="string"&&lT.test(h),w,k=!1;if(typeof h=="string"&&x&&(w=h,aT))try{let O=new URL(window.location.href),B=h.startsWith("//")?new URL(O.protocol+h):new URL(h),A=Jr(B.pathname,b);B.origin===O.origin&&A!=null?h=A+B.search+B.hash:k=!0}catch{tn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=XI(h,{relative:i}),[M,T,D]=RN(r,g),E=VN(h,{replace:s,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:p});function I(O){e&&e(O),O.defaultPrevented||E(O)}let P=j.createElement("a",{...g,...D,href:w||C,onClick:k||o?e:I,ref:FN(v,T),target:c,"data-discover":!x&&t==="render"?"true":void 0});return M&&!x?j.createElement(j.Fragment,null,P,j.createElement(AN,{page:C})):P});gt.displayName="Link";var cT=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:c,...h},f){let p=Fc(s,{relative:h.relative}),g=vr(),v=j.useContext(Lc),{navigator:b,basename:x}=j.useContext(Ri),w=v!=null&&KN(p)&&a===!0,k=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,C=g.pathname,M=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(C=C.toLowerCase(),M=M?M.toLowerCase():null,k=k.toLowerCase()),M&&x&&(M=Jr(M,x)||M);const T=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let D=C===k||!i&&C.startsWith(k)&&C.charAt(T)==="/",E=M!=null&&(M===k||!i&&M.startsWith(k)&&M.charAt(k.length)==="/"),I={isActive:D,isPending:E,isTransitioning:w},P=D?e:void 0,O;typeof r=="function"?O=r(I):O=[r,D?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(I):o;return j.createElement(gt,{...h,"aria-current":P,className:O,ref:f,style:B,to:s,viewTransition:a},typeof c=="function"?c(I):c)});cT.displayName="NavLink";var $N=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:s=rh,action:a,onSubmit:c,relative:h,preventScrollReset:f,viewTransition:p,...g},v)=>{let b=GN(),x=XN(a,{relative:h}),w=s.toLowerCase()==="get"?"get":"post",k=typeof a=="string"&&lT.test(a),C=M=>{if(c&&c(M),M.defaultPrevented)return;M.preventDefault();let T=M.nativeEvent.submitter,D=(T==null?void 0:T.getAttribute("formmethod"))||s;b(T||M.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:i,state:o,relative:h,preventScrollReset:f,viewTransition:p})};return j.createElement("form",{ref:v,method:w,action:x,onSubmit:r?c:C,...g,"data-discover":!k&&n==="render"?"true":void 0})});$N.displayName="Form";function WN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(n){let e=j.useContext(Bs);return et(e,WN(n)),e}function VN(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=Bt(),c=vr(),h=Fc(n,{relative:o});return j.useCallback(f=>{if(xN(f,e)){f.preventDefault();let p=t!==void 0?t:$o(c)===$o(h);a(n,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[c,a,h,t,r,e,n,i,o,s])}function dT(n){tn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(Jv(n)),t=j.useRef(!1),r=vr(),i=j.useMemo(()=>wN(r.search,t.current?null:e.current),[r.search]),o=Bt(),s=j.useCallback((a,c)=>{const h=Jv(typeof a=="function"?a(i):a);t.current=!0,o("?"+h,c)},[o,i]);return[i,s]}var qN=0,YN=()=>`__${String(++qN)}__`;function GN(){let{router:n}=uT("useSubmit"),{basename:e}=j.useContext(Ri),t=sN();return j.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:c,body:h}=EN(r,e);if(i.navigate===!1){let f=i.fetcherKey||YN();await n.fetch(f,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function XN(n,{relative:e}={}){let{basename:t}=j.useContext(Ri),r=j.useContext(Ai);et(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Fc(n||".",{relative:e})},s=vr();if(n==null){o.search=s.search;let a=new URLSearchParams(o.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();o.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Oi([t,o.pathname])),$o(o)}function KN(n,e={}){let t=j.useContext(Vy);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uT("useViewTransitionState"),i=Fc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Jr(t.currentLocation.pathname,r)||t.currentLocation.pathname,s=Jr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ch(i.pathname,s)!=null||Ch(i.pathname,o)!=null}[...ON];var No=ff();const JN=hf(No);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function QN(n){return j.createElement(hN,{flushSync:No.flushSync,...n})}var It={},ud={},dd={},hd={},Gm,tS;function ZN(){if(tS)return Gm;tS=1;var n="Expected a function",e=NaN,t="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,c=typeof window=="object"&&window&&window.Object===Object&&window,h=typeof self=="object"&&self&&self.Object===Object&&self,f=c||h||Function("return this")(),p=Object.prototype,g=p.toString,v=Math.max,b=Math.min,x=function(){return f.Date.now()};function w(E,I,P){var O,B,A,L,R,V,Q=0,oe=!1,q=!1,Y=!0;if(typeof E!="function")throw new TypeError(n);I=D(I)||0,C(P)&&(oe=!!P.leading,q="maxWait"in P,A=q?v(D(P.maxWait)||0,I):A,Y="trailing"in P?!!P.trailing:Y);function re(we){var Pe=O,Ee=B;return O=B=void 0,Q=we,L=E.apply(Ee,Pe),L}function le(we){return Q=we,R=setTimeout(pe,I),oe?re(we):L}function W(we){var Pe=we-V,Ee=we-Q,Ke=I-Pe;return q?b(Ke,A-Ee):Ke}function Z(we){var Pe=we-V,Ee=we-Q;return V===void 0||Pe>=I||Pe<0||q&&Ee>=A}function pe(){var we=x();if(Z(we))return be(we);R=setTimeout(pe,W(we))}function be(we){return R=void 0,Y&&O?re(we):(O=B=void 0,L)}function ke(){R!==void 0&&clearTimeout(R),Q=0,O=V=B=R=void 0}function me(){return R===void 0?L:be(x())}function Ie(){var we=x(),Pe=Z(we);if(O=arguments,B=this,V=we,Pe){if(R===void 0)return le(V);if(q)return R=setTimeout(pe,I),re(V)}return R===void 0&&(R=setTimeout(pe,I)),L}return Ie.cancel=ke,Ie.flush=me,Ie}function k(E,I,P){var O=!0,B=!0;if(typeof E!="function")throw new TypeError(n);return C(P)&&(O="leading"in P?!!P.leading:O,B="trailing"in P?!!P.trailing:B),w(E,I,{leading:O,maxWait:I,trailing:B})}function C(E){var I=typeof E;return!!E&&(I=="object"||I=="function")}function M(E){return!!E&&typeof E=="object"}function T(E){return typeof E=="symbol"||M(E)&&g.call(E)==t}function D(E){if(typeof E=="number")return E;if(T(E))return e;if(C(E)){var I=typeof E.valueOf=="function"?E.valueOf():E;E=C(I)?I+"":I}if(typeof E!="string")return E===0?E:+E;E=E.replace(r,"");var P=o.test(E);return P||s.test(E)?a(E.slice(2),P?2:8):i.test(E)?e:+E}return Gm=k,Gm}var Ml={},nS;function Jy(){if(nS)return Ml;nS=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.addPassiveEventListener=function(t,r,i){var o=i.name;o||(o=r,console.warn("Listener must be a named function.")),n.has(r)||n.set(r,new Set);var s=n.get(r);if(!s.has(o)){var a=function(){var c=!1;try{var h=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("test",null,h)}catch{}return c}();t.addEventListener(r,i,a?{passive:!0}:!1),s.add(o)}},Ml.removePassiveEventListener=function(t,r,i){t.removeEventListener(r,i),n.get(r).delete(i.name||r)};var n=new Map;return Ml}var rS;function Qy(){if(rS)return hd;rS=1,Object.defineProperty(hd,"__esModule",{value:!0});var n=ZN(),e=r(n),t=Jy();function r(s){return s&&s.__esModule?s:{default:s}}var i=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,e.default)(a,c)},o={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(a,c){if(a){var h=i(function(f){o.scrollHandler(a)},c);return o.scrollSpyContainers.push(a),(0,t.addPassiveEventListener)(a,"scroll",h),function(){(0,t.removePassiveEventListener)(a,"scroll",h),o.scrollSpyContainers.splice(o.scrollSpyContainers.indexOf(a),1)}}return function(){}},isMounted:function(a){return o.scrollSpyContainers.indexOf(a)!==-1},currentPositionX:function(a){if(a===document){var c=window.scrollY!==void 0,h=(document.compatMode||"")==="CSS1Compat";return c?window.scrollX:h?document.documentElement.scrollLeft:document.body.scrollLeft}else return a.scrollLeft},currentPositionY:function(a){if(a===document){var c=window.scrollX!==void 0,h=(document.compatMode||"")==="CSS1Compat";return c?window.scrollY:h?document.documentElement.scrollTop:document.body.scrollTop}else return a.scrollTop},scrollHandler:function(a){var c=o.scrollSpyContainers[o.scrollSpyContainers.indexOf(a)].spyCallbacks||[];c.forEach(function(h){return h(o.currentPositionX(a),o.currentPositionY(a))})},addStateHandler:function(a){o.spySetState.push(a)},addSpyHandler:function(a,c){var h=o.scrollSpyContainers[o.scrollSpyContainers.indexOf(c)];h.spyCallbacks||(h.spyCallbacks=[]),h.spyCallbacks.push(a)},updateStates:function(){o.spySetState.forEach(function(a){return a()})},unmount:function(a,c){o.scrollSpyContainers.forEach(function(h){return h.spyCallbacks&&h.spyCallbacks.length&&h.spyCallbacks.indexOf(c)>-1&&h.spyCallbacks.splice(h.spyCallbacks.indexOf(c),1)}),o.spySetState&&o.spySetState.length&&o.spySetState.indexOf(a)>-1&&o.spySetState.splice(o.spySetState.indexOf(a),1),document.removeEventListener("scroll",o.scrollHandler)},update:function(){return o.scrollSpyContainers.forEach(function(a){return o.scrollHandler(a)})}};return hd.default=o,hd}var fd={},pd={},iS;function gf(){if(iS)return pd;iS=1,Object.defineProperty(pd,"__esModule",{value:!0});var n=function(a,c){var h=a.indexOf("#")===0?a.substring(1):a,f=h?"#"+h:"",p=window&&window.location,g=f?p.pathname+p.search+f:p.pathname+p.search;c?history.pushState(history.state,"",g):history.replaceState(history.state,"",g)},e=function(){return window.location.hash.replace(/^#/,"")},t=function(a){return function(c){return a.contains?a!=c&&a.contains(c):!!(a.compareDocumentPosition(c)&16)}},r=function(a){return getComputedStyle(a).position!=="static"},i=function(a,c){for(var h=a.offsetTop,f=a.offsetParent;f&&!c(f);)h+=f.offsetTop,f=f.offsetParent;return{offsetTop:h,offsetParent:f}},o=function(a,c,h){if(h)return a===document?c.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(a).position!=="static"?c.offsetLeft:c.offsetLeft-a.offsetLeft;if(a===document)return c.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(r(a)){if(c.offsetParent!==a){var f=function(w){return w===a||w===document},p=i(c,f),g=p.offsetTop,v=p.offsetParent;if(v!==a)throw new Error("Seems containerElement is not an ancestor of the Element");return g}return c.offsetTop}if(c.offsetParent===a.offsetParent)return c.offsetTop-a.offsetTop;var b=function(w){return w===document};return i(c,b).offsetTop-i(a,b).offsetTop};return pd.default={updateHash:n,getHash:e,filterElementInContainer:t,scrollOffset:o},pd}var md={},gd={},oS;function eR(){return oS||(oS=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),gd}var vd={},sS;function tR(){if(sS)return vd;sS=1,Object.defineProperty(vd,"__esModule",{value:!0});var n=Jy(),e=["mousedown","wheel","touchmove","keydown"];return vd.default={subscribe:function(r){return typeof document<"u"&&e.forEach(function(i){return(0,n.addPassiveEventListener)(document,i,r)})}},vd}var yd={},aS;function Zy(){if(aS)return yd;aS=1,Object.defineProperty(yd,"__esModule",{value:!0});var n={registered:{},scrollEvent:{register:function(t,r){n.registered[t]=r},remove:function(t){n.registered[t]=null}}};return yd.default=n,yd}var lS;function hT(){if(lS)return md;lS=1,Object.defineProperty(md,"__esModule",{value:!0});var n=Object.assign||function(B){for(var A=1;A<arguments.length;A++){var L=arguments[A];for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(B[R]=L[R])}return B},e=gf();c(e);var t=eR(),r=c(t),i=tR(),o=c(i),s=Zy(),a=c(s);function c(B){return B&&B.__esModule?B:{default:B}}var h=function(A){return r.default[A.smooth]||r.default.defaultEasing},f=function(A){return typeof A=="function"?A:function(){return A}},p=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},g=function(){return p()||function(B,A,L){window.setTimeout(B,L||1e3/60,new Date().getTime())}}(),v=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},b=function(A){var L=A.data.containerElement;if(L&&L!==document&&L!==document.body)return L.scrollLeft;var R=window.pageXOffset!==void 0,V=(document.compatMode||"")==="CSS1Compat";return R?window.pageXOffset:V?document.documentElement.scrollLeft:document.body.scrollLeft},x=function(A){var L=A.data.containerElement;if(L&&L!==document&&L!==document.body)return L.scrollTop;var R=window.pageXOffset!==void 0,V=(document.compatMode||"")==="CSS1Compat";return R?window.pageYOffset:V?document.documentElement.scrollTop:document.body.scrollTop},w=function(A){var L=A.data.containerElement;if(L&&L!==document&&L!==document.body)return L.scrollWidth-L.offsetWidth;var R=document.body,V=document.documentElement;return Math.max(R.scrollWidth,R.offsetWidth,V.clientWidth,V.scrollWidth,V.offsetWidth)},k=function(A){var L=A.data.containerElement;if(L&&L!==document&&L!==document.body)return L.scrollHeight-L.offsetHeight;var R=document.body,V=document.documentElement;return Math.max(R.scrollHeight,R.offsetHeight,V.clientHeight,V.scrollHeight,V.offsetHeight)},C=function B(A,L,R){var V=L.data;if(!L.ignoreCancelEvents&&V.cancel){a.default.registered.end&&a.default.registered.end(V.to,V.target,V.currentPositionY);return}if(V.delta=Math.round(V.targetPosition-V.startPosition),V.start===null&&(V.start=R),V.progress=R-V.start,V.percent=V.progress>=V.duration?1:A(V.progress/V.duration),V.currentPosition=V.startPosition+Math.ceil(V.delta*V.percent),V.containerElement&&V.containerElement!==document&&V.containerElement!==document.body?L.horizontal?V.containerElement.scrollLeft=V.currentPosition:V.containerElement.scrollTop=V.currentPosition:L.horizontal?window.scrollTo(V.currentPosition,0):window.scrollTo(0,V.currentPosition),V.percent<1){var Q=B.bind(null,A,L);g.call(window,Q);return}a.default.registered.end&&a.default.registered.end(V.to,V.target,V.currentPosition)},M=function(A){A.data.containerElement=A?A.containerId?document.getElementById(A.containerId):A.container&&A.container.nodeType?A.container:document:null},T=function(A,L,R,V){L.data=L.data||v(),window.clearTimeout(L.data.delayTimeout);var Q=function(){L.data.cancel=!0};if(o.default.subscribe(Q),M(L),L.data.start=null,L.data.cancel=!1,L.data.startPosition=L.horizontal?b(L):x(L),L.data.targetPosition=L.absolute?A:A+L.data.startPosition,L.data.startPosition===L.data.targetPosition){a.default.registered.end&&a.default.registered.end(L.data.to,L.data.target,L.data.currentPosition);return}L.data.delta=Math.round(L.data.targetPosition-L.data.startPosition),L.data.duration=f(L.duration)(L.data.delta),L.data.duration=isNaN(parseFloat(L.data.duration))?1e3:parseFloat(L.data.duration),L.data.to=R,L.data.target=V;var oe=h(L),q=C.bind(null,oe,L);if(L&&L.delay>0){L.data.delayTimeout=window.setTimeout(function(){a.default.registered.begin&&a.default.registered.begin(L.data.to,L.data.target),g.call(window,q)},L.delay);return}a.default.registered.begin&&a.default.registered.begin(L.data.to,L.data.target),g.call(window,q)},D=function(A){return A=n({},A),A.data=A.data||v(),A.absolute=!0,A},E=function(A){T(0,D(A))},I=function(A,L){T(A,D(L))},P=function(A){A=D(A),M(A),T(A.horizontal?w(A):k(A),A)},O=function(A,L){L=D(L),M(L);var R=L.horizontal?b(L):x(L);T(A+R,L)};return md.default={animateTopScroll:T,getAnimationType:h,scrollToTop:E,scrollToBottom:P,scrollTo:I,scrollMore:O},md}var cS;function vf(){if(cS)return fd;cS=1,Object.defineProperty(fd,"__esModule",{value:!0});var n=Object.assign||function(f){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(f[v]=g[v])}return f},e=gf(),t=a(e),r=hT(),i=a(r),o=Zy(),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var c={},h=void 0;return fd.default={unmount:function(){c={}},register:function(p,g){c[p]=g},unregister:function(p){delete c[p]},get:function(p){return c[p]||document.getElementById(p)||document.getElementsByName(p)[0]||document.getElementsByClassName(p)[0]},setActiveLink:function(p){return h=p},getActiveLink:function(){return h},scrollTo:function(p,g){var v=this.get(p);if(!v){console.warn("target Element not found");return}g=n({},g,{absolute:!1});var b=g.containerId,x=g.container,w=void 0;b?w=document.getElementById(b):x&&x.nodeType?w=x:w=document,g.absolute=!0;var k=g.horizontal,C=t.default.scrollOffset(w,v,k)+(g.offset||0);if(!g.smooth){s.default.registered.begin&&s.default.registered.begin(p,v),w===document?g.horizontal?window.scrollTo(C,0):window.scrollTo(0,C):w.scrollTop=C,s.default.registered.end&&s.default.registered.end(p,v);return}i.default.animateTopScroll(C,g,p,v)}},fd}var Xm={exports:{}},Km,uS;function nR(){if(uS)return Km;uS=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Km=n,Km}var Jm,dS;function rR(){if(dS)return Jm;dS=1;var n=nR();function e(){}function t(){}return t.resetWarningCache=e,Jm=function(){function r(s,a,c,h,f,p){if(p!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Jm}var hS;function yf(){return hS||(hS=1,Xm.exports=rR()()),Xm.exports}var bd={},fS;function fT(){if(fS)return bd;fS=1,Object.defineProperty(bd,"__esModule",{value:!0}),Jy();var n=gf(),e=t(n);function t(i){return i&&i.__esModule?i:{default:i}}var r={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(o){this.scroller=o,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(o,s){this.containers[o]=s},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var o=this,s=this.getHash();s?window.setTimeout(function(){o.scrollTo(s,!0),o.initialized=!0},10):this.initialized=!0},scrollTo:function(o,s){var a=this.scroller,c=a.get(o);if(c&&(s||o!==a.getActiveLink())){var h=this.containers[o]||document;a.scrollTo(o,{container:h})}},getHash:function(){return e.default.getHash()},changeHash:function(o,s){this.isInitialized()&&e.default.getHash()!==o&&e.default.updateHash(o,s)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};return bd.default=r,bd}var pS;function eb(){if(pS)return dd;pS=1,Object.defineProperty(dd,"__esModule",{value:!0});var n=Object.assign||function(k){for(var C=1;C<arguments.length;C++){var M=arguments[C];for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(k[T]=M[T])}return k},e=function(){function k(C,M){for(var T=0;T<M.length;T++){var D=M[T];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,M,T){return M&&k(C.prototype,M),T&&k(C,T),C}}(),t=so(),r=g(t),i=Qy(),o=g(i),s=vf(),a=g(s),c=yf(),h=g(c),f=fT(),p=g(f);function g(k){return k&&k.__esModule?k:{default:k}}function v(k,C){if(!(k instanceof C))throw new TypeError("Cannot call a class as a function")}function b(k,C){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:k}function x(k,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);k.prototype=Object.create(C&&C.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(k,C):k.__proto__=C)}var w={to:h.default.string.isRequired,containerId:h.default.string,container:h.default.object,activeClass:h.default.string,activeStyle:h.default.object,spy:h.default.bool,horizontal:h.default.bool,smooth:h.default.oneOfType([h.default.bool,h.default.string]),offset:h.default.number,delay:h.default.number,isDynamic:h.default.bool,onClick:h.default.func,duration:h.default.oneOfType([h.default.number,h.default.func]),absolute:h.default.bool,onSetActive:h.default.func,onSetInactive:h.default.func,ignoreCancelEvents:h.default.bool,hashSpy:h.default.bool,saveHashHistory:h.default.bool,spyThrottle:h.default.number};return dd.default=function(k,C){var M=C||a.default,T=function(E){x(I,E);function I(P){v(this,I);var O=b(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P));return D.call(O),O.state={active:!1},O.beforeUnmountCallbacks=[],O}return e(I,[{key:"getScrollSpyContainer",value:function(){var O=this.props.containerId,B=this.props.container;return O&&!B?document.getElementById(O):B&&B.nodeType?B:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var O=this.getScrollSpyContainer();if(!o.default.isMounted(O)){var B=o.default.mount(O,this.props.spyThrottle);this.beforeUnmountCallbacks.push(B)}this.props.hashSpy&&(p.default.isMounted()||p.default.mount(M),p.default.mapContainer(this.props.to,O)),o.default.addSpyHandler(this.spyHandler,O),this.setState({container:O})}}},{key:"componentWillUnmount",value:function(){o.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(O){return O()})}},{key:"render",value:function(){var O="";this.state&&this.state.active?O=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():O=this.props.className;var B={};this.state&&this.state.active?B=n({},this.props.style,this.props.activeStyle):B=n({},this.props.style);var A=n({},this.props);for(var L in w)A.hasOwnProperty(L)&&delete A[L];return A.className=O,A.style=B,A.onClick=this.handleClick,r.default.createElement(k,A)}}]),I}(r.default.PureComponent),D=function(){var I=this;this.scrollTo=function(P,O){M.scrollTo(P,n({},I.state,O))},this.handleClick=function(P){I.props.onClick&&I.props.onClick(P),P.stopPropagation&&P.stopPropagation(),P.preventDefault&&P.preventDefault(),I.scrollTo(I.props.to,I.props)},this.spyHandler=function(P,O){var B=I.getScrollSpyContainer();if(!(p.default.isMounted()&&!p.default.isInitialized())){var A=I.props.horizontal,L=I.props.to,R=null,V=void 0,Q=void 0;if(A){var oe=0,q=0,Y=0;if(B.getBoundingClientRect){var re=B.getBoundingClientRect();Y=re.left}if(!R||I.props.isDynamic){if(R=M.get(L),!R)return;var le=R.getBoundingClientRect();oe=le.left-Y+P,q=oe+le.width}var W=P-I.props.offset;V=W>=Math.floor(oe)&&W<Math.floor(q),Q=W<Math.floor(oe)||W>=Math.floor(q)}else{var Z=0,pe=0,be=0;if(B.getBoundingClientRect){var ke=B.getBoundingClientRect();be=ke.top}if(!R||I.props.isDynamic){if(R=M.get(L),!R)return;var me=R.getBoundingClientRect();Z=me.top-be+O,pe=Z+me.height}var Ie=O-I.props.offset;V=Ie>=Math.floor(Z)&&Ie<Math.floor(pe),Q=Ie<Math.floor(Z)||Ie>=Math.floor(pe)}var we=M.getActiveLink();if(Q){if(L===we&&M.setActiveLink(void 0),I.props.hashSpy&&p.default.getHash()===L){var Pe=I.props.saveHashHistory,Ee=Pe===void 0?!1:Pe;p.default.changeHash("",Ee)}I.props.spy&&I.state.active&&(I.setState({active:!1}),I.props.onSetInactive&&I.props.onSetInactive(L,R))}if(V&&(we!==L||I.state.active===!1)){M.setActiveLink(L);var Ke=I.props.saveHashHistory,at=Ke===void 0?!1:Ke;I.props.hashSpy&&p.default.changeHash(L,at),I.props.spy&&(I.setState({active:!0}),I.props.onSetActive&&I.props.onSetActive(L,R))}}}};return T.propTypes=w,T.defaultProps={offset:0},T},dd}var mS;function iR(){if(mS)return ud;mS=1,Object.defineProperty(ud,"__esModule",{value:!0});var n=so(),e=i(n),t=eb(),r=i(t);function i(h){return h&&h.__esModule?h:{default:h}}function o(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function s(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function a(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var c=function(h){a(f,h);function f(){var p,g,v,b;o(this,f);for(var x=arguments.length,w=Array(x),k=0;k<x;k++)w[k]=arguments[k];return b=(g=(v=s(this,(p=f.__proto__||Object.getPrototypeOf(f)).call.apply(p,[this].concat(w))),v),v.render=function(){return e.default.createElement("a",v.props,v.props.children)},g),s(v,b)}return f}(e.default.Component);return ud.default=(0,r.default)(c),ud}var xd={},gS;function oR(){if(gS)return xd;gS=1,Object.defineProperty(xd,"__esModule",{value:!0});var n=function(){function f(p,g){for(var v=0;v<g.length;v++){var b=g[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,g,v){return g&&f(p.prototype,g),v&&f(p,v),p}}(),e=so(),t=o(e),r=eb(),i=o(r);function o(f){return f&&f.__esModule?f:{default:f}}function s(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function a(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function c(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){c(p,f);function p(){return s(this,p),a(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return n(p,[{key:"render",value:function(){return t.default.createElement("button",this.props,this.props.children)}}]),p}(t.default.Component);return xd.default=(0,i.default)(h),xd}var wd={},Sd={},vS;function pT(){if(vS)return Sd;vS=1,Object.defineProperty(Sd,"__esModule",{value:!0});var n=Object.assign||function(v){for(var b=1;b<arguments.length;b++){var x=arguments[b];for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(v[w]=x[w])}return v},e=function(){function v(b,x){for(var w=0;w<x.length;w++){var k=x[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,x,w){return x&&v(b.prototype,x),w&&v(b,w),b}}(),t=so(),r=h(t),i=ff();h(i);var o=vf(),s=h(o),a=yf(),c=h(a);function h(v){return v&&v.__esModule?v:{default:v}}function f(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function p(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}return Sd.default=function(v){var b=function(x){g(w,x);function w(k){f(this,w);var C=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,k));return C.childBindings={domNode:null},C}return e(w,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(C){this.props.name!==C.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;s.default.unregister(this.props.name)}},{key:"registerElems",value:function(C){s.default.register(C,this.childBindings.domNode)}},{key:"render",value:function(){return r.default.createElement(v,n({},this.props,{parentBindings:this.childBindings}))}}]),w}(r.default.Component);return b.propTypes={name:c.default.string,id:c.default.string},b},Sd}var yS;function sR(){if(yS)return wd;yS=1,Object.defineProperty(wd,"__esModule",{value:!0});var n=Object.assign||function(v){for(var b=1;b<arguments.length;b++){var x=arguments[b];for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(v[w]=x[w])}return v},e=function(){function v(b,x){for(var w=0;w<x.length;w++){var k=x[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,x,w){return x&&v(b.prototype,x),w&&v(b,w),b}}(),t=so(),r=c(t),i=pT(),o=c(i),s=yf(),a=c(s);function c(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function f(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function p(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var g=function(v){p(b,v);function b(){return h(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return e(b,[{key:"render",value:function(){var w=this,k=n({},this.props);return delete k.name,k.parentBindings&&delete k.parentBindings,r.default.createElement("div",n({},k,{ref:function(M){w.props.parentBindings.domNode=M}}),this.props.children)}}]),b}(r.default.Component);return g.propTypes={name:a.default.string,id:a.default.string},wd.default=(0,o.default)(g),wd}var Qm,bS;function aR(){if(bS)return Qm;bS=1;var n=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(g[x]=b[x])}return g},e=function(){function g(v,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,b,x){return b&&g(v.prototype,b),x&&g(v,x),v}}();function t(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function r(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function i(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var o=so();ff(),gf();var s=Qy(),a=vf(),c=yf(),h=fT(),f={to:c.string.isRequired,containerId:c.string,container:c.object,activeClass:c.string,spy:c.bool,smooth:c.oneOfType([c.bool,c.string]),offset:c.number,delay:c.number,isDynamic:c.bool,onClick:c.func,duration:c.oneOfType([c.number,c.func]),absolute:c.bool,onSetActive:c.func,onSetInactive:c.func,ignoreCancelEvents:c.bool,hashSpy:c.bool,spyThrottle:c.number},p={Scroll:function(v,b){console.warn("Helpers.Scroll is deprecated since v1.7.0");var x=b||a,w=function(C){i(M,C);function M(T){t(this,M);var D=r(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,T));return k.call(D),D.state={active:!1},D}return e(M,[{key:"getScrollSpyContainer",value:function(){var D=this.props.containerId,E=this.props.container;return D?document.getElementById(D):E&&E.nodeType?E:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var D=this.getScrollSpyContainer();s.isMounted(D)||s.mount(D,this.props.spyThrottle),this.props.hashSpy&&(h.isMounted()||h.mount(x),h.mapContainer(this.props.to,D)),this.props.spy&&s.addStateHandler(this.stateHandler),s.addSpyHandler(this.spyHandler,D),this.setState({container:D})}}},{key:"componentWillUnmount",value:function(){s.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var D="";this.state&&this.state.active?D=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():D=this.props.className;var E=n({},this.props);for(var I in f)E.hasOwnProperty(I)&&delete E[I];return E.className=D,E.onClick=this.handleClick,o.createElement(v,E)}}]),M}(o.Component),k=function(){var M=this;this.scrollTo=function(T,D){x.scrollTo(T,n({},M.state,D))},this.handleClick=function(T){M.props.onClick&&M.props.onClick(T),T.stopPropagation&&T.stopPropagation(),T.preventDefault&&T.preventDefault(),M.scrollTo(M.props.to,M.props)},this.stateHandler=function(){x.getActiveLink()!==M.props.to&&(M.state!==null&&M.state.active&&M.props.onSetInactive&&M.props.onSetInactive(),M.setState({active:!1}))},this.spyHandler=function(T){var D=M.getScrollSpyContainer();if(!(h.isMounted()&&!h.isInitialized())){var E=M.props.to,I=null,P=0,O=0,B=0;if(D.getBoundingClientRect){var A=D.getBoundingClientRect();B=A.top}if(!I||M.props.isDynamic){if(I=x.get(E),!I)return;var L=I.getBoundingClientRect();P=L.top-B+T,O=P+L.height}var R=T-M.props.offset,V=R>=Math.floor(P)&&R<Math.floor(O),Q=R<Math.floor(P)||R>=Math.floor(O),oe=x.getActiveLink();if(Q)return E===oe&&x.setActiveLink(void 0),M.props.hashSpy&&h.getHash()===E&&h.changeHash(),M.props.spy&&M.state.active&&(M.setState({active:!1}),M.props.onSetInactive&&M.props.onSetInactive()),s.updateStates();if(V&&oe!==E)return x.setActiveLink(E),M.props.hashSpy&&h.changeHash(E),M.props.spy&&(M.setState({active:!0}),M.props.onSetActive&&M.props.onSetActive(E)),s.updateStates()}}};return w.propTypes=f,w.defaultProps={offset:0},w},Element:function(v){console.warn("Helpers.Element is deprecated since v1.7.0");var b=function(x){i(w,x);function w(k){t(this,w);var C=r(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,k));return C.childBindings={domNode:null},C}return e(w,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(C){this.props.name!==C.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;a.unregister(this.props.name)}},{key:"registerElems",value:function(C){a.register(C,this.childBindings.domNode)}},{key:"render",value:function(){return o.createElement(v,n({},this.props,{parentBindings:this.childBindings}))}}]),w}(o.Component);return b.propTypes={name:c.string,id:c.string},b}};return Qm=p,Qm}var xS;function lR(){if(xS)return It;xS=1,Object.defineProperty(It,"__esModule",{value:!0}),It.Helpers=It.ScrollElement=It.ScrollLink=It.animateScroll=It.scrollSpy=It.Events=It.scroller=It.Element=It.Button=It.Link=void 0;var n=iR(),e=T(n),t=oR(),r=T(t),i=sR(),o=T(i),s=vf(),a=T(s),c=Zy(),h=T(c),f=Qy(),p=T(f),g=hT(),v=T(g),b=eb(),x=T(b),w=pT(),k=T(w),C=aR(),M=T(C);function T(D){return D&&D.__esModule?D:{default:D}}return It.Link=e.default,It.Button=r.default,It.Element=o.default,It.scroller=a.default,It.Events=h.default,It.scrollSpy=p.default,It.animateScroll=v.default,It.ScrollLink=x.default,It.ScrollElement=k.default,It.Helpers=M.default,It.default={Link:e.default,Button:r.default,Element:o.default,scroller:a.default,Events:h.default,scrollSpy:p.default,animateScroll:v.default,ScrollLink:x.default,ScrollElement:k.default,Helpers:M.default},It}var va=lR();/*! js-cookie v3.0.5 | MIT */function kd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}var cR={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Qv(n,e){function t(i,o,s){if(!(typeof document>"u")){s=kd({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,s[c]!==!0&&(a+="="+s[c].split(";")[0]));return document.cookie=i+"="+n.write(o,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var c=o[a].split("="),h=c.slice(1).join("=");try{var f=decodeURIComponent(c[0]);if(s[f]=n.read(h,f),i===f)break}catch{}}return i?s[i]:s}}return Object.create({set:t,get:r,remove:function(i,o){t(i,"",kd({},o,{expires:-1}))},withAttributes:function(i){return Qv(this.converter,kd({},this.attributes,i))},withConverter:function(i){return Qv(kd({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var Yn=Qv(cR,{path:"/"});const mT=j.createContext(),uR=({children:n})=>{const[e,t]=j.useState(null),[r,i]=j.useState(null),[o,s]=j.useState(null),[a,c]=j.useState(null),[h,f]=j.useState(null);j.useEffect(()=>{const v=Yn.get("username"),b=Yn.get("department"),x=Yn.get("company"),w=Yn.get("nick"),k=Yn.get("membership");v&&t(v),w&&c(w),b&&i(b),x&&s(x),k&&f(k)},[]);const p=(v,b,x,w,k)=>{t(v),i(b),s(x),c(w),f(k),Yn.set("username",v),Yn.set("department",b),Yn.set("company",x),Yn.set("nick",w),Yn.set("membership",k)},g=()=>{t(null),Yn.remove("username"),Yn.remove("department"),Yn.remove("company"),Yn.remove("nick"),Yn.remove("membership")};return d.jsx(mT.Provider,{value:{username:e,company:o,department:r,nick:a,login:p,logout:g,membership:h},children:n})},$t=()=>j.useContext(mT);function gT(n,e){return function(){return n.apply(e,arguments)}}const{toString:dR}=Object.prototype,{getPrototypeOf:tb}=Object,{iterator:bf,toStringTag:vT}=Symbol,xf=(n=>e=>{const t=dR.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),yi=n=>(n=n.toLowerCase(),e=>xf(e)===n),wf=n=>e=>typeof e===n,{isArray:Ma}=Array,mc=wf("undefined");function hR(n){return n!==null&&!mc(n)&&n.constructor!==null&&!mc(n.constructor)&&mr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const yT=yi("ArrayBuffer");function fR(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&yT(n.buffer),e}const pR=wf("string"),mr=wf("function"),bT=wf("number"),Sf=n=>n!==null&&typeof n=="object",mR=n=>n===!0||n===!1,oh=n=>{if(xf(n)!=="object")return!1;const e=tb(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(vT in n)&&!(bf in n)},gR=yi("Date"),vR=yi("File"),yR=yi("Blob"),bR=yi("FileList"),xR=n=>Sf(n)&&mr(n.pipe),wR=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||mr(n.append)&&((e=xf(n))==="formdata"||e==="object"&&mr(n.toString)&&n.toString()==="[object FormData]"))},SR=yi("URLSearchParams"),[kR,ER,CR,_R]=["ReadableStream","Request","Response","Headers"].map(yi),TR=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hc(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Ma(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,n[a],a,n)}}function xT(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,wT=n=>!mc(n)&&n!==Cs;function Zv(){const{caseless:n}=wT(this)&&this||{},e={},t=(r,i)=>{const o=n&&xT(e,i)||i;oh(e[o])&&oh(r)?e[o]=Zv(e[o],r):oh(r)?e[o]=Zv({},r):Ma(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Hc(arguments[r],t);return e}const jR=(n,e,t,{allOwnKeys:r}={})=>(Hc(e,(i,o)=>{t&&mr(i)?n[o]=gT(i,t):n[o]=i},{allOwnKeys:r}),n),DR=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),MR=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},PR=(n,e,t,r)=>{let i,o,s;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)s=i[o],(!r||r(s,n,e))&&!a[s]&&(e[s]=n[s],a[s]=!0);n=t!==!1&&tb(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},OR=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},IR=n=>{if(!n)return null;if(Ma(n))return n;let e=n.length;if(!bT(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},NR=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&tb(Uint8Array)),RR=(n,e)=>{const r=(n&&n[bf]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},AR=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},LR=yi("HTMLFormElement"),BR=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),wS=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),FR=yi("RegExp"),ST=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Hc(t,(i,o)=>{let s;(s=e(i,o,n))!==!1&&(r[o]=s||i)}),Object.defineProperties(n,r)},HR=n=>{ST(n,(e,t)=>{if(mr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(mr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},zR=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Ma(n)?r(n):r(String(n).split(e)),t},UR=()=>{},$R=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function WR(n){return!!(n&&mr(n.append)&&n[vT]==="FormData"&&n[bf])}const VR=n=>{const e=new Array(10),t=(r,i)=>{if(Sf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Ma(r)?[]:{};return Hc(r,(s,a)=>{const c=t(s,i+1);!mc(c)&&(o[a]=c)}),e[i]=void 0,o}}return r};return t(n,0)},qR=yi("AsyncFunction"),YR=n=>n&&(Sf(n)||mr(n))&&mr(n.then)&&mr(n.catch),kT=((n,e)=>n?setImmediate:e?((t,r)=>(Cs.addEventListener("message",({source:i,data:o})=>{i===Cs&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Cs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",mr(Cs.postMessage)),GR=typeof queueMicrotask<"u"?queueMicrotask.bind(Cs):typeof process<"u"&&process.nextTick||kT,XR=n=>n!=null&&mr(n[bf]),ae={isArray:Ma,isArrayBuffer:yT,isBuffer:hR,isFormData:wR,isArrayBufferView:fR,isString:pR,isNumber:bT,isBoolean:mR,isObject:Sf,isPlainObject:oh,isReadableStream:kR,isRequest:ER,isResponse:CR,isHeaders:_R,isUndefined:mc,isDate:gR,isFile:vR,isBlob:yR,isRegExp:FR,isFunction:mr,isStream:xR,isURLSearchParams:SR,isTypedArray:NR,isFileList:bR,forEach:Hc,merge:Zv,extend:jR,trim:TR,stripBOM:DR,inherits:MR,toFlatObject:PR,kindOf:xf,kindOfTest:yi,endsWith:OR,toArray:IR,forEachEntry:RR,matchAll:AR,isHTMLForm:LR,hasOwnProperty:wS,hasOwnProp:wS,reduceDescriptors:ST,freezeMethods:HR,toObjectSet:zR,toCamelCase:BR,noop:UR,toFiniteNumber:$R,findKey:xT,global:Cs,isContextDefined:wT,isSpecCompliantForm:WR,toJSONObject:VR,isAsyncFn:qR,isThenable:YR,setImmediate:kT,asap:GR,isIterable:XR};function Xe(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ae.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const ET=Xe.prototype,CT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{CT[n]={value:n}});Object.defineProperties(Xe,CT);Object.defineProperty(ET,"isAxiosError",{value:!0});Xe.from=(n,e,t,r,i,o)=>{const s=Object.create(ET);return ae.toFlatObject(n,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Xe.call(s,n.message,e,t,r,i),s.cause=n,s.name=n.name,o&&Object.assign(s,o),s};const KR=null;function ey(n){return ae.isPlainObject(n)||ae.isArray(n)}function _T(n){return ae.endsWith(n,"[]")?n.slice(0,-2):n}function SS(n,e,t){return n?n.concat(e).map(function(i,o){return i=_T(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function JR(n){return ae.isArray(n)&&!n.some(ey)}const QR=ae.toFlatObject(ae,{},null,function(e){return/^is[A-Z]/.test(e)});function kf(n,e,t){if(!ae.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ae.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!ae.isUndefined(w[x])});const r=t.metaTokens,i=t.visitor||f,o=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(e);if(!ae.isFunction(i))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(ae.isDate(b))return b.toISOString();if(ae.isBoolean(b))return b.toString();if(!c&&ae.isBlob(b))throw new Xe("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(b)||ae.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,x,w){let k=b;if(b&&!w&&typeof b=="object"){if(ae.endsWith(x,"{}"))x=r?x:x.slice(0,-2),b=JSON.stringify(b);else if(ae.isArray(b)&&JR(b)||(ae.isFileList(b)||ae.endsWith(x,"[]"))&&(k=ae.toArray(b)))return x=_T(x),k.forEach(function(M,T){!(ae.isUndefined(M)||M===null)&&e.append(s===!0?SS([x],T,o):s===null?x:x+"[]",h(M))}),!1}return ey(b)?!0:(e.append(SS(w,x,o),h(b)),!1)}const p=[],g=Object.assign(QR,{defaultVisitor:f,convertValue:h,isVisitable:ey});function v(b,x){if(!ae.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(b),ae.forEach(b,function(k,C){(!(ae.isUndefined(k)||k===null)&&i.call(e,k,ae.isString(C)?C.trim():C,x,g))===!0&&v(k,x?x.concat(C):[C])}),p.pop()}}if(!ae.isObject(n))throw new TypeError("data must be an object");return v(n),e}function kS(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function nb(n,e){this._pairs=[],n&&kf(n,this,e)}const TT=nb.prototype;TT.append=function(e,t){this._pairs.push([e,t])};TT.toString=function(e){const t=e?function(r){return e.call(this,r,kS)}:kS;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function ZR(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jT(n,e,t){if(!e)return n;const r=t&&t.encode||ZR;ae.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=ae.isURLSearchParams(e)?e.toString():new nb(e,t).toString(r),o){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class ES{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ae.forEach(this.handlers,function(r){r!==null&&e(r)})}}const DT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eA=typeof URLSearchParams<"u"?URLSearchParams:nb,tA=typeof FormData<"u"?FormData:null,nA=typeof Blob<"u"?Blob:null,rA={isBrowser:!0,classes:{URLSearchParams:eA,FormData:tA,Blob:nA},protocols:["http","https","file","blob","url","data"]},rb=typeof window<"u"&&typeof document<"u",ty=typeof navigator=="object"&&navigator||void 0,iA=rb&&(!ty||["ReactNative","NativeScript","NS"].indexOf(ty.product)<0),oA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sA=rb&&window.location.href||"http://localhost",aA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rb,hasStandardBrowserEnv:iA,hasStandardBrowserWebWorkerEnv:oA,navigator:ty,origin:sA},Symbol.toStringTag,{value:"Module"})),Bn={...aA,...rA};function lA(n,e){return kf(n,new Bn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Bn.isNode&&ae.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function cA(n){return ae.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uA(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function MT(n){function e(t,r,i,o){let s=t[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=o>=t.length;return s=!s&&ae.isArray(i)?i.length:s,c?(ae.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!ae.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],o)&&ae.isArray(i[s])&&(i[s]=uA(i[s])),!a)}if(ae.isFormData(n)&&ae.isFunction(n.entries)){const t={};return ae.forEachEntry(n,(r,i)=>{e(cA(r),i,t,0)}),t}return null}function dA(n,e,t){if(ae.isString(n))try{return(e||JSON.parse)(n),ae.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const zc={transitional:DT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=ae.isObject(e);if(o&&ae.isHTMLForm(e)&&(e=new FormData(e)),ae.isFormData(e))return i?JSON.stringify(MT(e)):e;if(ae.isArrayBuffer(e)||ae.isBuffer(e)||ae.isStream(e)||ae.isFile(e)||ae.isBlob(e)||ae.isReadableStream(e))return e;if(ae.isArrayBufferView(e))return e.buffer;if(ae.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return lA(e,this.formSerializer).toString();if((a=ae.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return kf(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),dA(e)):e}],transformResponse:[function(e){const t=this.transitional||zc.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ae.isResponse(e)||ae.isReadableStream(e))return e;if(e&&ae.isString(e)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Xe.from(a,Xe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bn.classes.FormData,Blob:Bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],n=>{zc.headers[n]={}});const hA=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fA=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&hA[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},CS=Symbol("internals");function Pl(n){return n&&String(n).trim().toLowerCase()}function sh(n){return n===!1||n==null?n:ae.isArray(n)?n.map(sh):String(n)}function pA(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const mA=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Zm(n,e,t,r,i){if(ae.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ae.isString(e)){if(ae.isString(r))return e.indexOf(r)!==-1;if(ae.isRegExp(r))return r.test(e)}}function gA(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function vA(n,e){const t=ae.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let gr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(a,c,h){const f=Pl(c);if(!f)throw new Error("header name must be a non-empty string");const p=ae.findKey(i,f);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||c]=sh(a))}const s=(a,c)=>ae.forEach(a,(h,f)=>o(h,f,c));if(ae.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ae.isString(e)&&(e=e.trim())&&!mA(e))s(fA(e),t);else if(ae.isObject(e)&&ae.isIterable(e)){let a={},c,h;for(const f of e){if(!ae.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[h=f[0]]=(c=a[h])?ae.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}s(a,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=Pl(e),e){const r=ae.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return pA(i);if(ae.isFunction(t))return t.call(this,i,r);if(ae.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Pl(e),e){const r=ae.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Zm(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(s){if(s=Pl(s),s){const a=ae.findKey(r,s);a&&(!t||Zm(r,r[a],a,t))&&(delete r[a],i=!0)}}return ae.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||Zm(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return ae.forEach(this,(i,o)=>{const s=ae.findKey(r,o);if(s){t[s]=sh(i),delete t[o];return}const a=e?gA(o):String(o).trim();a!==o&&delete t[o],t[a]=sh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ae.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ae.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[CS]=this[CS]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Pl(s);r[a]||(vA(i,s),r[a]=!0)}return ae.isArray(e)?e.forEach(o):o(e),this}};gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(gr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ae.freezeMethods(gr);function eg(n,e){const t=this||zc,r=e||t,i=gr.from(r.headers);let o=r.data;return ae.forEach(n,function(a){o=a.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function PT(n){return!!(n&&n.__CANCEL__)}function Pa(n,e,t){Xe.call(this,n??"canceled",Xe.ERR_CANCELED,e,t),this.name="CanceledError"}ae.inherits(Pa,Xe,{__CANCEL__:!0});function OT(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Xe("Request failed with status code "+t.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function yA(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function bA(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),f=r[o];s||(s=h),t[i]=c,r[i]=h;let p=o,g=0;for(;p!==i;)g+=t[p++],p=p%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),h-s<e)return;const v=f&&h-f;return v?Math.round(g*1e3/v):void 0}}function xA(n,e){let t=0,r=1e3/e,i,o;const s=(h,f=Date.now())=>{t=f,i=null,o&&(clearTimeout(o),o=null),n.apply(null,h)};return[(...h)=>{const f=Date.now(),p=f-t;p>=r?s(h,f):(i=h,o||(o=setTimeout(()=>{o=null,s(i)},r-p)))},()=>i&&s(i)]}const jh=(n,e,t=3)=>{let r=0;const i=bA(50,250);return xA(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,c=s-r,h=i(c),f=s<=a;r=s;const p={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:h||void 0,estimated:h&&a&&f?(a-s)/h:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(p)},t)},_S=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},TS=n=>(...e)=>ae.asap(()=>n(...e)),wA=Bn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Bn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Bn.origin),Bn.navigator&&/(msie|trident)/i.test(Bn.navigator.userAgent)):()=>!0,SA=Bn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const s=[n+"="+encodeURIComponent(e)];ae.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ae.isString(r)&&s.push("path="+r),ae.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kA(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function EA(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function IT(n,e,t){let r=!kA(e);return n&&(r||t==!1)?EA(n,e):e}const jS=n=>n instanceof gr?{...n}:n;function Os(n,e){e=e||{};const t={};function r(h,f,p,g){return ae.isPlainObject(h)&&ae.isPlainObject(f)?ae.merge.call({caseless:g},h,f):ae.isPlainObject(f)?ae.merge({},f):ae.isArray(f)?f.slice():f}function i(h,f,p,g){if(ae.isUndefined(f)){if(!ae.isUndefined(h))return r(void 0,h,p,g)}else return r(h,f,p,g)}function o(h,f){if(!ae.isUndefined(f))return r(void 0,f)}function s(h,f){if(ae.isUndefined(f)){if(!ae.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function a(h,f,p){if(p in e)return r(h,f);if(p in n)return r(void 0,h)}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(h,f,p)=>i(jS(h),jS(f),p,!0)};return ae.forEach(Object.keys(Object.assign({},n,e)),function(f){const p=c[f]||i,g=p(n[f],e[f],f);ae.isUndefined(g)&&p!==a||(t[f]=g)}),t}const NT=n=>{const e=Os({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=gr.from(s),e.url=jT(IT(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(ae.isFormData(t)){if(Bn.hasStandardBrowserEnv||Bn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[h,...f]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];s.setContentType([h||"multipart/form-data",...f].join("; "))}}if(Bn.hasStandardBrowserEnv&&(r&&ae.isFunction(r)&&(r=r(e)),r||r!==!1&&wA(e.url))){const h=i&&o&&SA.read(o);h&&s.set(i,h)}return e},CA=typeof XMLHttpRequest<"u",_A=CA&&function(n){return new Promise(function(t,r){const i=NT(n);let o=i.data;const s=gr.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:h}=i,f,p,g,v,b;function x(){v&&v(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function k(){if(!w)return;const M=gr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:M,config:n,request:w};OT(function(I){t(I),x()},function(I){r(I),x()},D),w=null}"onloadend"in w?w.onloadend=k:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(k)},w.onabort=function(){w&&(r(new Xe("Request aborted",Xe.ECONNABORTED,n,w)),w=null)},w.onerror=function(){r(new Xe("Network Error",Xe.ERR_NETWORK,n,w)),w=null},w.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||DT;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),r(new Xe(T,D.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,n,w)),w=null},o===void 0&&s.setContentType(null),"setRequestHeader"in w&&ae.forEach(s.toJSON(),function(T,D){w.setRequestHeader(D,T)}),ae.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),h&&([g,b]=jh(h,!0),w.addEventListener("progress",g)),c&&w.upload&&([p,v]=jh(c),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(f=M=>{w&&(r(!M||M.type?new Pa(null,n,w):M),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const C=yA(i.url);if(C&&Bn.protocols.indexOf(C)===-1){r(new Xe("Unsupported protocol "+C+":",Xe.ERR_BAD_REQUEST,n));return}w.send(o||null)})},TA=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(h){if(!i){i=!0,a();const f=h instanceof Error?h:this.reason;r.abort(f instanceof Xe?f:new Pa(f instanceof Error?f.message:f))}};let s=e&&setTimeout(()=>{s=null,o(new Xe(`timeout ${e} of ms exceeded`,Xe.ETIMEDOUT))},e);const a=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),n=null)};n.forEach(h=>h.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>ae.asap(a),c}},jA=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},DA=async function*(n,e){for await(const t of MA(n))yield*jA(t,e)},MA=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},DS=(n,e,t,r)=>{const i=DA(n,e);let o=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:f}=await i.next();if(h){a(),c.close();return}let p=f.byteLength;if(t){let g=o+=p;t(g)}c.enqueue(new Uint8Array(f))}catch(h){throw a(h),h}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},Ef=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",RT=Ef&&typeof ReadableStream=="function",PA=Ef&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),AT=(n,...e)=>{try{return!!n(...e)}catch{return!1}},OA=RT&&AT(()=>{let n=!1;const e=new Request(Bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),MS=64*1024,ny=RT&&AT(()=>ae.isReadableStream(new Response("").body)),Dh={stream:ny&&(n=>n.body)};Ef&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dh[e]&&(Dh[e]=ae.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Xe(`Response type '${e}' is not supported`,Xe.ERR_NOT_SUPPORT,r)})})})(new Response);const IA=async n=>{if(n==null)return 0;if(ae.isBlob(n))return n.size;if(ae.isSpecCompliantForm(n))return(await new Request(Bn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(n)||ae.isArrayBuffer(n))return n.byteLength;if(ae.isURLSearchParams(n)&&(n=n+""),ae.isString(n))return(await PA(n)).byteLength},NA=async(n,e)=>{const t=ae.toFiniteNumber(n.getContentLength());return t??IA(e)},RA=Ef&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:h,headers:f,withCredentials:p="same-origin",fetchOptions:g}=NT(n);h=h?(h+"").toLowerCase():"text";let v=TA([i,o&&o.toAbortSignal()],s),b;const x=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let w;try{if(c&&OA&&t!=="get"&&t!=="head"&&(w=await NA(f,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),E;if(ae.isFormData(r)&&(E=D.headers.get("content-type"))&&f.setContentType(E),D.body){const[I,P]=_S(w,jh(TS(c)));r=DS(D.body,MS,I,P)}}ae.isString(p)||(p=p?"include":"omit");const k="credentials"in Request.prototype;b=new Request(e,{...g,signal:v,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:k?p:void 0});let C=await fetch(b,g);const M=ny&&(h==="stream"||h==="response");if(ny&&(a||M&&x)){const D={};["status","statusText","headers"].forEach(O=>{D[O]=C[O]});const E=ae.toFiniteNumber(C.headers.get("content-length")),[I,P]=a&&_S(E,jh(TS(a),!0))||[];C=new Response(DS(C.body,MS,I,()=>{P&&P(),x&&x()}),D)}h=h||"text";let T=await Dh[ae.findKey(Dh,h)||"text"](C,n);return!M&&x&&x(),await new Promise((D,E)=>{OT(D,E,{data:T,headers:gr.from(C.headers),status:C.status,statusText:C.statusText,config:n,request:b})})}catch(k){throw x&&x(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,n,b),{cause:k.cause||k}):Xe.from(k,k&&k.code,n,b)}}),ry={http:KR,xhr:_A,fetch:RA};ae.forEach(ry,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const PS=n=>`- ${n}`,AA=n=>ae.isFunction(n)||n===null||n===!1,LT={getAdapter:n=>{n=ae.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let s;if(r=t,!AA(t)&&(r=ry[(s=String(t)).toLowerCase()],r===void 0))throw new Xe(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(PS).join(`
`):" "+PS(o[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:ry};function tg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Pa(null,n)}function OS(n){return tg(n),n.headers=gr.from(n.headers),n.data=eg.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),LT.getAdapter(n.adapter||zc.adapter)(n).then(function(r){return tg(n),r.data=eg.call(n,n.transformResponse,r),r.headers=gr.from(r.headers),r},function(r){return PT(r)||(tg(n),r&&r.response&&(r.response.data=eg.call(n,n.transformResponse,r.response),r.response.headers=gr.from(r.response.headers))),Promise.reject(r)})}const BT="1.10.0",Cf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Cf[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const IS={};Cf.transitional=function(e,t,r){function i(o,s){return"[Axios v"+BT+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new Xe(i(s," has been removed"+(t?" in "+t:"")),Xe.ERR_DEPRECATED);return t&&!IS[s]&&(IS[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,s,a):!0}};Cf.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function LA(n,e,t){if(typeof n!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=n[o],c=a===void 0||s(a,o,n);if(c!==!0)throw new Xe("option "+o+" must be "+c,Xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Xe("Unknown option "+o,Xe.ERR_BAD_OPTION)}}const ah={assertOptions:LA,validators:Cf},Ti=ah.validators;let js=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ES,response:new ES}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Os(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&ah.assertOptions(r,{silentJSONParsing:Ti.transitional(Ti.boolean),forcedJSONParsing:Ti.transitional(Ti.boolean),clarifyTimeoutError:Ti.transitional(Ti.boolean)},!1),i!=null&&(ae.isFunction(i)?t.paramsSerializer={serialize:i}:ah.assertOptions(i,{encode:Ti.function,serialize:Ti.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ah.assertOptions(t,{baseUrl:Ti.spelling("baseURL"),withXsrfToken:Ti.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&ae.merge(o.common,o[t.method]);o&&ae.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),t.headers=gr.concat(s,o);const a=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const h=[];this.interceptors.response.forEach(function(x){h.push(x.fulfilled,x.rejected)});let f,p=0,g;if(!c){const b=[OS.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,h),g=b.length,f=Promise.resolve(t);p<g;)f=f.then(b[p++],b[p++]);return f}g=a.length;let v=t;for(p=0;p<g;){const b=a[p++],x=a[p++];try{v=b(v)}catch(w){x.call(this,w);break}}try{f=OS.call(this,v)}catch(b){return Promise.reject(b)}for(p=0,g=h.length;p<g;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=Os(this.defaults,e);const t=IT(e.baseURL,e.url,e.allowAbsoluteUrls);return jT(t,e.params,e.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(e){js.prototype[e]=function(t,r){return this.request(Os(r||{},{method:e,url:t,data:(r||{}).data}))}});ae.forEach(["post","put","patch"],function(e){function t(r){return function(o,s,a){return this.request(Os(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}js.prototype[e]=t(),js.prototype[e+"Form"]=t(!0)});let BA=class FT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Pa(o,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new FT(function(i){e=i}),cancel:e}}};function FA(n){return function(t){return n.apply(null,t)}}function HA(n){return ae.isObject(n)&&n.isAxiosError===!0}const iy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iy).forEach(([n,e])=>{iy[e]=n});function HT(n){const e=new js(n),t=gT(js.prototype.request,e);return ae.extend(t,js.prototype,e,{allOwnKeys:!0}),ae.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return HT(Os(n,i))},t}const _e=HT(zc);_e.Axios=js;_e.CanceledError=Pa;_e.CancelToken=BA;_e.isCancel=PT;_e.VERSION=BT;_e.toFormData=kf;_e.AxiosError=Xe;_e.Cancel=_e.CanceledError;_e.all=function(e){return Promise.all(e)};_e.spread=FA;_e.isAxiosError=HA;_e.mergeConfig=Os;_e.AxiosHeaders=gr;_e.formToJSON=n=>MT(ae.isHTMLForm(n)?new FormData(n):n);_e.getAdapter=LT.getAdapter;_e.HttpStatusCode=iy;_e.default=_e;const{Axios:hK,AxiosError:fK,CanceledError:pK,isCancel:mK,CancelToken:gK,VERSION:vK,all:yK,Cancel:bK,isAxiosError:xK,spread:wK,toFormData:SK,AxiosHeaders:kK,HttpStatusCode:EK,formToJSON:CK,getAdapter:_K,mergeConfig:TK}=_e,zT=window.location.hostname.includes("localhost"),zA=window.location.protocol==="https:",Me=zT?"http://localhost:8080":"http://j2sm.site",UA=zT?"localhost:8080":"3.34.124.218",$A=zA?"https":"http",WA=`${$A}://${UA}/ws-chat`,VA=`${Me}/version`,qA=`${Me}/api/pay/ready`,YA=`${Me}/api/user/me`,GA=`${Me}/oauth2/authorization/naver`,XA=`${Me}/oauth2/authorization/kakao`,KA=`${Me}/oauth2/authorization/google`,JA=`${Me}/user`,QA=`${Me}/user/login`,ZA=`${Me}/user/logout`,oy=`${Me}/user/thumb`,eL=`${Me}/user/modify/info`,tL=`${Me}/user/idCheck`,nL=`${Me}/user/hpCheck`,rL=`${Me}/user/idCheck/success`,iL=`${Me}/user/membership`,oL=`${Me}/user/emailCheck`,sL=`${Me}/user/emailSend`,aL=`${Me}/user/emailCodeValid`,lL=`${Me}/user/findHp`,UT=`${Me}/user/modify`,cL=`${Me}/user/info`,uL=`${Me}/user/terms`,dL=`${Me}/user/invite`,hL={DEPARTMENT:{LIST:n=>`${Me}/api/department/info/${n}`}},fL=(n,e)=>`${Me}/api/boards/company/${e}/category/${n}`,NS=n=>`${Me}/api/category/company/${n}`,pL=n=>`${Me}/api/category/delete/${n}`,mL=`${Me}/qna`,to={CHAT:{ROOM_LIST:n=>`${Me}/api/chat/rooms/${n}`,CREATE_ROOM:`${Me}/api/chat/rooms`,DELETE_ROOM:n=>`${Me}/api/chat/rooms/${n}`,ROOM_DETAIL:n=>`${Me}/api/chat/rooms/select/${n}`,USER_LIST:n=>`${Me}/api/chat/users/by-company/${n}`,MARK_READ:n=>`${Me}/api/chat/rooms/${n}/read`,UPDATE_ROOM_NAME:n=>`${Me}/api/chat/rooms/${n}/name`,GRANT_ADMIN:n=>`${Me}/api/chat/rooms/${n}/admin`}},_f=`${Me}/api/calendar`,gL=`${Me}/api/boards`,vL=`${Me}/api/mypage/save`,yL=n=>`${Me}/api/mypage/list/${n}`,bL=n=>`${Me}/api/mypage/trash/${n}`,xL=n=>`${Me}/api/mypage/delete/${n}`,wL=n=>`${Me}/api/mypage/trash/${n}`,SL=n=>`${Me}/api/mypage/favorites/${n}`,kL=`${Me}/api/mypage/share`,EL=`${Me}/api/user/department-groups`,CL=n=>`${Me}/api/mypage/share/received/${n}`,on={LIST:`${Me}/api/drive`,UPLOAD:`${Me}/api/drive/upload`,DOWNLOAD:n=>`${Me}/api/drive/${n}/download`,FAVORITE:n=>`${Me}/api/drive/${n}/favorite`,RENAME:n=>`${Me}/api/drive/${n}/rename`,DELETE:n=>`${Me}/api/drive/${n}`,DELETE_LIST:`${Me}/api/drive/trash`,CREATE_FOLDER:`${Me}/api/drive/folder`,RESTORE:n=>`${Me}/api/drive/${n}/restore`,PERMANENT_DELETE:n=>`${Me}/api/drive/${n}/delete`,MOVE_TO_SHARED:n=>`${Me}/api/drive/${n}/move-to-shared`,RECENT_LIST:`${Me}/api/drive/recent`,RECENT_VIEW:n=>`${Me}/api/drive/view/${n}`},Uc={CREATE:`${Me}/api/projects`,LIST:n=>`${Me}/api/projects/my?userId=${n}`,DETAIL:n=>`${Me}/api/projects/${n}`,UPDATE:n=>`${Me}/api/projects/${n}`,DELETE:n=>`${Me}/api/projects/${n}`},_L={LIST:n=>`${Me}/api/projects/${n}/sections`,CREATE:n=>`${Me}/api/projects/${n}/sections`,UPDATE:n=>`${Me}/api/sections/${n}`,DELETE:n=>`${Me}/api/sections/${n}`,BULK_SAVE:n=>`${Me}/api/projects/${n}/sections/bulk`},$T=async n=>{try{const e=await _e.post(`${JA}`,n,{withCredentials:!0});return console.log(e),e.data}catch(e){console.log(e)}},TL=async n=>{try{const e=await _e.post(`${QA}`,n,{withCredentials:!0});return console.log(e),e.data}catch(e){console.log(e)}},jL=async n=>{try{const e=await _e.post(`${UT}`,n,{withCredentials:!0,headers:{"Content-Type":"application/json"}});return console.log(e),e.data}catch(e){console.log(e)}},DL=async()=>{try{const n=await _e.get(`${ZA}`,{withCredentials:!0});return console.log(n),n.data}catch(n){console.log(n)}},ML=async n=>{const e={membership:n};try{const t=await _e.post(`${iL}`,e,{withCredentials:!0,headers:{"Content-Type":"application/json"}});return console.log(t),t.data}catch(t){console.log(t)}},WT=async n=>{try{const e=await _e.get(`${tL}?uid=${n.uid}`);return console.log(e),e.data}catch(e){console.log(e)}},PL=async n=>{try{const e=await _e.get(`${nL}?hp=${n}`);return console.log(e),e.data}catch(e){console.log(e)}},OL=async n=>{try{const e=await _e.get(`${rL}?uid=${n.uid}&pass=${n.pass}`,{withCredentials:!0});return console.log(e),e.data}catch(e){console.log(e)}},ib=async n=>{try{const e=await _e.get(`${oL}?email=${n}`,{withCredentials:!0});return console.log(e),e.data}catch(e){console.log(e)}},VT=async n=>{try{const e=await _e.get(`${sL}?email=${n}`,{withCredentials:!0});return console.log(e),e.data}catch(e){console.log(e)}},qT=async n=>{try{const e=await _e.get(`${aL}?code=${n}`,{withCredentials:!0});return console.log(e),e.data}catch(e){console.log(e)}},IL=async n=>{try{const e=await _e.get(`${lL}?hp=${n}`,{withCredentials:!0});return console.log(e),e.data}catch(e){console.log(e)}},YT=async()=>{try{const n=await _e.get(`${cL}`,{withCredentials:!0});return console.log(n),n.data}catch(n){console.log(n)}},NL=()=>{const n=Bt(),{username:e,logout:t}=$t(),r=()=>{n("/")},i=()=>{n("/user/login")},o=()=>{n("/qna")},s=()=>{(async()=>{try{const c=await DL();console.log(c)}catch(c){console.error(c)}})(),t(),n("/user/login")};return d.jsx(d.Fragment,{children:d.jsx("header",{children:d.jsxs("div",{id:"header_main",children:[d.jsxs("div",{id:"header_logo",onClick:r,children:[d.jsxs("div",{children:[d.jsx("img",{src:"/images/mini_logo.png",alt:"J2"}),d.jsx("img",{src:"/images/logo.png",alt:"J2SM"})]}),d.jsx("div",{children:d.jsx("span",{children:"The everything app, for work."})})]}),d.jsxs("nav",{className:"flex gap-10 text-gray-700 font-semibold text-base",children:[d.jsx(va.Link,{to:"features",smooth:!0,duration:500,offset:-80,className:"hover:text-purple-600 hover:underline underline-offset-8 cursor-pointer transition",children:"기능소개"}),d.jsx(va.Link,{to:"credits",smooth:!0,duration:500,offset:-80,className:"hover:text-purple-600 hover:underline underline-offset-8 cursor-pointer transition",children:"이용요금"}),d.jsx(va.Link,{to:"showImage",smooth:!0,duration:500,offset:-80,className:"hover:text-purple-600 hover:underline underline-offset-8 cursor-pointer transition",children:"이미지소개"})]}),d.jsxs("div",{id:"header_right",children:[d.jsx("button",{id:"contact_btn",className:"border border-purple-600 text-purple-600 px-5 py-2 rounded-full text-sm font-medium hover:bg-purple-600 hover:text-white transition duration-200",onClick:o,children:"Contact Sales"}),e?d.jsx(d.Fragment,{children:d.jsx("button",{id:"header_login_btn",className:"bg-purple-600 text-white px-5 py-2 rounded-full text-sm font-medium hover:bg-purple-700 transition",onClick:s,children:"로그아웃"})}):d.jsx(d.Fragment,{children:d.jsx("button",{id:"header_login_btn",className:"bg-purple-600 text-white px-5 py-2 rounded-full text-sm font-medium hover:bg-purple-700 transition",onClick:i,children:"로그인"})})]})]})})})},RL=async()=>{try{return(await _e.get(`${VA}`,{withCredentials:!0})).data}catch(n){console.log(n)}},AL=()=>{const[n,e]=j.useState(),t=async()=>{try{const r=await RL();e(r)}catch(r){e("Localhost 입니다."),console.error(r)}};return j.useEffect(()=>{t()},[]),d.jsx(d.Fragment,{children:d.jsxs("footer",{className:"footer",children:[d.jsxs("div",{className:"footer-top",children:[d.jsxs("div",{className:"footer-column",children:[d.jsx("h4",{children:"Column One"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Twenty One"}),d.jsx("li",{children:"Thirty Two"}),d.jsx("li",{children:"Fourty Three"}),d.jsx("li",{children:"Fifty Four"})]})]}),d.jsxs("div",{className:"footer-column",children:[d.jsx("h4",{children:"Column Two"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Sixty Five"}),d.jsx("li",{children:"Seventy Six"}),d.jsx("li",{children:"Eighty Seven"}),d.jsx("li",{children:"Ninety Eight"})]})]}),d.jsxs("div",{className:"footer-column",children:[d.jsx("h4",{children:"Column Three"}),d.jsxs("ul",{children:[d.jsx("li",{children:"One Two"}),d.jsx("li",{children:"Three Four"}),d.jsx("li",{children:"Five Six"}),d.jsx("li",{children:"Seven Eight"})]})]}),d.jsxs("div",{className:"footer-column",children:[d.jsx("h4",{children:"Column Four"}),d.jsxs("div",{className:"store-badges",children:[d.jsx("img",{src:"/images/app-store icon.png",alt:"App Store"}),d.jsx("img",{src:"/images/Play_Store.png",alt:"Google Play"})]})]})]}),d.jsxs("div",{className:"footer-bottom",children:[d.jsx("p",{children:"CompanyName © 2025. All rights reserved."}),d.jsx("div",{className:"footer-links",children:d.jsx("a",{href:"#",children:" 0.1.1-SNAPSHOT "})})]})]})})},Li=({children:n})=>d.jsxs("div",{id:"container_Lading",children:[d.jsx(NL,{}),d.jsx("main",{children:n}),d.jsx(AL,{})]}),LL=()=>d.jsxs("section",{className:"text-center px-6 pb-[100px]",children:[d.jsx("h2",{className:"text-3xl font-bold mb-6 margin-bottom py-10",children:"J2SM 오피스 하나면 충분해요!"}),d.jsxs("div",{className:"inline-flex bg-gray-100 rounded-full p-1 mb-10",children:[d.jsx("button",{className:"px-5 py-2 rounded-full bg-white text-sm font-medium shadow",children:"그룹웨어"}),d.jsx("button",{className:"px-5 py-2 rounded-full text-sm text-gray-500",children:"캘린더"}),d.jsx("button",{className:"px-5 py-2 rounded-full text-sm text-gray-500",children:"드라이브"}),d.jsx("button",{className:"px-5 py-2 rounded-full text-sm text-gray-500",children:"채팅"})]}),d.jsx("div",{className:"pb-[100px]",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl shadow hover:shadow-md transition",children:[d.jsx("h3",{className:"font-semibold text-lg text-blue-700 mb-2",children:"다양한 업무기능을 담은 그룹웨어"}),d.jsxs("p",{className:"text-gray-600 text-sm",children:["회사의 체계적인 업무관리부터 협업까지",d.jsx("br",{})," 도와주는 포탈 서비스예요."]}),d.jsx("a",{href:"#",className:"text-blue-600 text-sm mt-2 inline-block font-medium",children:"더보기 →"})]}),d.jsxs("div",{className:"bg-purple-50 p-6 rounded-2xl shadow hover:shadow-md transition",children:[d.jsx("h3",{className:"font-semibold text-lg text-purple-700 mb-2",children:"캘린더"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"일정을 공유하고 확인할 수 있는 스마트 캘린더 기능"}),d.jsx("a",{href:"#",className:"text-purple-600 text-sm mt-2 inline-block font-medium",children:"자세히 보기 →"})]}),d.jsxs("div",{className:"bg-pink-50 p-6 rounded-2xl shadow hover:shadow-md transition",children:[d.jsx("h3",{className:"font-semibold text-lg text-pink-700 mb-2",children:"채팅"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"실시간 채팅을 이용해 원활한 소통이 가능해요."}),d.jsx("a",{href:"#",className:"text-pink-600 text-sm mt-2 inline-block font-medium",children:"자세히 보기 →"})]})]})})]}),GT=()=>d.jsxs("div",{className:"buy_form_1",children:[d.jsxs("div",{className:"main_1",children:[d.jsxs("div",{className:"sub_1",children:[d.jsx("h1",{className:"heading-underline",children:"제품 및 가격안내"}),d.jsx("div",{className:"check",children:d.jsx("img",{src:"/images/check.png",alt:"line"})}),d.jsx("p",{className:"desc-text",children:"규모, 환경, 예산에 맞게 도입할 수 있는 다양한 유형의 제품을 합리적인 가격으로 제공합니다."})]}),d.jsx("div",{className:"sub_2"}),d.jsxs("div",{className:"sub_3",children:[d.jsx("p",{className:"artwork-text",children:"Artwork에 세계를 체험해보세요."}),d.jsxs("div",{className:"pay-logos",children:[d.jsx("img",{src:"/images/visa.png",alt:"Visa"}),d.jsx("img",{src:"/images/mastercard-logo.png",alt:"Mastercard"}),d.jsx("img",{src:"/images/amex.png",alt:"American Express"}),d.jsx("img",{src:"/images/paypal.png",alt:"Paypal"}),d.jsx("img",{src:"/images/bitcoin.png",alt:"Bitcoin"}),d.jsx("img",{src:"/images/ethereum.png",alt:"Ethereum"})]}),d.jsx("p",{className:"eng-desc",children:"We accept Visa, American Express, Mastercard, Paypal and Crypto"})]})]}),d.jsx("div",{className:"main_2",children:d.jsxs("div",{className:"cards",children:[d.jsxs("div",{className:"card free",children:[d.jsxs("div",{className:"card text",children:[d.jsx("p",{className:"title_F",children:"Basic 요금제"}),d.jsx("h3",{children:"소규모 팀을 위한 플랜"}),d.jsx("div",{className:"price",children:"9,900원"}),d.jsx("h3",{children:"Basic – ₩9,900 /월"}),d.jsxs("ul",{children:[d.jsx("li",{children:"✔ 체험용 기본 기능 제공 (제한적)"}),d.jsx("li",{children:"✔ 체험용 템플릿 2개"}),d.jsx("li",{children:"✔ 드라이브 5GB 제공"}),d.jsx("li",{style:{color:"red"},children:"X 커스터마이징 불가"}),d.jsx("li",{style:{color:"red"},children:"X 제휴사 콘텐츠 사용 불가"})]})]}),d.jsx("div",{className:"btn",children:d.jsx(gt,{to:"/credit/choice?type=Basic",children:"결제 하기"})})]}),d.jsxs("div",{className:"card month",children:[d.jsxs("div",{className:"card text",children:[d.jsx("p",{className:"title_M",children:"Standard 요금제"}),d.jsx("h3",{children:"표준 비즈니스용 플랜"}),d.jsx("div",{className:"price",children:"19,900원"}),d.jsx("h3",{children:"Standard – ₩19,900 /월"}),d.jsxs("ul",{children:[d.jsx("li",{children:"✔ 체험용 포함 전체 기능 제공"}),d.jsx("li",{children:"✔ 템플릿 최대 10개"}),d.jsx("li",{children:"✔ 드라이브 60GB"}),d.jsx("li",{children:"✔ 제휴사 콘텐츠 일부 제공"}),d.jsx("li",{children:"✔ 커스터마이징 가능"})]})]}),d.jsx("div",{className:"btn",children:d.jsx(gt,{to:"/credit/choice?type=Standard",children:"결제 하기"})})]}),d.jsxs("div",{className:"card year",children:[d.jsxs("div",{className:"card text",children:[d.jsx("p",{className:"title_Y",children:"Premium 요금제"}),d.jsx("h3",{children:"대규모 조직을 위한 플랜"}),d.jsx("div",{className:"price",children:"34,900원"}),d.jsx("h3",{children:"Premium – ₩34,900 /월"}),d.jsxs("ul",{children:[d.jsx("li",{children:"✔ 전체 기능 제공"}),d.jsx("li",{children:"✔ 템플릿 제한 없음"}),d.jsx("li",{children:"✔ 드라이브 무제한 제공"}),d.jsx("li",{children:"✔ 제휴 콘텐츠 전체 제공"}),d.jsx("li",{children:"✔ 스튜디오 기능 무제한"}),d.jsx("br",{})]})]}),d.jsx("div",{className:"btn",children:d.jsx(gt,{to:"/credit/choice?type=Premium",children:"결제 하기"})})]})]})})]});var XT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RS=ze.createContext&&ze.createContext(XT),BL=["attr","size","title"];function FL(n,e){if(n==null)return{};var t=HL(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function HL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Mh(){return Mh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mh.apply(this,arguments)}function AS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ph(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(t),!0).forEach(function(r){zL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zL(n,e,t){return e=UL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UL(n){var e=$L(n,"string");return typeof e=="symbol"?e:e+""}function $L(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KT(n){return n&&n.map((e,t)=>ze.createElement(e.tag,Ph({key:t},e.attr),KT(e.child)))}function ao(n){return e=>ze.createElement(WL,Mh({attr:Ph({},n.attr)},e),KT(n.child))}function WL(n){var e=t=>{var{attr:r,size:i,title:o}=n,s=FL(n,BL),a=i||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),ze.createElement("svg",Mh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:c,style:Ph(Ph({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ze.createElement("title",null,o),n.children)};return RS!==void 0?ze.createElement(RS.Consumer,null,t=>e(t)):e(XT)}function VL(n){return ao({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function qL(n){return ao({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function YL(n){return ao({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(n)}function GL(n){return ao({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function XL(n){return ao({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function KL(n){return ao({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 304v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48zm-48-80a79.557 79.557 0 0 1 30.777 6.165L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L17.223 230.165A79.557 79.557 0 0 1 48 224h480zm-48 96c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm-96 0c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z"},child:[]}]})(n)}function JL(n){return ao({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function QL(n){return ao({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(n)}function ZL(n){return ao({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(n)}const eB=()=>{const[n,e]=j.useState("/images/main/dashboard.PNG"),t=[{icon:d.jsx(QL,{}),label:"Dashboard"},{icon:d.jsx(XL,{}),label:"Docs"},{icon:d.jsx(VL,{}),label:"Calendar"},{icon:d.jsx(GL,{}),label:"Messenger"},{icon:d.jsx(qL,{}),label:"Board"},{icon:d.jsx(JL,{}),label:"Schedule"},{icon:d.jsx(KL,{}),label:"Drive"},{icon:d.jsx(YL,{}),label:"Settings"},{icon:d.jsx(ZL,{}),label:"Employees"}],r={Dashboard:"/images/main/dashboard.PNG",Docs:"/images/main/docs.PNG",Calendar:"/images/main/calendar.PNG",Messenger:"/images/main/messenger.PNG",Board:"/images/main/board.PNG",Schedule:"/images/main/schedule.PNG",Drive:"/images/main/drive.PNG",Settings:"/images/main/settings.PNG",Employees:"/images/main/employees.PNG"};return d.jsxs("section",{className:"flex items-center justify-center py-20 px-4 bg-gray-50",children:[d.jsx("div",{className:"relative w-3/5 pr-8",children:d.jsx("img",{src:n,alt:"대시보드",className:"w-full h-auto  rounded-xl shadow-xl scale-105"})}),d.jsxs("div",{className:"w-2/5 max-w-md bg-white rounded-2xl shadow-2xl p-8 z-10",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Set up your Workspace"}),d.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Start with what you need, customize as you go."}),d.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:t.map(({icon:i,label:o})=>d.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border rounded-xl hover:bg-gray-100 cursor-pointer",onClick:()=>e(r[o]),children:[d.jsx("div",{className:"text-xl text-purple-500",children:i}),d.jsx("span",{className:"mt-2 text-sm font-medium",children:o})]},o))})]})]})},tB=()=>{const n=Bt(),e=()=>{n("/credit/list")},t=()=>{n("/credit/choice?type=free")};return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:"text-center py-20 px-4",children:[d.jsx("img",{className:"Landing_logo",src:"/images/logo.png",alt:"메인 로고"}),d.jsxs("div",{className:"space-x-4",children:[d.jsx("button",{className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-3 rounded-full font-medium hover:opacity-90 transition",onClick:t,children:"무료 체험"}),d.jsx("button",{className:"bg-gray-900 text-white px-6 py-3 rounded-full font-medium hover:bg-gray-800 transition",onClick:e,children:"결제하고 시작"})]})]}),d.jsx(va.Element,{name:"features",children:d.jsx(LL,{})}),d.jsx(va.Element,{name:"credits",children:d.jsx(GT,{})}),d.jsx(va.Element,{name:"showImage",children:d.jsx(eB,{})})]})},nB=()=>d.jsx(Li,{children:d.jsx(tB,{})}),Oa=({children:n})=>d.jsx("div",{id:"user_container",children:d.jsx("div",{className:"container",children:d.jsx("main",{children:n})})}),Ia=()=>{const n=Bt(),e=()=>{n("/")};return d.jsx("img",{src:"/images/logo.png",alt:"로고",onClick:e})},rB=()=>{const[n,e]=j.useState(!1),[t,r]=j.useState(!1),[i,o]=j.useState({text:"",color:""}),[s,a]=j.useState({text:"",color:""}),[c,h]=j.useState({uid:"",tempcode:"",pass:"",pass2:"",rdate:"",profile:null,hp:""}),f=b=>{b.target.value.length>=5?(b.preventDefault(),(async()=>{try{const k=await WT(c);console.log(k),k?(o({text:"중복된 아이디입니다.",color:"red"}),e(!1)):(o({text:"사용가능한 아이디입니다.",color:"green"}),e(!0))}catch(k){console.error(k)}})()):(o({text:"아이디는 5자리 이상입니다.",color:"red"}),e(!1))},p=b=>{b.preventDefault()},g=b=>{const{name:x,value:w,files:k}=b.target;h(C=>({...C,[x]:k?k[0]:w})),x==="pass"&&(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(w)?(a({text:"사용 가능한 비밀번호입니다.",color:"green"}),r(!0)):(a({text:"영문, 숫자, 특수문자를 포함한 8자 이상.",color:"red"}),r(!1))),x==="pass2"&&t===!0&&(c.pass!==b.target.value?a({text:"비밀번호가 서로 다릅니다.",color:"red"}):a({text:"",color:"green"}))},v=b=>{if(b.preventDefault(),c.pass!==c.pass2){alert("비밀번호가 일치하지 않습니다.");return}console.log("회원가입 정보:",c);const x=new FormData;x.append("uid",c.uid),x.append("pass",c.pass),x.append("rdate",c.rdate),x.append("profile",c.profile),x.append("tempcode",c.tempcode),x.append("hp",c.hp),(async()=>{try{const k=await $T(x);console.log(k)}catch(k){console.error(k)}})(),alert("회원가입 완료 (예시)")};return d.jsxs("div",{id:"user_page",children:[d.jsx("img",{src:"/images/user/login.jpg",alt:"로그인 화면"}),d.jsxs("div",{id:"login_form",children:[d.jsx(Ia,{}),d.jsxs("div",{children:[d.jsx("p",{className:"txt_title",children:"회원가입"}),d.jsxs("form",{onSubmit:v,id:"login",children:[d.jsxs("div",{className:"signUp",children:[d.jsx("label",{htmlFor:"uid",children:"아이디"}),d.jsx("input",{type:"text",name:"uid",className:"m-10",placeholder:"아이디를 입력해주세요.",value:c.uid,onChange:g,onBlur:f,required:!0}),d.jsx("span",{style:{color:i.color},children:i.text}),d.jsx("p",{}),d.jsx("label",{htmlFor:"tempcode",children:"암호 번호"}),d.jsx("input",{type:"text",name:"tempcode",className:"m-10",placeholder:"암호 번호를 입력해주세요.",value:c.tempcode,onChange:g,onBlur:p,required:!0}),d.jsxs("div",{className:"input_wrap",children:[d.jsx("label",{htmlFor:"pass",children:"비밀번호"}),d.jsx("input",{type:"password",name:"pass",id:"password",placeholder:"비밀번호를 입력하세요",value:c.pass,onChange:g,required:!0})]}),d.jsxs("div",{className:"input_wrap",children:[d.jsx("label",{htmlFor:"pass2",children:"비밀번호 확인"}),d.jsx("input",{type:"password",name:"pass2",id:"passwordConfirm",placeholder:"비밀번호를 다시 입력하세요",value:c.pass2,onChange:g,required:!0}),d.jsx("span",{style:{color:s.color},children:s.text})]}),d.jsxs("div",{className:"input_wrap",children:[d.jsx("label",{htmlFor:"hp",children:"전화번호"}),d.jsx("input",{type:"text",name:"hp",id:"passwordConfirm",placeholder:"전화번호를 입력해주세요",value:c.hp,onChange:g,required:!0})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"rdate",children:"입사일"}),d.jsx("input",{type:"date",name:"rdate",id:"rdate",value:c.rdate,onChange:g,required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"profile",children:"프로필 사진"}),d.jsx("input",{type:"file",name:"profile",id:"profile",onChange:g,required:!0})]})]})]}),d.jsx("button",{type:"submit",className:"login_btn",children:"회원가입"})]})]})]})]})},iB=()=>d.jsx(Oa,{children:d.jsx(rB,{})}),oB={uid:"",pass:""},sB=()=>{const[n,e]=j.useState({...oB}),t=Bt(),{login:r}=$t(),i=h=>{h.preventDefault(),e({...n,[h.target.name]:h.target.value})},o=h=>{h.preventDefault(),window.location.href=GA},s=h=>{h.preventDefault(),window.location.href=KA},a=h=>{h.preventDefault(),window.location.href=XA},c=h=>{h.preventDefault(),(async()=>{try{const p=await TL(n);console.log(p),p.username&&(r(p.username,decodeURIComponent(p.department),decodeURIComponent(p.company),p.nick,p.membership),t("/dashboard/main"))}catch(p){console.error(p)}})()};return d.jsxs("div",{id:"user_page",children:[d.jsx("img",{src:"/images/user/login3.jpg",alt:"로그인 화면"}),d.jsxs("div",{id:"login_form",children:[d.jsx(Ia,{}),d.jsxs("div",{children:[d.jsx("p",{className:"txt_bold",children:"안녕하세요, J2SM에 오신 것을 환영합니다."}),d.jsxs("form",{onSubmit:c,id:"login",children:[d.jsx("p",{children:"아이디"}),d.jsx("input",{type:"text",name:"uid",placeholder:"아이디를 입력해주세요.",onChange:i,required:!0}),d.jsx("p",{children:"비밀번호"}),d.jsx("div",{className:"input_wrap",children:d.jsx("input",{type:"password",name:"pass",id:"password",placeholder:"비밀번호를 입력하세요",onChange:i,required:!0})}),d.jsxs("div",{className:"select_box",children:[d.jsxs("label",{className:"switch",children:[d.jsx("input",{type:"checkbox",name:"remember"}),d.jsx("span",{className:"slider round"}),"자동 로그인",d.jsxs("div",{className:"find_tag",children:[d.jsx(gt,{to:"/user/findid",children:"아이디 찾기ㅣ"}),d.jsx(gt,{to:"/user/findpass",children:"비밀번호 찾기"})]})]}),d.jsx("button",{type:"submit",className:"login_btn",children:"로그인"})]})]}),d.jsxs("div",{id:"social_login",children:[d.jsx("img",{src:"/images/user/kakao_small.png",alt:"카카오 로그인",onClick:a}),d.jsx("img",{src:"/images/user/naver_small.png",alt:"네이버 로그인",onClick:o}),d.jsx("img",{src:"/images/user/google_small.png",alt:"구글 로그인",onClick:s})]})]})]})]})},aB=()=>d.jsx(Oa,{children:d.jsx(sB,{})}),lB={email:"",pass:""},cB=()=>{const n=Bt(),[e,t]=j.useState({...lB}),[r,i]=j.useState(),[o,s]=j.useState(),[a,c]=j.useState({text:"",color:""}),[h,f]=j.useState(),[p,g]=j.useState(),[v,b]=j.useState({text:"",color:""}),[x,w]=j.useState(!1),[k,C]=j.useState(!1),[M,T]=j.useState(!1),[D,E]=j.useState("이메일 인증코드"),I=Q=>{i(Q.target.value),t({...e,email:Q.target.value})},P=Q=>{f(Q.target.value),A(Q.target.value),t({...e,pass:Q.target.value})},O=Q=>{g(Q.target.value)},B=Q=>{s(Q.target.value)},A=Q=>{/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(Q)?(c({text:"사용 가능한 비밀번호입니다.",color:"green"}),T(!0)):(c({text:"영문, 숫자, 특수문자를 포함한 8자 이상이어야 합니다.",color:"red"}),T(!1))},L=()=>{(async()=>{try{const oe=await VT(r);console.log(oe)}catch(oe){console.error(oe)}})()},R=()=>{(async()=>{try{const oe=await qT(o);oe=="인증 성공"?(C(!0),b({text:"인증에 성공하셨습니다.",color:"green"}),E("비밀번호 변경")):(b({text:"인증 코드가 맞지 않습니다.",color:"red"}),alert("인증실패")),console.log(oe)}catch(oe){console.error(oe)}})()},V=Q=>{if(Q.preventDefault(),!x){console.log("이메일 인증 절차 : 1"),(async()=>{try{const q=await ib(r);return console.log(q),q?(b({text:"인증번호가 전송 되었습니다.",color:"green"}),E("인증번호 인증"),L()):(w(!1),b({text:"존재하지 않는 이메일입니다.",color:"red"})),q}catch(q){console.error(q)}})(),w(!0);return}if(!k){R();return}if(M){if(h!=p){c({text:"비밀번호가 서로 다릅니다.",color:"red"});return}console.log(e),(async()=>{try{const q=await jL(e);n("/user/login"),console.log(q)}catch(q){alert("비밀번호 변경 실패"),console.error(q)}})()}};return d.jsxs("div",{id:"user_page",children:[d.jsx("img",{src:"/images/user/login.jpg",alt:"로그인 화면"}),d.jsxs("div",{id:"login_form",children:[d.jsx(Ia,{}),d.jsxs("div",{children:[d.jsx("p",{className:"txt_title",children:"비밀번호찾기"}),d.jsxs("form",{id:"login",children:[d.jsxs("div",{className:"signUp",children:[d.jsx("label",{for:"email",children:"이메일"}),d.jsx("input",{type:"text",name:"email",className:"m-10",placeholder:"이메일을 입력해주세요.",onChange:I,required:!0}),d.jsxs("div",{style:{display:x?"block":"none"},children:[d.jsx("label",{for:"emailCheck",children:"이메일 인증"}),d.jsx("input",{type:"text",name:"emailCheck",className:"m-10",placeholder:"인증 번호 입력해주세요.",onChange:B,required:!0})]}),d.jsx("p",{style:{color:v.color},children:v.text})]}),d.jsxs("div",{style:{display:k?"block":"none"},children:[d.jsxs("div",{className:"pass_result",children:[d.jsxs("div",{className:"input_wrap",children:[d.jsx("label",{for:"pass",children:"새 비밀번호"}),d.jsx("input",{type:"password",name:"pass",id:"password",placeholder:"비밀번호를 입력하세요",onChange:P,required:!0})]}),d.jsxs("div",{className:"input_wrap",children:[d.jsx("label",{for:"pass2",children:"비밀번호 확인"}),d.jsx("input",{type:"password",name:"pass2",id:"password",placeholder:"비밀번호를 입력하세요",onChange:O,required:!0})]})]}),d.jsx("span",{style:{color:a.color},children:a.text})]}),d.jsx("button",{onClick:V,className:"login_btn",children:D})]})]})]})]})},uB=()=>d.jsx(Oa,{children:d.jsx(cB,{})}),JT=j.createContext(),dB=({children:n})=>{const[e,t]=j.useState("");return d.jsx(JT.Provider,{value:{hp:e,setHp:t},children:n})},QT=()=>j.useContext(JT),hB=()=>{const n=Bt(),e=()=>{n("/user/findid/result")},{hp:t,setHp:r}=QT(),[i,o]=j.useState(),[s,a]=j.useState("휴대폰 인증"),[c,h]=j.useState({text:"",color:""}),[f,p]=j.useState(!1),g=b=>{b.preventDefault(),o(b.target.value)},v=b=>{if(b.preventDefault(),!f){console.log("휴대폰 인증 절차 : 1"),(async()=>{try{const w=await PL(i);return console.log(w),w?(p(!0),h({text:"인증에 성공하셨습니다.",color:"green"}),a("인증번호 인증")):h({text:"존재하지 않는 휴대폰 번호입니다.",color:"red"}),w}catch(w){console.error(w)}})();return}console.log("휴대폰 인증 절차 : 2"),r(i),e()};return d.jsxs("div",{id:"user_page",children:[d.jsx("img",{src:"/images/user/login.jpg",alt:"로그인 화면"}),d.jsxs("div",{id:"login_form",children:[d.jsx(Ia,{}),d.jsxs("div",{children:[d.jsx("p",{className:"txt_title",children:"아이디찾기"}),d.jsxs("form",{onSubmit:v,id:"login",children:[d.jsxs("div",{className:"signUp",children:[d.jsx("label",{for:"hp",children:"휴대폰"}),d.jsx("input",{type:"text",name:"hp",className:"m-10",placeholder:"휴대폰 번호를 입력해주세요.",onChange:g,required:!0}),d.jsx("span",{style:{color:c.color},children:c.text}),d.jsxs("div",{className:"hpValid",style:{display:f?"block":"none"},children:[d.jsx("label",{for:"hpCheck",children:"휴대폰 인증"}),d.jsx("input",{type:"text",name:"hpCheck",className:"m-10",placeholder:"코드번호 입력해주세요."})]})]}),d.jsx("button",{type:"submit",className:"login_btn",children:s})]})]})]})]})},fB=()=>d.jsx(Oa,{children:d.jsx(hB,{})}),pB=()=>d.jsx(Li,{children:d.jsx(GT,{})}),mB=()=>{const n=Bt(),e=async()=>{if((async()=>{try{const a=await ML(r)}catch(a){console.error(a)}})(),r!=="free")try{const c=await(await fetch(qA,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemName:"테스트 상품",quantity:1,totalAmount:1e4})})).json();console.log("결제 페이지 이동:",c.next_redirect_pc_url),window.location.href=c.next_redirect_pc_url}catch(a){console.error("카카오페이 결제 준비 실패",a)}else n("/credit/result")},[t]=dT(),r=t.get("type");let i=0;switch(r){case"Basic":i=9900;break;case"Standard":i=19900;break;case"Premium":i=34900;break;default:i=0}const o=r==="free"?"체험하기":"결제하기";return console.log(r),d.jsx("div",{className:"container",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:d.jsx("div",{className:"buy_end",children:d.jsxs("div",{className:"shadow",children:[d.jsx("div",{className:"icon"}),d.jsxs("h2",{children:[r," 요금제 결제"]}),d.jsxs("p",{children:["결제 금액: ",i,"원 -선택한 요금제로 결제를 진행하세요."]}),d.jsx("button",{onClick:e,children:o})]})})})},gB=()=>d.jsx(Li,{children:d.jsx(mB,{})}),vB=()=>{const n=Bt(),e=()=>{n("/credit/register")};return d.jsx("div",{className:"container",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:d.jsxs("div",{className:"buy",style:{marginTop:"270px"},children:[d.jsx("div",{className:"icon"}),d.jsx("h2",{children:"구매 완료"}),d.jsx("p",{children:"구매가 성공적으로 완료되었습니다. 아래에서 관리자 계정을 설정해주세요."}),d.jsx("button",{onClick:e,children:"아이디와 비밀번호 직접 입력"})]})})},yB=()=>d.jsx(Li,{children:d.jsx(vB,{})}),bB={uid:"",pass:""},xB=()=>{const n=Bt(),e=()=>{n("/credit/email")},[t,r]=j.useState(!1),[i,o]=j.useState(!1),[s,a]=j.useState({...bB}),[c,h]=j.useState({text:"",color:""}),[f,p]=j.useState({text:"",color:""}),g=x=>{x.preventDefault(),(async()=>{try{const k=await WT(s);console.log(k),k?(h({text:"중복된 아이디입니다.",color:"red"}),r(!1)):(h({text:"사용가능한 아이디입니다.",color:"green"}),r(!0))}catch(k){console.error(k)}})()},v=x=>{x.preventDefault(),a({...s,[x.target.name]:x.target.value});const{name:w,value:k}=x.target;w==="pass"&&(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(k)?(p({text:"사용 가능한 비밀번호입니다.",color:"green"}),o(!0)):(p({text:"영문, 숫자, 특수문자를 포함한 8자 이상이어야 합니다.",color:"red"}),o(!1)))},b=()=>{t==!0&i==!0?(async()=>{try{const w=await OL(s);console.log(w),e()}catch(w){console.error(w)}})():alert("아이디 양식을 다시 확인해주세요.")};return d.jsx("div",{className:"buy_form_2",children:d.jsxs("div",{className:"container",children:[d.jsx("h1",{className:"step-title",children:"구매 완료"}),d.jsx("p",{className:"step-desc",children:"구매가 성공적으로 완료되었습니다. 아래에서 관리자 계정을 설정해주세요."}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{for:"userid",children:"아이디"}),d.jsxs("div",{className:"id-field",children:[d.jsx("input",{className:"register-input",type:"text",name:"uid",id:"userid",placeholder:"아이디를 입력하세요",onChange:v}),d.jsx("button",{className:"btn-check",onClick:g,children:"중복 확인"})]}),d.jsx("span",{style:{color:c.color},children:c.text})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{for:"password",children:"비밀번호"}),d.jsx("input",{className:"register-input",type:"password",id:"password",name:"pass",placeholder:"비밀번호를 입력하세요",onChange:v}),d.jsx("span",{style:{color:f.color},children:f.text})]}),d.jsx("button",{className:"btn-next",onClick:b,children:"다음 단계로 이동"})]})})},wB=()=>d.jsx(Li,{children:d.jsx(xB,{})}),SB=()=>{const n=Bt(),[e,t]=j.useState(!1),[r,i]=j.useState(),[o,s]=j.useState({text:"",color:""}),[a,c]=j.useState({text:"",color:""}),[h,f]=j.useState(!1),p=()=>{n("/credit/info")},[g,v]=j.useState(),b=C=>{const M=C.target.value;v(M),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M)?(async()=>{try{const E=await ib(M);console.log(E),E?(s({text:"중복된 이메일입니다.",color:"red"}),t(!1)):(s({text:"사용 가능한 이메일입니다.",color:"green"}),t(!0))}catch(E){console.error(E)}})():s({text:"이메일 양식을 확인해주세요.",color:"red"})},x=C=>{C.preventDefault(),e?(f(!0),(async()=>{try{const T=await VT(g);console.log(T)}catch(T){console.error(T)}})(),alert("인증번호가 전송되었습니다.")):alert("이메일 양식을 작성해주세요.")},w=C=>{i(C.target.value),console.log(C.target.value)},k=C=>{e?(async()=>{try{const T=await qT(r);T=="인증 성공"?p():alert("인증 실패"),console.log(T)}catch(T){console.error(T)}})():alert("이메일 양식을 작성해주세요.")};return d.jsx("div",{className:"buy_form_1",children:d.jsxs("div",{className:"buy_form",children:[d.jsx("p",{className:"buy_title",children:"이메일 인증"}),d.jsx("p",{className:"step-desc",children:"이메일 인증을 진행해주세요."}),d.jsx("p",{className:"buy_input",children:"이메일 주소"}),d.jsx("input",{className:"inp",type:"text",name:"email",placeholder:"이메일 주소",onChange:b}),d.jsx("span",{style:{color:o.color},children:o.text}),d.jsxs("div",{className:"email_valid",style:{display:h?"block":"none"},children:[d.jsx("p",{className:"buy_input",children:"인증번호 검증"}),d.jsx("input",{className:"inp",type:"text",name:"email",placeholder:"인증번호",onChange:w}),d.jsx("span",{style:{color:a.color},children:a.text})]}),d.jsxs("div",{children:[d.jsx("button",{className:"btn1",onClick:x,children:"이메일 전송"})," ",d.jsx("br",{}),d.jsx("button",{className:"btn2",onClick:k,children:"이메일 인증"})]})]})})},kB=()=>d.jsx(Li,{children:d.jsx(SB,{})}),EB={name:"",hp:"",company:""},CB=()=>{const n=Bt(),e=()=>{n("/user/login")},[t,r]=j.useState({...EB}),i=j.useRef(),o=a=>{a.preventDefault(),r({...t,[a.target.name]:a.target.value})},s=a=>{a.preventDefault();const c=i.current.files[0],h=new FormData;h.append("profile",c);for(const p in t)h.append(p,t[p]);(async()=>{try{const p=await $T(h);console.log(p),e()}catch(p){console.error(p)}})()};return d.jsx("div",{id:"infoRegister",children:d.jsxs("div",{className:"buy_form_1",children:[d.jsx("p",{className:"h3",children:"회사 및 대표 설정"}),d.jsx("p",{className:"texts",children:"회사이름"}),d.jsx("input",{type:"text",name:"company",className:"input-default",onChange:o}),d.jsx("p",{className:"texts",children:"대표이름"}),d.jsx("input",{type:"text",name:"name",className:"input-default",onChange:o}),d.jsx("p",{className:"texts",children:"전화번호"}),d.jsx("input",{type:"text",name:"hp",className:"input-default",onChange:o}),d.jsx("p",{className:"texts",children:"프로필 이미지"}),d.jsx("input",{type:"file",name:"profile",ref:i,className:"input-default",required:!0}),d.jsx("div",{children:d.jsx("button",{className:"btn",onClick:s,children:"설정완료"})})]})})},_B=()=>d.jsx(Li,{children:d.jsx(CB,{})}),TB=()=>{const n=Bt(),{hp:e}=QT(),t=a=>{a.preventDefault(),n("/user/login")},r=a=>{a.preventDefault(),n("/user/findpass")},[i,o]=j.useState();return(async()=>{try{const a=await IL(e);o(a),console.log(a)}catch(a){console.error(a)}})(),d.jsxs("div",{id:"user_page",children:[d.jsx("img",{src:"/images/user/login.jpg",alt:"로그인 화면"}),d.jsxs("div",{id:"login_form",children:[d.jsx(Ia,{}),d.jsxs("div",{children:[d.jsx("p",{className:"txt_title",children:"아이디찾기"}),d.jsx("p",{className:"txt_subtitle",children:"아이디 찾기 결과"}),d.jsx("p",{className:"txt_sub",children:"아이디 찾기 결과를 확인해주세요."}),d.jsxs("div",{className:"find",children:[d.jsx("label",{for:"email",children:"아이디 : "}),d.jsx("input",{type:"text",name:"email",className:"m-10",value:i||"",disabled:!0,readonly:!0})]}),d.jsx("button",{className:"login_btn",onClick:t,children:"로그인"}),d.jsx("button",{className:"login_btn",onClick:r,children:"비밀번호 찾기"})]})]})]})},jB=()=>d.jsx(Oa,{children:d.jsx(TB,{})}),DB=async n=>{try{return(await _e.post(`${mL}`,n,{withCredentials:!0})).data}catch(e){console.log(e)}},MB=()=>{Bt();const[n,e]=j.useState({company:"",industry:"",name:"",email:"",memo:"",pass:""}),t=i=>{const{name:o,value:s}=i.target;e(a=>({...a,[o]:s}))},r=i=>{i.preventDefault(),(async()=>{try{const s=await DB(n);console.log(s)}catch(s){console.error(s)}})()};return d.jsxs("div",{className:"contact-container",children:[d.jsx("h3",{className:"contact-title",children:"문의하기"}),d.jsx("p",{className:"contact-subtitle",children:"문의하실 내용을 입력해주세요."}),d.jsx("form",{onSubmit:r,children:d.jsx("div",{className:"contact-form-box",children:d.jsxs("div",{children:[d.jsx("p",{className:"contact-label",children:"회사 이름"}),d.jsx("input",{type:"text",name:"company",onChange:t,className:"contact-input"}),d.jsx("p",{className:"contact-label",children:"업종"}),d.jsx("input",{type:"text",name:"industry",onChange:t,className:"contact-input"}),d.jsxs("div",{className:"contact-row",children:[d.jsxs("div",{children:[d.jsx("p",{className:"contact-label",children:"이름"}),d.jsx("input",{type:"text",name:"name",onChange:t,className:"contact-input"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"contact-label",children:"이메일"}),d.jsx("input",{type:"email",name:"email",onChange:t,className:"contact-input"})]})]}),d.jsx("p",{className:"contact-label",children:"임시 비밀번호"}),d.jsx("input",{type:"password",name:"pass",onChange:t,className:"contact-input"}),d.jsx("p",{className:"contact-label",children:"문의사항"}),d.jsx("textarea",{name:"memo",onChange:t,className:"contact-textarea"}),d.jsx("button",{type:"submit",className:"contact-button",children:"문의 하기"})]})})})]})},PB=()=>d.jsx(Li,{children:d.jsx(MB,{})}),OB=()=>d.jsxs("div",{className:"qnaView",children:[d.jsx("h2",{className:"qna-title",children:"문의 상세 내역"}),d.jsx("p",{className:"qna-subtitle",children:"문의하실 내용을 입력해주세요."}),d.jsxs("div",{className:"qna-box",children:[d.jsx("button",{className:"close-button",children:"×"}),d.jsxs("section",{className:"qna-section",children:[d.jsx("h4",{className:"qna-section-title",children:"회사 정보"}),d.jsxs("div",{className:"qna-field",children:[d.jsx("p",{className:"qna-label",children:"회사 이름"}),d.jsx("p",{className:"qna-value font-bold",children:"그린 컴퓨터 아카데미"})]}),d.jsxs("div",{className:"qna-field",children:[d.jsx("p",{className:"qna-label",children:"이름"}),d.jsx("p",{className:"qna-value font-bold",children:"그린컴"})]}),d.jsxs("div",{className:"qna-field",children:[d.jsx("p",{className:"qna-label",children:"문의 내역"}),d.jsx("input",{type:"text",className:"qna-input",placeholder:"문의 내역"})]})]}),d.jsx("hr",{className:"divider"}),d.jsxs("section",{className:"qna-section",children:[d.jsx("h4",{className:"qna-section-title",children:"담당자 정보"}),d.jsxs("div",{className:"qna-field",children:[d.jsx("p",{className:"qna-label",children:"이름"}),d.jsx("p",{className:"qna-value",children:"관리자"})]}),d.jsxs("div",{className:"qna-field",children:[d.jsx("p",{className:"qna-label",children:"이메일"}),d.jsx("p",{className:"qna-value text-blue-600",children:"green@gmail.com"})]}),d.jsxs("div",{className:"qna-field",children:[d.jsx("p",{className:"qna-label",children:"휴대폰"}),d.jsx("p",{className:"qna-value font-semibold",children:"010-1212-1744"})]}),d.jsxs("div",{className:"qna-field",children:[d.jsx("p",{className:"qna-label",children:"답변 내역"}),d.jsx("input",{type:"text",className:"qna-input",placeholder:"답변 내역"})]})]})]})]}),IB=()=>d.jsx(Li,{children:d.jsx(OB,{})}),NB=[{path:"/dashboard/main",icon:"Grid.svg",alt:"dashboard"},{path:"/dashboard/mypage/mypage",icon:"File text.svg",alt:"document"},{path:"/dashboard/board/main",icon:"Clipboard.svg",alt:"board"},{path:"/dashboard/calendar",icon:"Calendar.svg",alt:"calendar"},{path:"/dashboard/chatting/main",icon:"Message square.svg",alt:"chat"},{path:"/dashboard/project/project",icon:"gmail_groups.svg",alt:"project"},{path:"/dashboard/drive",icon:"Cloud.svg",alt:"cloud"},{path:"/dashboard/setting",icon:"Settings.svg",alt:"setting"}],RB=()=>d.jsxs("div",{className:"wrapperside",children:[d.jsx("div",{className:"profileArea",children:d.jsx("img",{src:"/images/user.png",alt:"profile"})}),d.jsx("ul",{children:NB.map((n,e)=>d.jsx("li",{children:d.jsx(cT,{to:n.path,className:({isActive:t})=>t?"activeMenu":"",children:d.jsx("img",{src:`/images/${n.icon}`,alt:n.alt})})},e))})]}),AB=({isDarkMode:n,onToggleDarkMode:e})=>d.jsx("header",{children:d.jsxs("div",{className:"headerArea",children:[d.jsx("div",{className:"headerlogo",children:d.jsx("a",{href:"#",children:d.jsx("img",{src:"/images/logo.png",alt:"Logo"})})}),d.jsx("div",{className:"darkmode",children:d.jsxs("label",{className:"toggle-switch",children:[d.jsx("span",{className:"label-text",children:"DARK MODE"}),d.jsx("input",{type:"checkbox",checked:n,onChange:e}),d.jsx("span",{className:"slider"})]})}),d.jsx("div",{className:"alert",children:d.jsx("img",{src:"/images/bell.png",alt:"bell"})})]})}),sn=({children:n})=>{const[e,t]=j.useState(!1),r=()=>{t(i=>!i)};return j.useEffect(()=>{var i;document.body.classList.toggle("dark-mode",e),(i=document.querySelector(".container"))==null||i.classList.toggle("dark-mode",e)},[e]),d.jsx("div",{id:"DashboardMainLayout",children:d.jsxs("div",{className:"wrapper",children:[d.jsx(RB,{}),d.jsxs("div",{className:"container",children:[d.jsx(AB,{isDarkMode:e,onToggleDarkMode:r}),d.jsx("main",{children:n})]})]})})},LB=()=>{const[n,e]=j.useState(null),[t,r]=j.useState("--:--:--"),[i,o]=j.useState(""),{username:s}=$t();j.useEffect(()=>{const h=setInterval(()=>{r(new Date().toLocaleTimeString())},1e3);return()=>clearInterval(h)},[]),j.useEffect(()=>{(async()=>{const f=await YT();e(f),console.log("📦 유저 데이터:",f)})()},[s]);const a=()=>{o(`출근 완료 (${new Date().toLocaleTimeString()})`)},c=()=>{o(`퇴근 완료 (${new Date().toLocaleTimeString()})`)};return d.jsxs("div",{className:"topArea",children:[d.jsxs("div",{className:"mainProfile",children:[d.jsx("h3",{children:"Personal Details"}),d.jsxs("div",{className:"infoArea",children:[d.jsxs("div",{className:"photoBox",children:[d.jsx("img",{src:`${oy}/${n==null?void 0:n.profileImage}`,className:"photoPlaceholder",alt:"사진"}),d.jsx("button",{className:"verifyBtn",children:"Verification Photo"})]}),d.jsxs("ul",{className:"detailList",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Name:"})," ",n==null?void 0:n.name]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Position:"})," ",n==null?void 0:n.position]}),d.jsx("li",{children:d.jsxs("div",{className:"attendanceArea",children:[d.jsx("div",{className:"currentTime",children:t}),d.jsxs("div",{className:"btnGroup",children:[d.jsx("button",{className:"workBtn",onClick:a,children:"출근"}),d.jsx("button",{className:"workBtn",onClick:c,children:"퇴근"})]}),d.jsx("div",{className:"statusMessage",children:i})]})})]})]})]}),d.jsxs("div",{className:"scheduleArea",children:[d.jsx("h3",{children:"Schedule"}),d.jsx("div",{className:"scheduleinfo",children:d.jsx("table",{className:"scheduleTable",children:d.jsx("tbody",{children:[1,2,3,4].map((h,f)=>d.jsxs("tr",{children:[d.jsxs("td",{children:["오늘",d.jsx("br",{}),"5월 27일"]}),d.jsxs("td",{children:["오전 9시 사무실",d.jsx("br",{}),d.jsx("strong",{children:"짧은 팀 회의"})]})]},f))})})})]})]})},BB=()=>d.jsxs("div",{className:"visitPageCard",children:[d.jsx("a",{href:"#",children:d.jsx("img",{src:"/images/File.svg",alt:"icon"})}),d.jsx("p",{children:"새 페이지"})]}),FB=()=>{const n=j.useRef(null);return j.useEffect(()=>{const e=n.current,t=r=>{r.preventDefault(),e.scrollLeft+=r.deltaY};return e&&e.addEventListener("wheel",t,{passive:!1}),()=>{e==null||e.removeEventListener("wheel",t)}},[]),d.jsx("div",{className:"midArea",children:d.jsxs("div",{className:"recentArea",children:[d.jsx("div",{className:"titleArea",children:d.jsx("h3",{children:"Recent Visits"})}),d.jsx("div",{className:"visitSlider",children:d.jsx("div",{className:"visitArea",ref:n,children:Array.from({length:15}).map((e,t)=>d.jsx(BB,{},t))})})]})})};var ng=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],ya={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},gc={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},fr=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},Vr=function(n){return n===!0?1:0};function LS(n,e){var t;return function(){var r=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(r,i)},e)}}var rg=function(n){return n instanceof Array?n:[n]};function Gn(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function ht(n,e,t){var r=window.document.createElement(n);return e=e||"",t=t||"",r.className=e,t!==void 0&&(r.textContent=t),r}function Ed(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function ZT(n,e){if(e(n))return n;if(n.parentNode)return ZT(n.parentNode,e)}function Cd(n,e){var t=ht("div","numInputWrapper"),r=ht("input","numInput "+n),i=ht("span","arrowUp"),o=ht("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),e!==void 0)for(var s in e)r.setAttribute(s,e[s]);return t.appendChild(r),t.appendChild(i),t.appendChild(o),t}function Er(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var ig=function(){},Oh=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},HB={D:ig,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*Vr(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var r=parseInt(e),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:ig,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:ig,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},ks={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},tc={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[tc.w(n,e,t)]},F:function(n,e,t){return Oh(tc.n(n,e,t)-1,!1,e)},G:function(n,e,t){return fr(tc.h(n,e,t))},H:function(n){return fr(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[Vr(n.getHours()>11)]},M:function(n,e){return Oh(n.getMonth(),!0,e)},S:function(n){return fr(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return fr(n.getFullYear(),4)},d:function(n){return fr(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return fr(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return fr(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},ej=function(n){var e=n.config,t=e===void 0?ya:e,r=n.l10n,i=r===void 0?gc:r,o=n.isMobile,s=o===void 0?!1:o;return function(a,c,h){var f=h||i;return t.formatDate!==void 0&&!s?t.formatDate(a,c,f):c.split("").map(function(p,g,v){return tc[p]&&v[g-1]!=="\\"?tc[p](a,f,t):p!=="\\"?p:""}).join("")}},sy=function(n){var e=n.config,t=e===void 0?ya:e,r=n.l10n,i=r===void 0?gc:r;return function(o,s,a,c){if(!(o!==0&&!o)){var h=c||i,f,p=o;if(o instanceof Date)f=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)f=new Date(o);else if(typeof o=="string"){var g=s||(t||ya).dateFormat,v=String(o).trim();if(v==="today")f=new Date,a=!0;else if(t&&t.parseDate)f=t.parseDate(o,g);else if(/Z$/.test(v)||/GMT$/.test(v))f=new Date(o);else{for(var b=void 0,x=[],w=0,k=0,C="";w<g.length;w++){var M=g[w],T=M==="\\",D=g[w-1]==="\\"||T;if(ks[M]&&!D){C+=ks[M];var E=new RegExp(C).exec(o);E&&(b=!0)&&x[M!=="Y"?"push":"unshift"]({fn:HB[M],val:E[++k]})}else T||(C+=".")}f=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),x.forEach(function(I){var P=I.fn,O=I.val;return f=P(f,O,h)||f}),f=b?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){t.errorHandler(new Error("Invalid date provided: "+p));return}return a===!0&&f.setHours(0,0,0,0),f}}};function _r(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var zB=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},og=function(n,e,t){return n*3600+e*60+t},UB=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},$B={DAY:864e5};function sg(n){var e=n.defaultHour,t=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),o=n.minDate.getMinutes(),s=n.minDate.getSeconds();e<i&&(e=i),e===i&&t<o&&(t=o),e===i&&t===o&&r<s&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var a=n.maxDate.getHours(),c=n.maxDate.getMinutes();e=Math.min(e,a),e===a&&(t=Math.min(c,t)),e===a&&t===c&&(r=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(a){a&&Object.keys(a).forEach(function(c){return n[c]=a[c]})},i=0,o=e;i<o.length;i++){var s=o[i];r(s)}return n});var Rn=function(){return Rn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Rn.apply(this,arguments)},BS=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},WB=300;function VB(n,e){var t={config:Rn(Rn({},ya),Rt.defaultConfig),l10n:gc};t.parseDate=sy({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=x,t._setHoursFromDate=g,t._positionCalendar=nn,t.changeMonth=W,t.changeYear=Ie,t.clear=Z,t.close=pe,t.onMouseOver=at,t._createElement=ht,t.createDay=E,t.destroy=be,t.isEnabled=we,t.jumpToDate=C,t.updateValue=Xt,t.open=lt,t.redraw=ln,t.set=$n,t.setDate=jn,t.toggle=Fi;function r(){t.utils={getDaysInMonth:function(F,z){return F===void 0&&(F=t.currentMonth),z===void 0&&(z=t.currentYear),F===1&&(z%4===0&&z%100!==0||z%400===0)?29:t.l10n.daysInMonth[F]}}}function i(){t.element=t.input=n,t.isOpen=!1,an(),Nr(),Tt(),Rr(),r(),t.isMobile||D(),k(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&g(t.config.noCalendar?t.latestSelectedDateObj:void 0),Xt(!1)),a();var F=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&F&&nn(),dt("onReady")}function o(){var F;return((F=t.calendarContainer)===null||F===void 0?void 0:F.getRootNode()).activeElement||document.activeElement}function s(F){return F.bind(t)}function a(){var F=t.config;F.weekNumbers===!1&&F.showMonths===1||F.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var z=(t.days.offsetWidth+1)*F.showMonths;t.daysContainer.style.width=z+"px",t.calendarContainer.style.width=z+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function c(F){if(t.selectedDates.length===0){var z=t.config.minDate===void 0||_r(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),K=sg(t.config);z.setHours(K.hours,K.minutes,K.seconds,z.getMilliseconds()),t.selectedDates=[z],t.latestSelectedDateObj=z}F!==void 0&&F.type!=="blur"&&Kt(F);var ie=t._input.value;p(),Xt(),t._input.value!==ie&&t._debouncedChange()}function h(F,z){return F%12+12*Vr(z===t.l10n.amPM[1])}function f(F){switch(F%24){case 0:case 12:return 12;default:return F%12}}function p(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var F=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,z=(parseInt(t.minuteElement.value,10)||0)%60,K=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(F=h(F,t.amPM.textContent));var ie=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&_r(t.latestSelectedDateObj,t.config.minDate,!0)===0,H=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&_r(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var U=og(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),X=og(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),ee=og(F,z,K);if(ee>X&&ee<U){var de=UB(U);F=de[0],z=de[1],K=de[2]}}else{if(H){var ce=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;F=Math.min(F,ce.getHours()),F===ce.getHours()&&(z=Math.min(z,ce.getMinutes())),z===ce.getMinutes()&&(K=Math.min(K,ce.getSeconds()))}if(ie){var he=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;F=Math.max(F,he.getHours()),F===he.getHours()&&z<he.getMinutes()&&(z=he.getMinutes()),z===he.getMinutes()&&(K=Math.max(K,he.getSeconds()))}}v(F,z,K)}}function g(F){var z=F||t.latestSelectedDateObj;z&&z instanceof Date&&v(z.getHours(),z.getMinutes(),z.getSeconds())}function v(F,z,K){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(F%24,z,K||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=fr(t.config.time_24hr?F:(12+F)%12+12*Vr(F%12===0)),t.minuteElement.value=fr(z),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Vr(F>=12)]),t.secondElement!==void 0&&(t.secondElement.value=fr(K)))}function b(F){var z=Er(F),K=parseInt(z.value)+(F.delta||0);(K/1e3>1||F.key==="Enter"&&!/[^\d]/.test(K.toString()))&&Ie(K)}function x(F,z,K,ie){if(z instanceof Array)return z.forEach(function(H){return x(F,H,K,ie)});if(F instanceof Array)return F.forEach(function(H){return x(H,z,K,ie)});F.addEventListener(z,K,ie),t._handlers.push({remove:function(){return F.removeEventListener(z,K,ie)}})}function w(){dt("onChange")}function k(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(K){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+K+"]"),function(ie){return x(ie,"click",t[K])})}),t.isMobile){Bi();return}var F=LS(wt,50);if(t._debouncedChange=LS(w,WB),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&x(t.daysContainer,"mouseover",function(K){t.config.mode==="range"&&at(Er(K))}),x(t._input,"keydown",Ke),t.calendarContainer!==void 0&&x(t.calendarContainer,"keydown",Ke),!t.config.inline&&!t.config.static&&x(window,"resize",F),window.ontouchstart!==void 0?x(window.document,"touchstart",me):x(window.document,"mousedown",me),x(window.document,"focus",me,{capture:!0}),t.config.clickOpens===!0&&(x(t._input,"focus",t.open),x(t._input,"click",t.open)),t.daysContainer!==void 0&&(x(t.monthNav,"click",St),x(t.monthNav,["keyup","increment"],b),x(t.daysContainer,"click",ei)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var z=function(K){return Er(K).select()};x(t.timeContainer,["increment"],c),x(t.timeContainer,"blur",c,{capture:!0}),x(t.timeContainer,"click",M),x([t.hourElement,t.minuteElement],["focus","click"],z),t.secondElement!==void 0&&x(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&x(t.amPM,"click",function(K){c(K)})}t.config.allowInput&&x(t._input,"blur",Ee)}function C(F,z){var K=F!==void 0?t.parseDate(F):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),ie=t.currentYear,H=t.currentMonth;try{K!==void 0&&(t.currentYear=K.getFullYear(),t.currentMonth=K.getMonth())}catch(U){U.message="Invalid date supplied: "+K,t.config.errorHandler(U)}z&&t.currentYear!==ie&&(dt("onYearChange"),R()),z&&(t.currentYear!==ie||t.currentMonth!==H)&&dt("onMonthChange"),t.redraw()}function M(F){var z=Er(F);~z.className.indexOf("arrow")&&T(F,z.classList.contains("arrowUp")?1:-1)}function T(F,z,K){var ie=F&&Er(F),H=K||ie&&ie.parentNode&&ie.parentNode.firstChild,U=br("increment");U.delta=z,H&&H.dispatchEvent(U)}function D(){var F=window.document.createDocumentFragment();if(t.calendarContainer=ht("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(F.appendChild(oe()),t.innerContainer=ht("div","flatpickr-innerContainer"),t.config.weekNumbers){var z=le(),K=z.weekWrapper,ie=z.weekNumbers;t.innerContainer.appendChild(K),t.weekNumbers=ie,t.weekWrapper=K}t.rContainer=ht("div","flatpickr-rContainer"),t.rContainer.appendChild(Y()),t.daysContainer||(t.daysContainer=ht("div","flatpickr-days"),t.daysContainer.tabIndex=-1),L(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),F.appendChild(t.innerContainer)}t.config.enableTime&&F.appendChild(q()),Gn(t.calendarContainer,"rangeMode",t.config.mode==="range"),Gn(t.calendarContainer,"animate",t.config.animate===!0),Gn(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(F);var H=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!H&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var U=ht("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(U,t.element),U.appendChild(t.element),t.altInput&&U.appendChild(t.altInput),U.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function E(F,z,K,ie){var H=we(z,!0),U=ht("span",F,z.getDate().toString());return U.dateObj=z,U.$i=ie,U.setAttribute("aria-label",t.formatDate(z,t.config.ariaDateFormat)),F.indexOf("hidden")===-1&&_r(z,t.now)===0&&(t.todayDateElem=U,U.classList.add("today"),U.setAttribute("aria-current","date")),H?(U.tabIndex=-1,tr(z)&&(U.classList.add("selected"),t.selectedDateElem=U,t.config.mode==="range"&&(Gn(U,"startRange",t.selectedDates[0]&&_r(z,t.selectedDates[0],!0)===0),Gn(U,"endRange",t.selectedDates[1]&&_r(z,t.selectedDates[1],!0)===0),F==="nextMonthDay"&&U.classList.add("inRange")))):U.classList.add("flatpickr-disabled"),t.config.mode==="range"&&ti(z)&&!tr(z)&&U.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&F!=="prevMonthDay"&&ie%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(z)+"</span>"),dt("onDayCreate",U),U}function I(F){F.focus(),t.config.mode==="range"&&at(F)}function P(F){for(var z=F>0?0:t.config.showMonths-1,K=F>0?t.config.showMonths:-1,ie=z;ie!=K;ie+=F)for(var H=t.daysContainer.children[ie],U=F>0?0:H.children.length-1,X=F>0?H.children.length:-1,ee=U;ee!=X;ee+=F){var de=H.children[ee];if(de.className.indexOf("hidden")===-1&&we(de.dateObj))return de}}function O(F,z){for(var K=F.className.indexOf("Month")===-1?F.dateObj.getMonth():t.currentMonth,ie=z>0?t.config.showMonths:-1,H=z>0?1:-1,U=K-t.currentMonth;U!=ie;U+=H)for(var X=t.daysContainer.children[U],ee=K-t.currentMonth===U?F.$i+z:z<0?X.children.length-1:0,de=X.children.length,ce=ee;ce>=0&&ce<de&&ce!=(z>0?de:-1);ce+=H){var he=X.children[ce];if(he.className.indexOf("hidden")===-1&&we(he.dateObj)&&Math.abs(F.$i-ce)>=Math.abs(z))return I(he)}t.changeMonth(H),B(P(H),0)}function B(F,z){var K=o(),ie=Pe(K||document.body),H=F!==void 0?F:ie?K:t.selectedDateElem!==void 0&&Pe(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Pe(t.todayDateElem)?t.todayDateElem:P(z>0?1:-1);H===void 0?t._input.focus():ie?O(H,z):I(H)}function A(F,z){for(var K=(new Date(F,z,1).getDay()-t.l10n.firstDayOfWeek+7)%7,ie=t.utils.getDaysInMonth((z-1+12)%12,F),H=t.utils.getDaysInMonth(z,F),U=window.document.createDocumentFragment(),X=t.config.showMonths>1,ee=X?"prevMonthDay hidden":"prevMonthDay",de=X?"nextMonthDay hidden":"nextMonthDay",ce=ie+1-K,he=0;ce<=ie;ce++,he++)U.appendChild(E("flatpickr-day "+ee,new Date(F,z-1,ce),ce,he));for(ce=1;ce<=H;ce++,he++)U.appendChild(E("flatpickr-day",new Date(F,z,ce),ce,he));for(var ge=H+1;ge<=42-K&&(t.config.showMonths===1||he%7!==0);ge++,he++)U.appendChild(E("flatpickr-day "+de,new Date(F,z+1,ge%H),ge,he));var Te=ht("div","dayContainer");return Te.appendChild(U),Te}function L(){if(t.daysContainer!==void 0){Ed(t.daysContainer),t.weekNumbers&&Ed(t.weekNumbers);for(var F=document.createDocumentFragment(),z=0;z<t.config.showMonths;z++){var K=new Date(t.currentYear,t.currentMonth,1);K.setMonth(t.currentMonth+z),F.appendChild(A(K.getFullYear(),K.getMonth()))}t.daysContainer.appendChild(F),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&at()}}function R(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var F=function(ie){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&ie<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&ie>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var z=0;z<12;z++)if(F(z)){var K=ht("option","flatpickr-monthDropdown-month");K.value=new Date(t.currentYear,z).getMonth().toString(),K.textContent=Oh(z,t.config.shorthandCurrentMonth,t.l10n),K.tabIndex=-1,t.currentMonth===z&&(K.selected=!0),t.monthsDropdownContainer.appendChild(K)}}}function V(){var F=ht("div","flatpickr-month"),z=window.document.createDocumentFragment(),K;t.config.showMonths>1||t.config.monthSelectorType==="static"?K=ht("span","cur-month"):(t.monthsDropdownContainer=ht("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),x(t.monthsDropdownContainer,"change",function(X){var ee=Er(X),de=parseInt(ee.value,10);t.changeMonth(de-t.currentMonth),dt("onMonthChange")}),R(),K=t.monthsDropdownContainer);var ie=Cd("cur-year",{tabindex:"-1"}),H=ie.getElementsByTagName("input")[0];H.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&H.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(H.setAttribute("max",t.config.maxDate.getFullYear().toString()),H.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var U=ht("div","flatpickr-current-month");return U.appendChild(K),U.appendChild(ie),z.appendChild(U),F.appendChild(z),{container:F,yearElement:H,monthElement:K}}function Q(){Ed(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var F=t.config.showMonths;F--;){var z=V();t.yearElements.push(z.yearElement),t.monthElements.push(z.monthElement),t.monthNav.appendChild(z.container)}t.monthNav.appendChild(t.nextMonthNav)}function oe(){return t.monthNav=ht("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=ht("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=ht("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,Q(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(F){t.__hidePrevMonthArrow!==F&&(Gn(t.prevMonthNav,"flatpickr-disabled",F),t.__hidePrevMonthArrow=F)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(F){t.__hideNextMonthArrow!==F&&(Gn(t.nextMonthNav,"flatpickr-disabled",F),t.__hideNextMonthArrow=F)}}),t.currentYearElement=t.yearElements[0],nr(),t.monthNav}function q(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var F=sg(t.config);t.timeContainer=ht("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var z=ht("span","flatpickr-time-separator",":"),K=Cd("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=K.getElementsByTagName("input")[0];var ie=Cd("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=ie.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=fr(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?F.hours:f(F.hours)),t.minuteElement.value=fr(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():F.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(K),t.timeContainer.appendChild(z),t.timeContainer.appendChild(ie),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var H=Cd("flatpickr-second");t.secondElement=H.getElementsByTagName("input")[0],t.secondElement.value=fr(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():F.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(ht("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(H)}return t.config.time_24hr||(t.amPM=ht("span","flatpickr-am-pm",t.l10n.amPM[Vr((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function Y(){t.weekdayContainer?Ed(t.weekdayContainer):t.weekdayContainer=ht("div","flatpickr-weekdays");for(var F=t.config.showMonths;F--;){var z=ht("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(z)}return re(),t.weekdayContainer}function re(){if(t.weekdayContainer){var F=t.l10n.firstDayOfWeek,z=BS(t.l10n.weekdays.shorthand);F>0&&F<z.length&&(z=BS(z.splice(F,z.length),z.splice(0,F)));for(var K=t.config.showMonths;K--;)t.weekdayContainer.children[K].innerHTML=`
      <span class='flatpickr-weekday'>
        `+z.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function le(){t.calendarContainer.classList.add("hasWeeks");var F=ht("div","flatpickr-weekwrapper");F.appendChild(ht("span","flatpickr-weekday",t.l10n.weekAbbreviation));var z=ht("div","flatpickr-weeks");return F.appendChild(z),{weekWrapper:F,weekNumbers:z}}function W(F,z){z===void 0&&(z=!0);var K=z?F:F-t.currentMonth;K<0&&t._hidePrevMonthArrow===!0||K>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=K,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,dt("onYearChange"),R()),L(),dt("onMonthChange"),nr())}function Z(F,z){if(F===void 0&&(F=!0),z===void 0&&(z=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,z===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var K=sg(t.config),ie=K.hours,H=K.minutes,U=K.seconds;v(ie,H,U)}t.redraw(),F&&dt("onChange")}function pe(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),dt("onClose")}function be(){t.config!==void 0&&dt("onDestroy");for(var F=t._handlers.length;F--;)t._handlers[F].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var z=t.calendarContainer.parentNode;if(z.lastChild&&z.removeChild(z.lastChild),z.parentNode){for(;z.firstChild;)z.parentNode.insertBefore(z.firstChild,z);z.parentNode.removeChild(z)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(K){try{delete t[K]}catch{}})}function ke(F){return t.calendarContainer.contains(F)}function me(F){if(t.isOpen&&!t.config.inline){var z=Er(F),K=ke(z),ie=z===t.input||z===t.altInput||t.element.contains(z)||F.path&&F.path.indexOf&&(~F.path.indexOf(t.input)||~F.path.indexOf(t.altInput)),H=!ie&&!K&&!ke(F.relatedTarget),U=!t.config.ignoredFocusElements.some(function(X){return X.contains(z)});H&&U&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&c(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Ie(F){if(!(!F||t.config.minDate&&F<t.config.minDate.getFullYear()||t.config.maxDate&&F>t.config.maxDate.getFullYear())){var z=F,K=t.currentYear!==z;t.currentYear=z||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),K&&(t.redraw(),dt("onYearChange"),R())}}function we(F,z){var K;z===void 0&&(z=!0);var ie=t.parseDate(F,void 0,z);if(t.config.minDate&&ie&&_r(ie,t.config.minDate,z!==void 0?z:!t.minDateHasTime)<0||t.config.maxDate&&ie&&_r(ie,t.config.maxDate,z!==void 0?z:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(ie===void 0)return!1;for(var H=!!t.config.enable,U=(K=t.config.enable)!==null&&K!==void 0?K:t.config.disable,X=0,ee=void 0;X<U.length;X++){if(ee=U[X],typeof ee=="function"&&ee(ie))return H;if(ee instanceof Date&&ie!==void 0&&ee.getTime()===ie.getTime())return H;if(typeof ee=="string"){var de=t.parseDate(ee,void 0,!0);return de&&de.getTime()===ie.getTime()?H:!H}else if(typeof ee=="object"&&ie!==void 0&&ee.from&&ee.to&&ie.getTime()>=ee.from.getTime()&&ie.getTime()<=ee.to.getTime())return H}return!H}function Pe(F){return t.daysContainer!==void 0?F.className.indexOf("hidden")===-1&&F.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(F):!1}function Ee(F){var z=F.target===t._input,K=t._input.value.trimEnd()!==ni();z&&K&&!(F.relatedTarget&&ke(F.relatedTarget))&&t.setDate(t._input.value,!0,F.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Ke(F){var z=Er(F),K=t.config.wrap?n.contains(z):z===t._input,ie=t.config.allowInput,H=t.isOpen&&(!ie||!K),U=t.config.inline&&K&&!ie;if(F.keyCode===13&&K){if(ie)return t.setDate(t._input.value,!0,z===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),z.blur();t.open()}else if(ke(z)||H||U){var X=!!t.timeContainer&&t.timeContainer.contains(z);switch(F.keyCode){case 13:X?(F.preventDefault(),c(),Un()):ei(F);break;case 27:F.preventDefault(),Un();break;case 8:case 46:K&&!t.config.allowInput&&(F.preventDefault(),t.clear());break;case 37:case 39:if(!X&&!K){F.preventDefault();var ee=o();if(t.daysContainer!==void 0&&(ie===!1||ee&&Pe(ee))){var de=F.keyCode===39?1:-1;F.ctrlKey?(F.stopPropagation(),W(de),B(P(1),0)):B(void 0,de)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:F.preventDefault();var ce=F.keyCode===40?1:-1;t.daysContainer&&z.$i!==void 0||z===t.input||z===t.altInput?F.ctrlKey?(F.stopPropagation(),Ie(t.currentYear-ce),B(P(1),0)):X||B(void 0,ce*7):z===t.currentYearElement?Ie(t.currentYear-ce):t.config.enableTime&&(!X&&t.hourElement&&t.hourElement.focus(),c(F),t._debouncedChange());break;case 9:if(X){var he=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(je){return je}),ge=he.indexOf(z);if(ge!==-1){var Te=he[ge+(F.shiftKey?-1:1)];F.preventDefault(),(Te||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(z)&&F.shiftKey&&(F.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&z===t.amPM)switch(F.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],p(),Xt();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],p(),Xt();break}(K||ke(z))&&dt("onKeyDown",F)}function at(F,z){if(z===void 0&&(z="flatpickr-day"),!(t.selectedDates.length!==1||F&&(!F.classList.contains(z)||F.classList.contains("flatpickr-disabled")))){for(var K=F?F.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),ie=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),H=Math.min(K,t.selectedDates[0].getTime()),U=Math.max(K,t.selectedDates[0].getTime()),X=!1,ee=0,de=0,ce=H;ce<U;ce+=$B.DAY)we(new Date(ce),!0)||(X=X||ce>H&&ce<U,ce<ie&&(!ee||ce>ee)?ee=ce:ce>ie&&(!de||ce<de)&&(de=ce));var he=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+z));he.forEach(function(ge){var Te=ge.dateObj,je=Te.getTime(),He=ee>0&&je<ee||de>0&&je>de;if(He){ge.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Re){ge.classList.remove(Re)});return}else if(X&&!He)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Re){ge.classList.remove(Re)}),F!==void 0&&(F.classList.add(K<=t.selectedDates[0].getTime()?"startRange":"endRange"),ie<K&&je===ie?ge.classList.add("startRange"):ie>K&&je===ie&&ge.classList.add("endRange"),je>=ee&&(de===0||je<=de)&&zB(je,ie,K)&&ge.classList.add("inRange"))})}}function wt(){t.isOpen&&!t.config.static&&!t.config.inline&&nn()}function lt(F,z){if(z===void 0&&(z=t._positionElement),t.isMobile===!0){if(F){F.preventDefault();var K=Er(F);K&&K.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),dt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var ie=t.isOpen;t.isOpen=!0,ie||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),dt("onOpen"),nn(z)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(F===void 0||!t.timeContainer.contains(F.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function _t(F){return function(z){var K=t.config["_"+F+"Date"]=t.parseDate(z,t.config.dateFormat),ie=t.config["_"+(F==="min"?"max":"min")+"Date"];K!==void 0&&(t[F==="min"?"minDateHasTime":"maxDateHasTime"]=K.getHours()>0||K.getMinutes()>0||K.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(H){return we(H)}),!t.selectedDates.length&&F==="min"&&g(K),Xt()),t.daysContainer&&(ln(),K!==void 0?t.currentYearElement[F]=K.getFullYear().toString():t.currentYearElement.removeAttribute(F),t.currentYearElement.disabled=!!ie&&K!==void 0&&ie.getFullYear()===K.getFullYear())}}function an(){var F=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],z=Rn(Rn({},JSON.parse(JSON.stringify(n.dataset||{}))),e),K={};t.config.parseDate=z.parseDate,t.config.formatDate=z.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(he){t.config._enable=Wn(he)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(he){t.config._disable=Wn(he)}});var ie=z.mode==="time";if(!z.dateFormat&&(z.enableTime||ie)){var H=Rt.defaultConfig.dateFormat||ya.dateFormat;K.dateFormat=z.noCalendar||ie?"H:i"+(z.enableSeconds?":S":""):H+" H:i"+(z.enableSeconds?":S":"")}if(z.altInput&&(z.enableTime||ie)&&!z.altFormat){var U=Rt.defaultConfig.altFormat||ya.altFormat;K.altFormat=z.noCalendar||ie?"h:i"+(z.enableSeconds?":S K":" K"):U+(" h:i"+(z.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:_t("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:_t("max")});var X=function(he){return function(ge){t.config[he==="min"?"_minTime":"_maxTime"]=t.parseDate(ge,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:X("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:X("max")}),z.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,K,z);for(var ee=0;ee<F.length;ee++)t.config[F[ee]]=t.config[F[ee]]===!0||t.config[F[ee]]==="true";ng.filter(function(he){return t.config[he]!==void 0}).forEach(function(he){t.config[he]=rg(t.config[he]||[]).map(s)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var ee=0;ee<t.config.plugins.length;ee++){var de=t.config.plugins[ee](t)||{};for(var ce in de)ng.indexOf(ce)>-1?t.config[ce]=rg(de[ce]).map(s).concat(t.config[ce]):typeof z[ce]>"u"&&(t.config[ce]=de[ce])}z.altInputClass||(t.config.altInputClass=Tn().className+" "+t.config.altInputClass),dt("onParseConfig")}function Tn(){return t.config.wrap?n.querySelector("[data-input]"):n}function Nr(){typeof t.config.locale!="object"&&typeof Rt.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Rn(Rn({},Rt.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Rt.l10ns[t.config.locale]:void 0),ks.D="("+t.l10n.weekdays.shorthand.join("|")+")",ks.l="("+t.l10n.weekdays.longhand.join("|")+")",ks.M="("+t.l10n.months.shorthand.join("|")+")",ks.F="("+t.l10n.months.longhand.join("|")+")",ks.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var F=Rn(Rn({},e),JSON.parse(JSON.stringify(n.dataset||{})));F.time_24hr===void 0&&Rt.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=ej(t),t.parseDate=sy({config:t.config,l10n:t.l10n})}function nn(F){if(typeof t.config.position=="function")return void t.config.position(t,F);if(t.calendarContainer!==void 0){dt("onPreCalendarPosition");var z=F||t._positionElement,K=Array.prototype.reduce.call(t.calendarContainer.children,function(Si,Dn){return Si+Dn.offsetHeight},0),ie=t.calendarContainer.offsetWidth,H=t.config.position.split(" "),U=H[0],X=H.length>1?H[1]:null,ee=z.getBoundingClientRect(),de=window.innerHeight-ee.bottom,ce=U==="above"||U!=="below"&&de<K&&ee.top>K,he=window.pageYOffset+ee.top+(ce?-K-2:z.offsetHeight+2);if(Gn(t.calendarContainer,"arrowTop",!ce),Gn(t.calendarContainer,"arrowBottom",ce),!t.config.inline){var ge=window.pageXOffset+ee.left,Te=!1,je=!1;X==="center"?(ge-=(ie-ee.width)/2,Te=!0):X==="right"&&(ge-=ie-ee.width,je=!0),Gn(t.calendarContainer,"arrowLeft",!Te&&!je),Gn(t.calendarContainer,"arrowCenter",Te),Gn(t.calendarContainer,"arrowRight",je);var He=window.document.body.offsetWidth-(window.pageXOffset+ee.right),Re=ge+ie>window.document.body.offsetWidth,qe=He+ie>window.document.body.offsetWidth;if(Gn(t.calendarContainer,"rightMost",Re),!t.config.static)if(t.calendarContainer.style.top=he+"px",!Re)t.calendarContainer.style.left=ge+"px",t.calendarContainer.style.right="auto";else if(!qe)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=He+"px";else{var Je=Wt();if(Je===void 0)return;var Pt=window.document.body.offsetWidth,Jt=Math.max(0,Pt/2-ie/2),wn=".flatpickr-calendar.centerMost:before",Ze=".flatpickr-calendar.centerMost:after",wi=Je.cssRules.length,Ar="{left:"+ee.left+"px;right:auto;}";Gn(t.calendarContainer,"rightMost",!1),Gn(t.calendarContainer,"centerMost",!0),Je.insertRule(wn+","+Ze+Ar,wi),t.calendarContainer.style.left=Jt+"px",t.calendarContainer.style.right="auto"}}}}function Wt(){for(var F=null,z=0;z<document.styleSheets.length;z++){var K=document.styleSheets[z];if(K.cssRules){try{K.cssRules}catch{continue}F=K;break}}return F??zn()}function zn(){var F=document.createElement("style");return document.head.appendChild(F),F.sheet}function ln(){t.config.noCalendar||t.isMobile||(R(),nr(),L())}function Un(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function ei(F){F.preventDefault(),F.stopPropagation();var z=function(he){return he.classList&&he.classList.contains("flatpickr-day")&&!he.classList.contains("flatpickr-disabled")&&!he.classList.contains("notAllowed")},K=ZT(Er(F),z);if(K!==void 0){var ie=K,H=t.latestSelectedDateObj=new Date(ie.dateObj.getTime()),U=(H.getMonth()<t.currentMonth||H.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=ie,t.config.mode==="single")t.selectedDates=[H];else if(t.config.mode==="multiple"){var X=tr(H);X?t.selectedDates.splice(parseInt(X),1):t.selectedDates.push(H)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=H,t.selectedDates.push(H),_r(H,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(he,ge){return he.getTime()-ge.getTime()}));if(p(),U){var ee=t.currentYear!==H.getFullYear();t.currentYear=H.getFullYear(),t.currentMonth=H.getMonth(),ee&&(dt("onYearChange"),R()),dt("onMonthChange")}if(nr(),L(),Xt(),!U&&t.config.mode!=="range"&&t.config.showMonths===1?I(ie):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var de=t.config.mode==="single"&&!t.config.enableTime,ce=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(de||ce)&&Un()}w()}}var yr={locale:[Nr,re],showMonths:[Q,a,Y],minDate:[C],maxDate:[C],positionElement:[xi],clickOpens:[function(){t.config.clickOpens===!0?(x(t._input,"focus",t.open),x(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function $n(F,z){if(F!==null&&typeof F=="object"){Object.assign(t.config,F);for(var K in F)yr[K]!==void 0&&yr[K].forEach(function(ie){return ie()})}else t.config[F]=z,yr[F]!==void 0?yr[F].forEach(function(ie){return ie()}):ng.indexOf(F)>-1&&(t.config[F]=rg(z));t.redraw(),Xt(!0)}function Ft(F,z){var K=[];if(F instanceof Array)K=F.map(function(ie){return t.parseDate(ie,z)});else if(F instanceof Date||typeof F=="number")K=[t.parseDate(F,z)];else if(typeof F=="string")switch(t.config.mode){case"single":case"time":K=[t.parseDate(F,z)];break;case"multiple":K=F.split(t.config.conjunction).map(function(ie){return t.parseDate(ie,z)});break;case"range":K=F.split(t.l10n.rangeSeparator).map(function(ie){return t.parseDate(ie,z)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(F)));t.selectedDates=t.config.allowInvalidPreload?K:K.filter(function(ie){return ie instanceof Date&&we(ie,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(ie,H){return ie.getTime()-H.getTime()})}function jn(F,z,K){if(z===void 0&&(z=!1),K===void 0&&(K=t.config.dateFormat),F!==0&&!F||F instanceof Array&&F.length===0)return t.clear(z);Ft(F,K),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),C(void 0,z),g(),t.selectedDates.length===0&&t.clear(!1),Xt(z),z&&dt("onChange")}function Wn(F){return F.slice().map(function(z){return typeof z=="string"||typeof z=="number"||z instanceof Date?t.parseDate(z,void 0,!0):z&&typeof z=="object"&&z.from&&z.to?{from:t.parseDate(z.from,void 0),to:t.parseDate(z.to,void 0)}:z}).filter(function(z){return z})}function Rr(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var F=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);F&&Ft(F,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Tt(){if(t.input=Tn(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=ht(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),xi()}function xi(){t._positionElement=t.config.positionElement||t._input}function Bi(){var F=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=ht("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=F,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=F==="datetime-local"?"Y-m-d\\TH:i:S":F==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}x(t.mobileInput,"change",function(z){t.setDate(Er(z).value,!1,t.mobileFormatStr),dt("onChange"),dt("onClose")})}function Fi(F){if(t.isOpen===!0)return t.close();t.open(F)}function dt(F,z){if(t.config!==void 0){var K=t.config[F];if(K!==void 0&&K.length>0)for(var ie=0;K[ie]&&ie<K.length;ie++)K[ie](t.selectedDates,t.input.value,t,z);F==="onChange"&&(t.input.dispatchEvent(br("change")),t.input.dispatchEvent(br("input")))}}function br(F){var z=document.createEvent("Event");return z.initEvent(F,!0,!0),z}function tr(F){for(var z=0;z<t.selectedDates.length;z++){var K=t.selectedDates[z];if(K instanceof Date&&_r(K,F)===0)return""+z}return!1}function ti(F){return t.config.mode!=="range"||t.selectedDates.length<2?!1:_r(F,t.selectedDates[0])>=0&&_r(F,t.selectedDates[1])<=0}function nr(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(F,z){var K=new Date(t.currentYear,t.currentMonth,1);K.setMonth(t.currentMonth+z),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[z].textContent=Oh(K.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=K.getMonth().toString(),F.value=K.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function ni(F){var z=F||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(K){return t.formatDate(K,z)}).filter(function(K,ie,H){return t.config.mode!=="range"||t.config.enableTime||H.indexOf(K)===ie}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Xt(F){F===void 0&&(F=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=ni(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=ni(t.config.altFormat)),F!==!1&&dt("onValueUpdate")}function St(F){var z=Er(F),K=t.prevMonthNav.contains(z),ie=t.nextMonthNav.contains(z);K||ie?W(K?-1:1):t.yearElements.indexOf(z)>=0?z.select():z.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):z.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Kt(F){F.preventDefault();var z=F.type==="keydown",K=Er(F),ie=K;t.amPM!==void 0&&K===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Vr(t.amPM.textContent===t.l10n.amPM[0])]);var H=parseFloat(ie.getAttribute("min")),U=parseFloat(ie.getAttribute("max")),X=parseFloat(ie.getAttribute("step")),ee=parseInt(ie.value,10),de=F.delta||(z?F.which===38?1:-1:0),ce=ee+X*de;if(typeof ie.value<"u"&&ie.value.length===2){var he=ie===t.hourElement,ge=ie===t.minuteElement;ce<H?(ce=U+ce+Vr(!he)+(Vr(he)&&Vr(!t.amPM)),ge&&T(void 0,-1,t.hourElement)):ce>U&&(ce=ie===t.hourElement?ce-U-Vr(!t.amPM):H,ge&&T(void 0,1,t.hourElement)),t.amPM&&he&&(X===1?ce+ee===23:Math.abs(ce-ee)>X)&&(t.amPM.textContent=t.l10n.amPM[Vr(t.amPM.textContent===t.l10n.amPM[0])]),ie.value=fr(ce)}}return i(),t}function ba(n,e){for(var t=Array.prototype.slice.call(n).filter(function(s){return s instanceof HTMLElement}),r=[],i=0;i<t.length;i++){var o=t[i];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=VB(o,e||{}),r.push(o._flatpickr)}catch(s){console.error(s)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return ba(this,n)},HTMLElement.prototype.flatpickr=function(n){return ba([this],n)});var Rt=function(n,e){return typeof n=="string"?ba(window.document.querySelectorAll(n),e):n instanceof Node?ba([n],e):ba(n,e)};Rt.defaultConfig={};Rt.l10ns={en:Rn({},gc),default:Rn({},gc)};Rt.localize=function(n){Rt.l10ns.default=Rn(Rn({},Rt.l10ns.default),n)};Rt.setDefaults=function(n){Rt.defaultConfig=Rn(Rn({},Rt.defaultConfig),n)};Rt.parseDate=sy({});Rt.formatDate=ej({});Rt.compareDates=_r;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return ba(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Rt);var Vl={exports:{}},qB=Vl.exports,FS;function YB(){return FS||(FS=1,function(n,e){(function(t,r){r(e)})(qB,function(t){var r=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},i={weekdays:{shorthand:["일","월","화","수","목","금","토"],longhand:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},months:{shorthand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],longhand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},ordinal:function(){return"일"},rangeSeparator:" ~ ",amPM:["오전","오후"]};r.l10ns.ko=i;var o=r.l10ns;t.Korean=i,t.default=o,Object.defineProperty(t,"__esModule",{value:!0})})}(Vl,Vl.exports)),Vl.exports}var GB=YB();const XB=()=>{const n=j.useRef(null);return j.useEffect(()=>{Rt(n.current,{inline:!0,locale:GB.Korean,dateFormat:"Y-m-d"})},[]),d.jsxs("div",{className:"calendarArea",children:[d.jsx("h3",{children:"Calendar"}),d.jsxs("div",{className:"calendarWrapper",children:[d.jsx("span",{ref:n,className:"calendarInput"}),d.jsxs("div",{className:"scheduleInfoBox",children:[d.jsx("p",{children:d.jsx("strong",{children:"6월 2일"})}),d.jsxs("ul",{children:[d.jsx("li",{children:"10:00 회의"}),d.jsx("li",{children:"14:00 코드리뷰"})]})]})]})]})},KB=()=>d.jsx("li",{children:d.jsx("a",{href:"#",children:d.jsx("div",{className:"projectContent",children:"제목제에에에에목"})})}),JB=()=>d.jsxs("div",{className:"bottomArea",children:[d.jsxs("div",{className:"projectArea",children:[d.jsx("h3",{children:"Project"}),d.jsx("div",{className:"projectList",children:d.jsx("ul",{children:Array.from({length:6}).map((n,e)=>d.jsx(KB,{},e))})})]}),d.jsx(XB,{})]}),QB=({isOpen:n,onClose:e,onCreate:t})=>{const[r,i]=j.useState(""),o=j.useRef(null);j.useEffect(()=>{const a=c=>{c.target===o.current&&e()};return window.addEventListener("click",a),()=>window.removeEventListener("click",a)},[e]);const s=()=>{console.log("입력된 게시판 이름:",r),r.trim()&&(t(r.trim()),i(""))};return n?d.jsx("div",{className:"modal-overlay",ref:o,children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"close-btn",onClick:e,children:"×"}),d.jsx("div",{className:"modal-header",children:"새 게시판 만들기"}),d.jsx("div",{className:"modal-title",children:"게시판 정보 입력"}),d.jsx("div",{className:"icon-circle",children:"👩"}),d.jsx("div",{className:"form-group",children:d.jsx("input",{id:"newBoardName",type:"text",placeholder:"게시판 이름",value:r,onChange:a=>i(a.target.value)})}),d.jsx("div",{className:"form-group",children:d.jsx("textarea",{placeholder:"게시판 설명"})}),d.jsx("div",{className:"modal-footer",children:d.jsx("span",{className:"next-button",onClick:s,children:"만들기"})})]})}):null},ZB=()=>{const{username:n}=$t(),e=vr(),[t,r]=j.useState([]),[i,o]=j.useState([]),[s,a]=j.useState(!1),[c,h]=j.useState(!1);return j.useEffect(()=>{n&&_e.get(to.CHAT.ROOM_LIST(n)).then(f=>{const p=f.data;r(p.filter(g=>g.description==="개인 채널")),o(p.filter(g=>g.description==="단체 채널"))}).catch(console.error)},[n]),d.jsx("aside",{children:d.jsxs("div",{className:"sidemenu",children:[d.jsx("div",{className:"sideTop",children:d.jsx("h3",{children:"Chatting"})}),d.jsxs("div",{className:"childArea",children:[d.jsxs("div",{className:"menuItem",children:[d.jsx("img",{src:"/images/File text.svg",alt:"main"}),d.jsx(gt,{to:"/dashboard/chatting/main",className:e.pathname==="/dashboard/chatting/main"?"active":"",children:"Main"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("div",{className:"menuItem",onClick:()=>a(f=>!f),style:{cursor:"pointer"},children:[d.jsx("img",{src:"/images/File text.svg",alt:"users"}),d.jsx("span",{id:"asideChat",children:"개인 채널"}),d.jsx("span",{style:{marginLeft:"auto"},children:s?"▼":"▶"})]}),s&&d.jsx("ul",{className:"subMenu",children:t.length>0?t.map(f=>d.jsx("li",{children:d.jsx(gt,{to:`/dashboard/chatting/room/${f.id}`,className:e.pathname===`/dashboard/chatting/room/${f.id}`?"active":"",children:f.name})},f.id)):d.jsx("li",{style:{color:"#999",fontSize:"14px"},children:"채널 없음"})}),d.jsxs("div",{className:"menuItem",onClick:()=>h(f=>!f),style:{cursor:"pointer"},children:[d.jsx("img",{src:"/images/File text.svg",alt:"users"}),d.jsx("span",{id:"asideChat",children:"단체 채널"}),d.jsx("span",{style:{marginLeft:"auto"},children:c?"▼":"▶"})]}),c&&d.jsx("ul",{className:"subMenu",children:i.length>0?i.map(f=>d.jsx("li",{children:d.jsx(gt,{to:`/dashboard/chatting/room/${f.id}`,className:e.pathname===`/dashboard/chatting/room/${f.id}`?"active":"",children:f.name})},f.id)):d.jsx("li",{style:{color:"#999",fontSize:"14px"},children:"채널 없음"})})]})]})})},e3=()=>{var x,w;const n=vr(),{pathname:e}=n,{username:t,company:r,role:i}=$t(),[o,s]=j.useState([]),[a,c]=j.useState(!1),h=()=>c(!0),f=()=>c(!1),p=((w=(x=r==null?void 0:r.split)==null?void 0:x.call(r,":"))==null?void 0:w[0])??null;console.log("컴퍼니 : "+p);const g=async()=>{if(p)try{const k=await _e.get(NS(p));s(k.data)}catch(k){console.error("카테고리 목록 불러오기 실패",k)}};j.useEffect(()=>{e.includes("/dashboard/board")&&g()},[e,p]);const v=async k=>{if(!p)return alert("회사 정보가 없습니다.");try{await _e.post(NS(p),{name:k,description:""}),await g(),c(!1)}catch(C){console.error("게시판 생성 실패",C),alert("게시판 생성 실패")}},b=async k=>{if(window.confirm("정말 삭제하시겠습니까?"))try{await _e.delete(pL(k)),alert("삭제되었습니다."),g()}catch(C){console.error("삭제 실패",C),alert("삭제에 실패했습니다.")}};return d.jsxs(d.Fragment,{children:[d.jsx("aside",{children:d.jsxs("div",{className:"sidemenu",children:[d.jsx("div",{className:"sideTop",children:d.jsx("h3",{children:"B board"})}),d.jsxs("div",{className:"childArea",children:[d.jsxs("div",{className:"menuItem",children:[d.jsx("img",{src:"/images/File text.svg",alt:"users"}),d.jsx(gt,{to:"/dashboard/board/main",children:"HOME"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsx("div",{className:"side-icon",children:d.jsx("button",{className:"side-click",onClick:h,children:"+ New BOARD"})}),o.map(k=>d.jsxs("div",{className:"menuItem",style:{display:"flex",alignItems:"center"},children:[d.jsx("img",{src:"/images/File text.svg",alt:"board"}),d.jsxs(gt,{to:`/dashboard/board/list/${k.id}`,style:{flex:1},children:[k.name==="공지사항"?"🔒 ":"",k.name]}),k.name!=="공지사항"&&d.jsx("button",{onClick:()=>b(k.id),style:{background:"none",border:"none",color:"red",cursor:"pointer",marginLeft:"5px"},title:"삭제",children:"🗑"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]},k.id))]})]})}),d.jsx(QB,{isOpen:a,onClose:f,onCreate:v})]})},bi=()=>{const n=vr(),{pathname:e}=n,{username:t,company:r,role:i}=$t(),[o,s]=j.useState(!1);return j.useEffect(()=>{const a=async()=>{try{const c=r==null?void 0:r.split(":")[0],h=e.includes("/public")?"public":"my",f=await _e.get(`/api/calendar/${h}`,{withCredentials:!0}),p=new Date().toISOString().split("T")[0],g=f.data.filter(v=>v.start<=p&&v.end>=p);s(g.length>0)}catch(c){console.error("오늘 일정 로딩 실패",c)}};e.includes("/dashboard/calendar")&&a()},[e]),e.includes("/dashboard/calendar")?d.jsx("aside",{children:d.jsxs("div",{className:"sidemenu",children:[d.jsx("div",{className:"sideTop",children:d.jsx("h3",{children:"Calendar"})}),d.jsxs("div",{className:"childArea",children:[d.jsxs("div",{className:"menuItem",children:[d.jsx("img",{src:"/images/File text.svg",alt:"users"}),d.jsx(gt,{to:"/dashboard/calendar",children:"My Calendar"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("div",{className:"menuItem",children:[d.jsx("img",{src:"/images/File text.svg",alt:"users"}),d.jsx(gt,{to:"/dashboard/calendar/public",children:"Public Calendar"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]})]})]})}):e.includes("/dashboard/board")?d.jsx(e3,{}):e.includes("/dashboard/drive")?d.jsx("aside",{children:d.jsxs("div",{className:"sidemenu",children:[d.jsx("div",{className:"sideTop",children:"Cloud"}),d.jsx("div",{children:d.jsx("button",{id:"sidebar-new-button",children:"+ 신규"})}),d.jsxs("div",{className:"childArea",children:[d.jsxs("div",{children:[d.jsx("img",{src:"/images/Cloudhome.png.png",alt:"홈"}),d.jsx(gt,{to:"/dashboard/drive",children:"홈"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("div",{children:[d.jsx("img",{src:"/images/Mydrive.png",alt:"내 드라이브"}),d.jsx(gt,{to:"/dashboard/drive",children:"내 드라이브"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("div",{children:[d.jsx("img",{src:"/images/Sharedrive.png",alt:"공유 드라이브"}),d.jsx(gt,{to:"/dashboard/drive/share",children:"공유 드라이브"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("div",{children:[d.jsx("img",{src:"/images/Recent Drive.png",alt:"최근 드라이브"}),d.jsx(gt,{to:"/dashboard/drive/recent",children:"최근 드라이브"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("div",{children:[d.jsx("img",{src:"/images/Critical drive.png",alt:"중요 드라이브"}),d.jsx(gt,{to:"/dashboard/drive",children:"중요 드라이브"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("div",{children:[d.jsx("img",{src:"/images/Wastebasket.png",alt:"휴지통"}),d.jsx(gt,{to:"/dashboard/drive/delete",children:"휴지통"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]})]}),d.jsxs("div",{style:{marginTop:"30px"},children:[d.jsx("div",{className:"childArea",children:d.jsxs("div",{children:[d.jsx("img",{src:"/images/cloud-computing.png",alt:"저장용량"}),d.jsx(gt,{to:"/dashboard/drive/storage",children:"저장용량"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]})}),d.jsxs("div",{className:"storage",children:[d.jsx("p",{children:"4.7GB / 15GB"}),d.jsx("div",{className:"storage-bar",children:d.jsx("div",{className:"used",style:{width:"100%"}})}),d.jsx("button",{className:"buy-btn",children:"저장용량 구매"})]})]})]})}):e.includes("/dashboard/chat")?d.jsx(ZB,{}):d.jsx("aside",{children:d.jsxs("div",{className:"sidemenu",children:[d.jsx("div",{className:"sideTop",children:d.jsx("h3",{children:"DashBoard"})}),d.jsx(gt,{to:"/dashboard",children:"Home"})]})})},t3=()=>{const[n,e]=j.useState(""),[t,r]=j.useState(""),i=Bt(),o=j.useRef(null);j.useRef(null);const{username:s,nick:a,company:c}=$t();j.useEffect(()=>{const f=setInterval(()=>{e(new Date().toLocaleTimeString())},1e3);return()=>clearInterval(f)},[]),j.useEffect(()=>{const f=o.current,p=g=>{g.preventDefault(),f.scrollLeft+=g.deltaY};return f&&f.addEventListener("wheel",p,{passive:!1}),()=>{f==null||f.removeEventListener("wheel",p)}},[]);const{login:h}=$t();return j.useEffect(()=>{a!==null&&s!==null&&c!==null||_e.get(YA,{withCredentials:!0}).then(f=>{console.log("인증됨",f.data),f.data,console.log(f.data.uid),f.data.uid&&(h(f.data.uid,decodeURIComponent(f.data.department),decodeURIComponent(f.data.company),f.data.nick,f.data.membership),i("/dashboard/main"))}).catch(f=>{console.error("인증 실패 또는 쿠키 없음",f)})},[]),d.jsx("div",{className:"dashboardMainContent",children:d.jsxs(sn,{children:[d.jsx(bi,{}),d.jsxs("div",{className:"contentArea",children:[d.jsx(LB,{}),d.jsx(FB,{}),d.jsx(JB,{})]})]})})},Tf=()=>d.jsx("aside",{children:d.jsxs("div",{className:"sidemenu",children:[d.jsx("div",{className:"sideTop",children:d.jsx("h3",{children:"Admin"})}),d.jsxs("div",{className:"sidelink",children:[d.jsx(gt,{to:"/view/Admin/adminMain.html",children:"Main"}),d.jsx("br",{})]}),d.jsxs("div",{className:"childArea",children:[d.jsxs("div",{children:[d.jsx("img",{src:"/images/Home.svg",alt:"users"}),d.jsx(gt,{to:"/admin/main",children:"Home"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("div",{children:[d.jsx("img",{src:"/images/Users.svg",alt:"users"}),d.jsx(gt,{to:"/admin/employee",children:"Employee Management"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("div",{children:[d.jsx("img",{src:"/images/Users.svg",alt:"users"}),d.jsx(gt,{to:"/admin/membership",children:"MemberShip"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("div",{children:[d.jsx("img",{src:"/images/Users.svg",alt:"users"}),d.jsx(gt,{to:"/admin/adminpayment",children:"Payment details"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]})]})]})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function $c(n){return n+.5|0}const Ro=(n,e,t)=>Math.max(Math.min(n,t),e);function ql(n){return Ro($c(n*2.55),0,255)}function Fo(n){return Ro($c(n*255),0,255)}function Zi(n){return Ro($c(n/2.55)/100,0,1)}function HS(n){return Ro($c(n*100),0,100)}const $r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ay=[..."0123456789ABCDEF"],n3=n=>ay[n&15],r3=n=>ay[(n&240)>>4]+ay[n&15],_d=n=>(n&240)>>4===(n&15),i3=n=>_d(n.r)&&_d(n.g)&&_d(n.b)&&_d(n.a);function o3(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&$r[n[1]]*17,g:255&$r[n[2]]*17,b:255&$r[n[3]]*17,a:e===5?$r[n[4]]*17:255}:(e===7||e===9)&&(t={r:$r[n[1]]<<4|$r[n[2]],g:$r[n[3]]<<4|$r[n[4]],b:$r[n[5]]<<4|$r[n[6]],a:e===9?$r[n[7]]<<4|$r[n[8]]:255})),t}const s3=(n,e)=>n<255?e(n):"";function a3(n){var e=i3(n)?n3:r3;return n?"#"+e(n.r)+e(n.g)+e(n.b)+s3(n.a,e):void 0}const l3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tj(n,e,t){const r=e*Math.min(t,1-t),i=(o,s=(o+n/30)%12)=>t-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function c3(n,e,t){const r=(i,o=(i+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function u3(n,e,t){const r=tj(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function d3(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function ob(n){const t=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(t,r,i),s=Math.min(t,r,i),a=(o+s)/2;let c,h,f;return o!==s&&(f=o-s,h=a>.5?f/(2-o-s):f/(o+s),c=d3(t,r,i,f,o),c=c*60+.5),[c|0,h||0,a]}function sb(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Fo)}function ab(n,e,t){return sb(tj,n,e,t)}function h3(n,e,t){return sb(u3,n,e,t)}function f3(n,e,t){return sb(c3,n,e,t)}function nj(n){return(n%360+360)%360}function p3(n){const e=l3.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?ql(+e[5]):Fo(+e[5]));const i=nj(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?r=h3(i,o,s):e[1]==="hsv"?r=f3(i,o,s):r=ab(i,o,s),{r:r[0],g:r[1],b:r[2],a:t}}function m3(n,e){var t=ob(n);t[0]=nj(t[0]+e),t=ab(t),n.r=t[0],n.g=t[1],n.b=t[2]}function g3(n){if(!n)return;const e=ob(n),t=e[0],r=HS(e[1]),i=HS(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Zi(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const zS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},US={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function v3(){const n={},e=Object.keys(US),t=Object.keys(zS);let r,i,o,s,a;for(r=0;r<e.length;r++){for(s=a=e[r],i=0;i<t.length;i++)o=t[i],a=a.replace(o,zS[o]);o=parseInt(US[s],16),n[a]=[o>>16&255,o>>8&255,o&255]}return n}let Td;function y3(n){Td||(Td=v3(),Td.transparent=[0,0,0,0]);const e=Td[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const b3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function x3(n){const e=b3.exec(n);let t=255,r,i,o;if(e){if(e[7]!==r){const s=+e[7];t=e[8]?ql(s):Ro(s*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?ql(r):Ro(r,0,255)),i=255&(e[4]?ql(i):Ro(i,0,255)),o=255&(e[6]?ql(o):Ro(o,0,255)),{r,g:i,b:o,a:t}}}function w3(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Zi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const ag=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ua=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function S3(n,e,t){const r=ua(Zi(n.r)),i=ua(Zi(n.g)),o=ua(Zi(n.b));return{r:Fo(ag(r+t*(ua(Zi(e.r))-r))),g:Fo(ag(i+t*(ua(Zi(e.g))-i))),b:Fo(ag(o+t*(ua(Zi(e.b))-o))),a:n.a+t*(e.a-n.a)}}function jd(n,e,t){if(n){let r=ob(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=ab(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function rj(n,e){return n&&Object.assign(e||{},n)}function $S(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Fo(n[3]))):(e=rj(n,{r:0,g:0,b:0,a:1}),e.a=Fo(e.a)),e}function k3(n){return n.charAt(0)==="r"?x3(n):p3(n)}class vc{constructor(e){if(e instanceof vc)return e;const t=typeof e;let r;t==="object"?r=$S(e):t==="string"&&(r=o3(e)||y3(e)||k3(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=rj(this._rgb);return e&&(e.a=Zi(e.a)),e}set rgb(e){this._rgb=$S(e)}rgbString(){return this._valid?w3(this._rgb):void 0}hexString(){return this._valid?a3(this._rgb):void 0}hslString(){return this._valid?g3(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let o;const s=t===o?.5:t,a=2*s-1,c=r.a-i.a,h=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-h,r.r=255&h*r.r+o*i.r+.5,r.g=255&h*r.g+o*i.g+.5,r.b=255&h*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=S3(this._rgb,e._rgb,t)),this}clone(){return new vc(this.rgb)}alpha(e){return this._rgb.a=Fo(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=$c(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return jd(this._rgb,2,e),this}darken(e){return jd(this._rgb,2,-e),this}saturate(e){return jd(this._rgb,1,e),this}desaturate(e){return jd(this._rgb,1,-e),this}rotate(e){return m3(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Xi(){}const E3=(()=>{let n=0;return()=>n++})();function tt(n){return n==null}function At(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function nt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Gt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Tr(n,e){return Gt(n)?n:e}function Ge(n,e){return typeof n>"u"?e:n}const C3=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,ij=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ct(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function bt(n,e,t,r){let i,o,s;if(At(n))for(o=n.length,i=0;i<o;i++)e.call(t,n[i],i);else if(nt(n))for(s=Object.keys(n),o=s.length,i=0;i<o;i++)e.call(t,n[s[i]],s[i])}function Ih(n,e){let t,r,i,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Nh(n){if(At(n))return n.map(Nh);if(nt(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Nh(n[t[i]]);return e}return n}function oj(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function _3(n,e,t,r){if(!oj(n))return;const i=e[n],o=t[n];nt(i)&&nt(o)?yc(i,o,r):e[n]=Nh(o)}function yc(n,e,t){const r=At(e)?e:[e],i=r.length;if(!nt(n))return n;t=t||{};const o=t.merger||_3;let s;for(let a=0;a<i;++a){if(s=r[a],!nt(s))continue;const c=Object.keys(s);for(let h=0,f=c.length;h<f;++h)o(c[h],n,s,t)}return n}function nc(n,e){return yc(n,e,{merger:T3})}function T3(n,e,t){if(!oj(n))return;const r=e[n],i=t[n];nt(r)&&nt(i)?nc(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Nh(i))}const WS={"":n=>n,x:n=>n.x,y:n=>n.y};function j3(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function D3(n){const e=j3(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function Wo(n,e){return(WS[e]||(WS[e]=D3(e)))(n)}function lb(n){return n.charAt(0).toUpperCase()+n.slice(1)}const bc=n=>typeof n<"u",Vo=n=>typeof n=="function",VS=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function M3(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ut=Math.PI,Mt=2*ut,P3=Mt+ut,Rh=Number.POSITIVE_INFINITY,O3=ut/180,en=ut/2,ps=ut/4,qS=ut*2/3,Ao=Math.log10,Ii=Math.sign;function rc(n,e,t){return Math.abs(n-e)<t}function YS(n){const e=Math.round(n);n=rc(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Ao(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function I3(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}function N3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ka(n){return!N3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function R3(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function sj(n,e,t){let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function hi(n){return n*(ut/180)}function cb(n){return n*(180/ut)}function GS(n){if(!Gt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function aj(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let o=Math.atan2(r,t);return o<-.5*ut&&(o+=Mt),{angle:o,distance:i}}function ly(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function A3(n,e){return(n-e+P3)%Mt-ut}function Ln(n){return(n%Mt+Mt)%Mt}function xc(n,e,t,r){const i=Ln(n),o=Ln(e),s=Ln(t),a=Ln(o-i),c=Ln(s-i),h=Ln(i-o),f=Ln(i-s);return i===o||i===s||r&&o===s||a>c&&h<f}function yn(n,e,t){return Math.max(e,Math.min(t,n))}function L3(n){return yn(n,-32768,32767)}function no(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function ub(n,e,t){t=t||(s=>n[s]<e);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}const ro=(n,e,t,r)=>ub(n,t,r?i=>{const o=n[i][e];return o<t||o===t&&n[i+1][e]===t}:i=>n[i][e]<t),B3=(n,e,t)=>ub(n,t,r=>n[r][e]>=t);function F3(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const lj=["push","pop","shift","splice","unshift"];function H3(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),lj.forEach(t=>{const r="_onData"+lb(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const s=i.apply(this,o);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function XS(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(lj.forEach(o=>{delete n[o]}),delete n._chartjs)}function cj(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const uj=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function dj(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,uj.call(window,()=>{r=!1,n.apply(e,t)}))}}function z3(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const db=n=>n==="start"?"left":n==="end"?"right":"center",Nn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,U3=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function hj(n,e,t){const r=e.length;let i=0,o=r;if(n._sorted){const{iScale:s,vScale:a,_parsed:c}=n,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,f=s.axis,{min:p,max:g,minDefined:v,maxDefined:b}=s.getUserBounds();if(v){if(i=Math.min(ro(c,f,p).lo,t?r:ro(e,f,s.getPixelForValue(p)).lo),h){const x=c.slice(0,i+1).reverse().findIndex(w=>!tt(w[a.axis]));i-=Math.max(0,x)}i=yn(i,0,r-1)}if(b){let x=Math.max(ro(c,s.axis,g,!0).hi+1,t?0:ro(e,f,s.getPixelForValue(g),!0).hi+1);if(h){const w=c.slice(x-1).findIndex(k=>!tt(k[a.axis]));x+=Math.max(0,w)}o=yn(x,i,r)-i}else o=r-i}return{start:i,count:o}}function fj(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),o}const Dd=n=>n===0||n===1,KS=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Mt/t)),JS=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Mt/t)+1,ic={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*en)+1,easeOutSine:n=>Math.sin(n*en),easeInOutSine:n=>-.5*(Math.cos(ut*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Dd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Dd(n)?n:KS(n,.075,.3),easeOutElastic:n=>Dd(n)?n:JS(n,.075,.3),easeInOutElastic(n){return Dd(n)?n:n<.5?.5*KS(n*2,.1125,.45):.5+.5*JS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-ic.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ic.easeInBounce(n*2)*.5:ic.easeOutBounce(n*2-1)*.5+.5};function hb(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function QS(n){return hb(n)?n:new vc(n)}function lg(n){return hb(n)?n:new vc(n).saturate(.5).darken(.1).hexString()}const $3=["x","y","borderWidth","radius","tension"],W3=["color","borderColor","backgroundColor"];function V3(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:W3},numbers:{type:"number",properties:$3}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function q3(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ZS=new Map;function Y3(n,e){e=e||{};const t=n+JSON.stringify(e);let r=ZS.get(t);return r||(r=new Intl.NumberFormat(n,e),ZS.set(t,r)),r}function Wc(n,e,t){return Y3(e,t).format(n)}const pj={values(n){return At(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,o=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(i="scientific"),o=G3(n,t)}const s=Ao(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Wc(n,r,c)},logarithmic(n,e,t){if(n===0)return"0";const r=t[e].significand||n/Math.pow(10,Math.floor(Ao(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?pj.numeric.call(this,n,e,t):""}};function G3(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var jf={formatters:pj};function X3(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Is=Object.create(null),cy=Object.create(null);function oc(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const o=t[r];n=n[o]||(n[o]=Object.create(null))}return n}function cg(n,e,t){return typeof e=="string"?yc(oc(n,e),t):yc(oc(n,""),e)}class K3{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>lg(i.backgroundColor),this.hoverBorderColor=(r,i)=>lg(i.borderColor),this.hoverColor=(r,i)=>lg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return cg(this,e,t)}get(e){return oc(this,e)}describe(e,t){return cg(cy,e,t)}override(e,t){return cg(Is,e,t)}route(e,t,r,i){const o=oc(this,e),s=oc(this,r),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[a],h=s[i];return nt(c)?Object.assign({},h,c):Ge(c,h)},set(c){this[a]=c}}})}apply(e){e.forEach(t=>t(this))}}var Lt=new K3({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[V3,q3,X3]);function J3(n){return!n||tt(n.size)||tt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Ah(n,e,t,r,i){let o=e[i];return o||(o=e[i]=n.measureText(i).width,t.push(i)),o>r&&(r=o),r}function Q3(n,e,t,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let s=0;const a=t.length;let c,h,f,p,g;for(c=0;c<a;c++)if(p=t[c],p!=null&&!At(p))s=Ah(n,i,o,s,p);else if(At(p))for(h=0,f=p.length;h<f;h++)g=p[h],g!=null&&!At(g)&&(s=Ah(n,i,o,s,g));n.restore();const v=o.length/2;if(v>t.length){for(c=0;c<v;c++)delete i[o[c]];o.splice(0,v)}return s}function ms(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function ek(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function uy(n,e,t,r){mj(n,e,t,r,null)}function mj(n,e,t,r,i){let o,s,a,c,h,f,p,g;const v=e.pointStyle,b=e.rotation,x=e.radius;let w=(b||0)*O3;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(w),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),v){default:i?n.ellipse(t,r,i/2,x,0,0,Mt):n.arc(t,r,x,0,Mt),n.closePath();break;case"triangle":f=i?i/2:x,n.moveTo(t+Math.sin(w)*f,r-Math.cos(w)*x),w+=qS,n.lineTo(t+Math.sin(w)*f,r-Math.cos(w)*x),w+=qS,n.lineTo(t+Math.sin(w)*f,r-Math.cos(w)*x),n.closePath();break;case"rectRounded":h=x*.516,c=x-h,s=Math.cos(w+ps)*c,p=Math.cos(w+ps)*(i?i/2-h:c),a=Math.sin(w+ps)*c,g=Math.sin(w+ps)*(i?i/2-h:c),n.arc(t-p,r-a,h,w-ut,w-en),n.arc(t+g,r-s,h,w-en,w),n.arc(t+p,r+a,h,w,w+en),n.arc(t-g,r+s,h,w+en,w+ut),n.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*x,f=i?i/2:c,n.rect(t-f,r-c,2*f,2*c);break}w+=ps;case"rectRot":p=Math.cos(w)*(i?i/2:x),s=Math.cos(w)*x,a=Math.sin(w)*x,g=Math.sin(w)*(i?i/2:x),n.moveTo(t-p,r-a),n.lineTo(t+g,r-s),n.lineTo(t+p,r+a),n.lineTo(t-g,r+s),n.closePath();break;case"crossRot":w+=ps;case"cross":p=Math.cos(w)*(i?i/2:x),s=Math.cos(w)*x,a=Math.sin(w)*x,g=Math.sin(w)*(i?i/2:x),n.moveTo(t-p,r-a),n.lineTo(t+p,r+a),n.moveTo(t+g,r-s),n.lineTo(t-g,r+s);break;case"star":p=Math.cos(w)*(i?i/2:x),s=Math.cos(w)*x,a=Math.sin(w)*x,g=Math.sin(w)*(i?i/2:x),n.moveTo(t-p,r-a),n.lineTo(t+p,r+a),n.moveTo(t+g,r-s),n.lineTo(t-g,r+s),w+=ps,p=Math.cos(w)*(i?i/2:x),s=Math.cos(w)*x,a=Math.sin(w)*x,g=Math.sin(w)*(i?i/2:x),n.moveTo(t-p,r-a),n.lineTo(t+p,r+a),n.moveTo(t+g,r-s),n.lineTo(t-g,r+s);break;case"line":s=i?i/2:Math.cos(w)*x,a=Math.sin(w)*x,n.moveTo(t-s,r-a),n.lineTo(t+s,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(w)*(i?i/2:x),r+Math.sin(w)*x);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function io(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Df(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Mf(n){n.restore()}function Z3(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function eF(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function tF(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),tt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function nF(n,e,t,r,i){if(i.strikethrough||i.underline){const o=n.measureText(r),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,c=t-o.actualBoundingBoxAscent,h=t+o.actualBoundingBoxDescent,f=i.strikethrough?(c+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(s,f),n.lineTo(a,f),n.stroke()}}function rF(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ns(n,e,t,r,i,o={}){const s=At(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let c,h;for(n.save(),n.font=i.string,tF(n,o),c=0;c<s.length;++c)h=s[c],o.backdrop&&rF(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),tt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(h,t,r,o.maxWidth)),n.fillText(h,t,r,o.maxWidth),nF(n,t,r,h,o),r+=Number(i.lineHeight);n.restore()}function wc(n,e){const{x:t,y:r,w:i,h:o,radius:s}=e;n.arc(t+s.topLeft,r+s.topLeft,s.topLeft,1.5*ut,ut,!0),n.lineTo(t,r+o-s.bottomLeft),n.arc(t+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,ut,en,!0),n.lineTo(t+i-s.bottomRight,r+o),n.arc(t+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,en,0,!0),n.lineTo(t+i,r+s.topRight),n.arc(t+i-s.topRight,r+s.topRight,s.topRight,0,-en,!0),n.lineTo(t+s.topLeft,r)}const iF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,oF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function sF(n,e){const t=(""+n).match(iF);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const aF=n=>+n||0;function fb(n,e){const t={},r=nt(e),i=r?Object.keys(e):e,o=nt(n)?r?s=>Ge(n[s],n[e[s]]):s=>n[s]:()=>n;for(const s of i)t[s]=aF(o(s));return t}function gj(n){return fb(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ds(n){return fb(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Hn(n){const e=gj(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function hn(n,e){n=n||{},e=e||Lt.font;let t=Ge(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Ge(n.style,e.style);r&&!(""+r).match(oF)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ge(n.family,e.family),lineHeight:sF(Ge(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Ge(n.weight,e.weight),string:""};return i.string=J3(i),i}function Yl(n,e,t,r){let i,o,s;for(i=0,o=n.length;i<o;++i)if(s=n[i],s!==void 0&&s!==void 0)return s}function lF(n,e,t){const{min:r,max:i}=n,o=ij(e,(i-r)/2),s=(a,c)=>t&&a===0?0:a+c;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function Ko(n,e){return Object.assign(Object.create(n),e)}function pb(n,e=[""],t,r,i=()=>n[0]){const o=t||n;typeof r>"u"&&(r=xj("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>pb([a,...n],e,o,r)};return new Proxy(s,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return yj(a,c,()=>gF(c,e,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return nk(a).includes(c)},ownKeys(a){return nk(a)},set(a,c,h){const f=a._storage||(a._storage=i());return a[c]=f[c]=h,delete a._keys,!0}})}function Ea(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:vj(n,r),setContext:o=>Ea(n,o,t,r),override:o=>Ea(n.override(o),e,t,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete n[s],!0},get(o,s,a){return yj(o,s,()=>uF(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(o,s,a){return n[s]=a,delete o[s],!0}})}function vj(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Vo(t)?t:()=>t,isIndexable:Vo(r)?r:()=>r}}const cF=(n,e)=>n?n+lb(e):e,mb=(n,e)=>nt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function yj(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function uF(n,e,t){const{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=n;let a=r[e];return Vo(a)&&s.isScriptable(e)&&(a=dF(e,a,n,t)),At(a)&&a.length&&(a=hF(e,a,n,s.isIndexable)),mb(e,a)&&(a=Ea(a,i,o&&o[e],s)),a}function dF(n,e,t,r){const{_proxy:i,_context:o,_subProxy:s,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=e(o,s||r);return a.delete(n),mb(n,c)&&(c=gb(i._scopes,i,n,c)),c}function hF(n,e,t,r){const{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=t;if(typeof o.index<"u"&&r(n))return e[o.index%e.length];if(nt(e[0])){const c=e,h=i._scopes.filter(f=>f!==c);e=[];for(const f of c){const p=gb(h,i,n,f);e.push(Ea(p,o,s&&s[n],a))}}return e}function bj(n,e,t){return Vo(n)?n(e,t):n}const fF=(n,e)=>n===!0?e:typeof n=="string"?Wo(e,n):void 0;function pF(n,e,t,r,i){for(const o of e){const s=fF(t,o);if(s){n.add(s);const a=bj(s._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(s===!1&&typeof r<"u"&&t!==r)return null}return!1}function gb(n,e,t,r){const i=e._rootScopes,o=bj(e._fallback,t,r),s=[...n,...i],a=new Set;a.add(r);let c=tk(a,s,t,o||t,r);return c===null||typeof o<"u"&&o!==t&&(c=tk(a,s,o,c,r),c===null)?!1:pb(Array.from(a),[""],i,o,()=>mF(e,t,r))}function tk(n,e,t,r,i){for(;t;)t=pF(n,e,t,r,i);return t}function mF(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return At(i)&&nt(t)?t:i||{}}function gF(n,e,t,r){let i;for(const o of e)if(i=xj(cF(o,n),t),typeof i<"u")return mb(n,i)?gb(t,r,n,i):i}function xj(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function nk(n){let e=n._keys;return e||(e=n._keys=vF(n._scopes)),e}function vF(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function wj(n,e,t,r){const{iScale:i}=n,{key:o="r"}=this._parsing,s=new Array(r);let a,c,h,f;for(a=0,c=r;a<c;++a)h=a+t,f=e[h],s[a]={r:i.parse(Wo(f,o),h)};return s}const yF=Number.EPSILON||1e-14,Ca=(n,e)=>e<n.length&&!n[e].skip&&n[e],Sj=n=>n==="x"?"y":"x";function bF(n,e,t,r){const i=n.skip?e:n,o=e,s=t.skip?e:t,a=ly(o,i),c=ly(s,o);let h=a/(a+c),f=c/(a+c);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const p=r*h,g=r*f;return{previous:{x:o.x-p*(s.x-i.x),y:o.y-p*(s.y-i.y)},next:{x:o.x+g*(s.x-i.x),y:o.y+g*(s.y-i.y)}}}function xF(n,e,t){const r=n.length;let i,o,s,a,c,h=Ca(n,0);for(let f=0;f<r-1;++f)if(c=h,h=Ca(n,f+1),!(!c||!h)){if(rc(e[f],0,yF)){t[f]=t[f+1]=0;continue}i=t[f]/e[f],o=t[f+1]/e[f],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),t[f]=i*s*e[f],t[f+1]=o*s*e[f])}}function wF(n,e,t="x"){const r=Sj(t),i=n.length;let o,s,a,c=Ca(n,0);for(let h=0;h<i;++h){if(s=a,a=c,c=Ca(n,h+1),!a)continue;const f=a[t],p=a[r];s&&(o=(f-s[t])/3,a[`cp1${t}`]=f-o,a[`cp1${r}`]=p-o*e[h]),c&&(o=(c[t]-f)/3,a[`cp2${t}`]=f+o,a[`cp2${r}`]=p+o*e[h])}}function SF(n,e="x"){const t=Sj(e),r=n.length,i=Array(r).fill(0),o=Array(r);let s,a,c,h=Ca(n,0);for(s=0;s<r;++s)if(a=c,c=h,h=Ca(n,s+1),!!c){if(h){const f=h[e]-c[e];i[s]=f!==0?(h[t]-c[t])/f:0}o[s]=a?h?Ii(i[s-1])!==Ii(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}xF(n,i,o),wF(n,o,e)}function Md(n,e,t){return Math.max(Math.min(n,t),e)}function kF(n,e){let t,r,i,o,s,a=io(n[0],e);for(t=0,r=n.length;t<r;++t)s=o,o=a,a=t<r-1&&io(n[t+1],e),o&&(i=n[t],s&&(i.cp1x=Md(i.cp1x,e.left,e.right),i.cp1y=Md(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Md(i.cp2x,e.left,e.right),i.cp2y=Md(i.cp2y,e.top,e.bottom)))}function EF(n,e,t,r,i){let o,s,a,c;if(e.spanGaps&&(n=n.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")SF(n,i);else{let h=r?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],c=bF(h,a,n[Math.min(o+1,s-(r?0:1))%s],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,h=a}e.capBezierPoints&&kF(n,t)}function vb(){return typeof window<"u"&&typeof document<"u"}function yb(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Lh(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Pf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function CF(n,e){return Pf(n).getPropertyValue(e)}const _F=["top","right","bottom","left"];function Ms(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const o=_F[i];r[o]=parseFloat(n[e+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const TF=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function jF(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:o}=r;let s=!1,a,c;if(TF(i,o,n.target))a=i,c=o;else{const h=e.getBoundingClientRect();a=r.clientX-h.left,c=r.clientY-h.top,s=!0}return{x:a,y:c,box:s}}function bs(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Pf(t),o=i.boxSizing==="border-box",s=Ms(i,"padding"),a=Ms(i,"border","width"),{x:c,y:h,box:f}=jF(n,t),p=s.left+(f&&a.left),g=s.top+(f&&a.top);let{width:v,height:b}=e;return o&&(v-=s.width+a.width,b-=s.height+a.height),{x:Math.round((c-p)/v*t.width/r),y:Math.round((h-g)/b*t.height/r)}}function DF(n,e,t){let r,i;if(e===void 0||t===void 0){const o=n&&yb(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const s=o.getBoundingClientRect(),a=Pf(o),c=Ms(a,"border","width"),h=Ms(a,"padding");e=s.width-h.width-c.width,t=s.height-h.height-c.height,r=Lh(a.maxWidth,o,"clientWidth"),i=Lh(a.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:r||Rh,maxHeight:i||Rh}}const Pd=n=>Math.round(n*10)/10;function MF(n,e,t,r){const i=Pf(n),o=Ms(i,"margin"),s=Lh(i.maxWidth,n,"clientWidth")||Rh,a=Lh(i.maxHeight,n,"clientHeight")||Rh,c=DF(n,e,t);let{width:h,height:f}=c;if(i.boxSizing==="content-box"){const g=Ms(i,"border","width"),v=Ms(i,"padding");h-=v.width+g.width,f-=v.height+g.height}return h=Math.max(0,h-o.width),f=Math.max(0,r?h/r:f-o.height),h=Pd(Math.min(h,s,c.maxWidth)),f=Pd(Math.min(f,a,c.maxHeight)),h&&!f&&(f=Pd(h/2)),(e!==void 0||t!==void 0)&&r&&c.height&&f>c.height&&(f=c.height,h=Pd(Math.floor(f*r))),{width:h,height:f}}function rk(n,e,t){const r=e||1,i=Math.floor(n.height*r),o=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const s=n.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(n.currentDevicePixelRatio=r,s.height=i,s.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const PF=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};vb()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function ik(n,e){const t=CF(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function xs(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function OF(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function IF(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},s=xs(n,i,t),a=xs(i,o,t),c=xs(o,e,t),h=xs(s,a,t),f=xs(a,c,t);return xs(h,f,t)}const NF=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},RF=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function xa(n,e,t){return n?NF(e,t):RF()}function kj(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Ej(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Cj(n){return n==="angle"?{between:xc,compare:A3,normalize:Ln}:{between:no,compare:(e,t)=>e-t,normalize:e=>e}}function ok({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function AF(n,e,t){const{property:r,start:i,end:o}=t,{between:s,normalize:a}=Cj(r),c=e.length;let{start:h,end:f,loop:p}=n,g,v;if(p){for(h+=c,f+=c,g=0,v=c;g<v&&s(a(e[h%c][r]),i,o);++g)h--,f--;h%=c,f%=c}return f<h&&(f+=c),{start:h,end:f,loop:p,style:n.style}}function _j(n,e,t){if(!t)return[n];const{property:r,start:i,end:o}=t,s=e.length,{compare:a,between:c,normalize:h}=Cj(r),{start:f,end:p,loop:g,style:v}=AF(n,e,t),b=[];let x=!1,w=null,k,C,M;const T=()=>c(i,M,k)&&a(i,M)!==0,D=()=>a(o,k)===0||c(o,M,k),E=()=>x||T(),I=()=>!x||D();for(let P=f,O=f;P<=p;++P)C=e[P%s],!C.skip&&(k=h(C[r]),k!==M&&(x=c(k,i,o),w===null&&E()&&(w=a(k,i)===0?P:O),w!==null&&I()&&(b.push(ok({start:w,end:P,loop:g,count:s,style:v})),w=null),O=P,M=k));return w!==null&&b.push(ok({start:w,end:p,loop:g,count:s,style:v})),b}function Tj(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const o=_j(r[i],n.points,e);o.length&&t.push(...o)}return t}function LF(n,e,t,r){let i=0,o=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(o+=i);o>i&&n[o%e].skip;)o--;return o%=e,{start:i,end:o}}function BF(n,e,t,r){const i=n.length,o=[];let s=e,a=n[e],c;for(c=e+1;c<=t;++c){const h=n[c%i];h.skip||h.stop?a.skip||(r=!1,o.push({start:e%i,end:(c-1)%i,loop:r}),e=s=h.stop?c:null):(s=c,a.skip&&(e=c)),a=h}return s!==null&&o.push({start:e%i,end:s%i,loop:r}),o}function FF(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const o=!!n._loop,{start:s,end:a}=LF(t,i,o,r);if(r===!0)return sk(n,[{start:s,end:a,loop:o}],t,e);const c=a<s?a+i:a,h=!!n._fullLoop&&s===0&&a===i-1;return sk(n,BF(t,s,c,h),t,e)}function sk(n,e,t,r){return!r||!r.setContext||!t?e:HF(n,e,t,r)}function HF(n,e,t,r){const i=n._chart.getContext(),o=ak(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,c=t.length,h=[];let f=o,p=e[0].start,g=p;function v(b,x,w,k){const C=a?-1:1;if(b!==x){for(b+=c;t[b%c].skip;)b-=C;for(;t[x%c].skip;)x+=C;b%c!==x%c&&(h.push({start:b%c,end:x%c,loop:w,style:k}),f=k,p=x%c)}}for(const b of e){p=a?p:b.start;let x=t[p%c],w;for(g=p+1;g<=b.end;g++){const k=t[g%c];w=ak(r.setContext(Ko(i,{type:"segment",p0:x,p1:k,p0DataIndex:(g-1)%c,p1DataIndex:g%c,datasetIndex:s}))),zF(w,f)&&v(p,g-1,b.loop,f),x=k,f=w}p<g-1&&v(p,g-1,b.loop,f)}return h}function ak(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function zF(n,e){if(!e)return!1;const t=[],r=function(i,o){return hb(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function Od(n,e,t){return n.options.clip?n[t]:e[t]}function UF(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Od(t,e,"left"),right:Od(t,e,"right"),top:Od(r,e,"top"),bottom:Od(r,e,"bottom")}:e}function jj(n,e){const t=e._clip;if(t.disabled)return!1;const r=UF(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class $F{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const o=t.listeners[i],s=t.duration;o.forEach(a=>a({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(r-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=uj.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let s=o.length-1,a=!1,c;for(;s>=0;--s)c=o[s],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ki=new $F;const lk="transparent",WF={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=QS(n||lk),i=r.valid&&QS(e||lk);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class VF{constructor(e,t,r,i){const o=t[r];i=Yl([e.to,i,o,e.from]);const s=Yl([e.from,o,i]);this._active=!0,this._fn=e.fn||WF[e.type||typeof s],this._easing=ic[e.easing]||ic.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Yl([e.to,t,i,e.from]),this._from=Yl([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to;let c;if(this._active=o!==a&&(s||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=o;return}c=t/r%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class Dj{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!nt(e))return;const t=Object.keys(Lt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!nt(o))return;const s={};for(const a of t)s[a]=o[a];(At(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(e,t){const r=t.options,i=YF(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&qF(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,t){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now();let c;for(c=s.length-1;c>=0;--c){const h=s[c];if(h.charAt(0)==="$")continue;if(h==="options"){i.push(...this._animateOptions(e,t));continue}const f=t[h];let p=o[h];const g=r.get(h);if(p)if(g&&p.active()){p.update(g,f,a);continue}else p.cancel();if(!g||!g.duration){e[h]=f;continue}o[h]=p=new VF(g,e,h,f),i.push(p)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Ki.add(this._chart,r),!0}}function qF(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=n[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function YF(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function ck(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function GF(n,e,t){if(t===!1)return!1;const r=ck(n,t),i=ck(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function XF(n){let e,t,r,i;return nt(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function Mj(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function uk(n,e,t,r={}){const i=n.keys,o=r.mode==="single";let s,a,c,h;if(e===null)return;let f=!1;for(s=0,a=i.length;s<a;++s){if(c=+i[s],c===t){if(f=!0,r.all)continue;break}h=n.values[c],Gt(h)&&(o||e===0||Ii(e)===Ii(h))&&(e+=h)}return!f&&!r.all?0:e}function KF(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length);let c,h,f;for(c=0,h=s.length;c<h;++c)f=s[c],a[c]={[i]:f,[o]:n[f]};return a}function ug(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function JF(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function QF(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function ZF(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function dk(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=n[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function hk(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:o,vScale:s,index:a}=r,c=o.axis,h=s.axis,f=JF(o,s,r),p=e.length;let g;for(let v=0;v<p;++v){const b=e[v],{[c]:x,[h]:w}=b,k=b._stacks||(b._stacks={});g=k[h]=ZF(i,f,x),g[a]=w,g._top=dk(g,s,!0,r.type),g._bottom=dk(g,s,!1,r.type);const C=g._visualValues||(g._visualValues={});C[a]=w}}function dg(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function e4(n,e){return Ko(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function t4(n,e,t){return Ko(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ol(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}const hg=n=>n==="reset"||n==="none",fk=(n,e)=>e?n:Object.assign({},n),n4=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Mj(t,!0),values:null};class pi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ug(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ol(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(p,g,v,b)=>p==="x"?g:p==="r"?b:v,o=t.xAxisID=Ge(r.xAxisID,dg(e,"x")),s=t.yAxisID=Ge(r.yAxisID,dg(e,"y")),a=t.rAxisID=Ge(r.rAxisID,dg(e,"r")),c=t.indexAxis,h=t.iAxisID=i(c,o,s,a),f=t.vAxisID=i(c,s,o,a);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&XS(this._data,this),e._stacked&&Ol(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(nt(t)){const i=this._cachedMeta;this._data=KF(t,i)}else if(r!==t){if(r){XS(r,this);const i=this._cachedMeta;Ol(i),i._parsed=[]}t&&Object.isExtensible(t)&&H3(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=t._stacked;t._stacked=ug(t.vScale,t),t.stack!==r.stack&&(i=!0,Ol(t),t.stack=r.stack),this._resyncElements(e),(i||o!==t._stacked)&&(hk(this,t._parsed),t._stacked=ug(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:s}=r,a=o.axis;let c=e===0&&t===i.length?!0:r._sorted,h=e>0&&r._parsed[e-1],f,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{At(i[e])?g=this.parseArrayData(r,i,e,t):nt(i[e])?g=this.parseObjectData(r,i,e,t):g=this.parsePrimitiveData(r,i,e,t);const v=()=>p[a]===null||h&&p[a]<h[a];for(f=0;f<t;++f)r._parsed[f+e]=p=g[f],c&&(v()&&(c=!1),h=p);r._sorted=c}s&&hk(this,g)}parsePrimitiveData(e,t,r,i){const{iScale:o,vScale:s}=e,a=o.axis,c=s.axis,h=o.getLabels(),f=o===s,p=new Array(i);let g,v,b;for(g=0,v=i;g<v;++g)b=g+r,p[g]={[a]:f||o.parse(h[b],b),[c]:s.parse(t[b],b)};return p}parseArrayData(e,t,r,i){const{xScale:o,yScale:s}=e,a=new Array(i);let c,h,f,p;for(c=0,h=i;c<h;++c)f=c+r,p=t[f],a[c]={x:o.parse(p[0],f),y:s.parse(p[1],f)};return a}parseObjectData(e,t,r,i){const{xScale:o,yScale:s}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,h=new Array(i);let f,p,g,v;for(f=0,p=i;f<p;++f)g=f+r,v=t[g],h[f]={x:o.parse(Wo(v,a),g),y:s.parse(Wo(v,c),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,o=this._cachedMeta,s=t[e.axis],a={keys:Mj(i,!0),values:t._stacks[e.axis]._visualValues};return uk(a,s,o.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const o=r[t.axis];let s=o===null?NaN:o;const a=i&&r._stacks[t.axis];i&&a&&(i.values=a,s=uk(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,s=i.length,a=this._getOtherScale(e),c=n4(t,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=QF(a);let g,v;function b(){v=i[g];const x=v[a.axis];return!Gt(v[e.axis])||f>x||p<x}for(g=0;g<s&&!(!b()&&(this.updateRangeFromParsed(h,e,v,c),o));++g);if(o){for(g=s-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(h,e,v,c);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,o,s;for(i=0,o=t.length;i<o;++i)s=t[i][e.axis],Gt(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=XF(Ge(this.options.clip,GF(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],o=t.chartArea,s=[],a=this._drawStart||0,c=this._drawCount||i.length-a,h=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,o,a,c),f=a;f<a+c;++f){const p=i[f];p.hidden||(p.active&&h?s.push(p):p.draw(e,o))}for(f=0;f<s.length;++f)s[f].draw(e,o)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];o=s.$context||(s.$context=t4(this.getContext(),e,s)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=e4(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",o=this._cachedDataOpts,s=e+"-"+t,a=o[s],c=this.enableOptionSharing&&bc(r);if(a)return fk(a,c);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),p=i?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),f),v=Object.keys(Lt.elements[e]),b=()=>this.getContext(r,i,t),x=h.resolveNamedOptions(g,v,b,p);return x.$shared&&(x.$shared=c,o[s]=Object.freeze(fk(x,c))),x}_resolveAnimations(e,t,r){const i=this.chart,o=this._cachedDataOpts,s=`animation-${t}`,a=o[s];if(a)return a;let c;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,t),g=f.getOptionScopes(this.getDataset(),p);c=f.createResolver(g,this.getContext(e,r,t))}const h=new Dj(i,c&&c.animations);return c&&c._cacheable&&(o[s]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||hg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,o=this.getSharedOptions(r),s=this.includeOptions(t,o)||o!==i;return this.updateSharedOptions(o,t,r),{sharedOptions:o,includeOptions:s}}updateElement(e,t,r,i){hg(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!hg(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const o=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[a,c,h]of this._syncList)this[a](c,h);this._syncList=[];const i=r.length,o=t.length,s=Math.min(o,i);s&&this.parse(0,s),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,t,r=!0){const i=this._cachedMeta,o=i.data,s=e+t;let a;const c=h=>{for(h.length+=t,a=h.length-1;a>=s;a--)h[a]=h[a-t]};for(c(o),a=e;a<s;++a)o[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,t),r&&this.updateElements(o,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Ol(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ce(pi,"defaults",{}),Ce(pi,"datasetElementType",null),Ce(pi,"dataElementType",null);function r4(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,o=t.length;i<o;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=cj(r.sort((i,o)=>i-o))}return n._cache.$bar}function i4(n){const e=n.iScale,t=r4(e,n.type);let r=e._length,i,o,s,a;const c=()=>{s===32767||s===-32768||(bc(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=t.length;i<o;++i)s=e.getPixelForValue(t[i]),c();for(a=void 0,i=0,o=e.ticks.length;i<o;++i)s=e.getPixelForTick(i),c();return r}function o4(n,e,t,r){const i=t.barThickness;let o,s;return tt(i)?(o=e.min*t.categoryPercentage,s=t.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:e.pixels[n]-o/2}}function s4(n,e,t,r){const i=e.pixels,o=i[n];let s=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const c=t.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);const h=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/r,ratio:t.barPercentage,start:h}}function a4(n,e,t,r){const i=t.parse(n[0],r),o=t.parse(n[1],r),s=Math.min(i,o),a=Math.max(i,o);let c=s,h=a;Math.abs(s)>Math.abs(a)&&(c=a,h=s),e[t.axis]=h,e._custom={barStart:c,barEnd:h,start:i,end:o,min:s,max:a}}function Pj(n,e,t,r){return At(n)?a4(n,e,t,r):e[t.axis]=t.parse(n,r),e}function pk(n,e,t,r){const i=n.iScale,o=n.vScale,s=i.getLabels(),a=i===o,c=[];let h,f,p,g;for(h=t,f=t+r;h<f;++h)g=e[h],p={},p[i.axis]=a||i.parse(s[h],h),c.push(Pj(g,p,o,h));return c}function fg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function l4(n,e,t){return n!==0?Ii(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function c4(n){let e,t,r,i,o;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:t,end:r,reverse:e,top:i,bottom:o}}function u4(n,e,t,r){let i=e.borderSkipped;const o={};if(!i){n.borderSkipped=o;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:a,reverse:c,top:h,bottom:f}=c4(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=h:(t._bottom||0)===r?i=f:(o[mk(f,s,a,c)]=!0,i=h)),o[mk(i,s,a,c)]=!0,n.borderSkipped=o}function mk(n,e,t,r){return r?(n=d4(n,e,t),n=gk(n,t,e)):n=gk(n,e,t),n}function d4(n,e,t){return n===e?t:n===t?e:n}function gk(n,e,t){return n==="start"?e:n==="end"?t:n}function h4(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class lh extends pi{parsePrimitiveData(e,t,r,i){return pk(e,t,r,i)}parseArrayData(e,t,r,i){return pk(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:o,vScale:s}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,h=o.axis==="x"?a:c,f=s.axis==="x"?a:c,p=[];let g,v,b,x;for(g=r,v=r+i;g<v;++g)x=t[g],b={},b[o.axis]=o.parse(Wo(x,h),g),p.push(Pj(Wo(x,f),b,s,g));return p}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const o=r._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,o=this.getParsed(e),s=o._custom,a=fg(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const o=i==="reset",{index:s,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),h=a.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(t,i);for(let v=t;v<t+r;v++){const b=this.getParsed(v),x=o||tt(b[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(v),w=this._calculateBarIndexPixels(v,f),k=(b._stacks||{})[a.axis],C={horizontal:h,base:x.base,enableBorderRadius:!k||fg(b._custom)||s===k._top||s===k._bottom,x:h?x.head:w.center,y:h?w.center:x.head,height:h?w.size:Math.abs(x.size),width:h?Math.abs(x.size):w.size};g&&(C.options=p||this.resolveDataElementOptions(v,e[v].active?"active":i));const M=C.options||e[v].options;u4(C,M,k,s),h4(C,M,f.ratio),this.updateElement(e[v],v,C,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),o=r.options.stacked,s=[],a=this._cachedMeta.controller.getParsed(t),c=a&&a[r.axis],h=f=>{const p=f._parsed.find(v=>v[r.axis]===c),g=p&&p[f.vScale.axis];if(tt(g)||isNaN(g))return!0};for(const f of i)if(!(t!==void 0&&h(f))&&((o===!1||s.indexOf(f.stack)===-1||o===void 0&&f.stack===void 0)&&s.push(f.stack),f.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Ge(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const i=this._getStacks(e,r),o=t!==void 0?i.indexOf(t):-1;return o===-1?i.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let o,s;for(o=0,s=t.data.length;o<s;++o)i.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const a=e.barThickness;return{min:a||i4(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:o,minBarLength:s}}=this,a=o||0,c=this.getParsed(e),h=c._custom,f=fg(h);let p=c[t.axis],g=0,v=r?this.applyStack(t,c,r):p,b,x;v!==p&&(g=v-p,v=p),f&&(p=h.barStart,v=h.barEnd-h.barStart,p!==0&&Ii(p)!==Ii(h.barEnd)&&(g=0),g+=p);const w=!tt(o)&&!f?o:g;let k=t.getPixelForValue(w);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(g+v):b=k,x=b-k,Math.abs(x)<s){x=l4(x,t,a)*s,p===a&&(k-=x/2);const C=t.getPixelForDecimal(0),M=t.getPixelForDecimal(1),T=Math.min(C,M),D=Math.max(C,M);k=Math.max(Math.min(k,D),T),b=k+x,r&&!f&&(c._stacks[t.axis]._visualValues[i]=t.getValueForPixel(b)-t.getValueForPixel(k))}if(k===t.getPixelForValue(a)){const C=Ii(x)*t.getLineWidthForValue(a)/2;k+=C,x-=C}return{size:x,base:k,head:b,center:b+x/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,o=i.skipNull,s=Ge(i.maxBarThickness,1/0);let a,c;const h=this._getAxisCount();if(t.grouped){const f=o?this._getStackCount(e):t.stackCount,p=i.barThickness==="flex"?s4(e,t,i,f*h):o4(e,t,i,f*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Ge(g,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+v;a=p.start+p.chunk*b+p.chunk/2,c=Math.min(s,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(s,t.min*t.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let o=0;for(;o<i;++o)this.getParsed(o)[t.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}Ce(lh,"id","bar"),Ce(lh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ce(lh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ch extends pi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,i){const o=super.parsePrimitiveData(e,t,r,i);for(let s=0;s<o.length;s++)o[s]._custom=this.resolveDataElementOptions(s+r).radius;return o}parseArrayData(e,t,r,i){const o=super.parseArrayData(e,t,r,i);for(let s=0;s<o.length;s++){const a=t[r+s];o[s]._custom=Ge(a[2],this.resolveDataElementOptions(s+r).radius)}return o}parseObjectData(e,t,r,i){const o=super.parseObjectData(e,t,r,i);for(let s=0;s<o.length;s++){const a=t[r+s];o[s]._custom=Ge(a&&a.r&&+a.r,this.resolveDataElementOptions(s+r).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:o}=t,s=this.getParsed(e),a=i.getLabelForValue(s.x),c=o.getLabelForValue(s.y),h=s._custom;return{label:r[e]||"",value:"("+a+", "+c+(h?", "+h:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,i){const o=i==="reset",{iScale:s,vScale:a}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(t,i),f=s.axis,p=a.axis;for(let g=t;g<t+r;g++){const v=e[g],b=!o&&this.getParsed(g),x={},w=x[f]=o?s.getPixelForDecimal(.5):s.getPixelForValue(b[f]),k=x[p]=o?a.getBasePixel():a.getPixelForValue(b[p]);x.skip=isNaN(w)||isNaN(k),h&&(x.options=c||this.resolveDataElementOptions(g,v.active?"active":i),o&&(x.options.radius=0)),this.updateElement(v,g,x,i)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return t!=="active"&&(i.radius=0),i.radius+=Ge(r&&r._custom,o),i}}Ce(ch,"id","bubble"),Ce(ch,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ce(ch,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function f4(n,e,t){let r=1,i=1,o=0,s=0;if(e<Mt){const a=n,c=a+e,h=Math.cos(a),f=Math.sin(a),p=Math.cos(c),g=Math.sin(c),v=(M,T,D)=>xc(M,a,c,!0)?1:Math.max(T,T*t,D,D*t),b=(M,T,D)=>xc(M,a,c,!0)?-1:Math.min(T,T*t,D,D*t),x=v(0,h,p),w=v(en,f,g),k=b(ut,h,p),C=b(ut+en,f,g);r=(x-k)/2,i=(w-C)/2,o=-(x+k)/2,s=-(w+C)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}class _s extends pi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let o=c=>+r[c];if(nt(r[e])){const{key:c="value"}=this._parsing;o=h=>+Wo(r[h],c)}let s,a;for(s=e,a=e+t;s<a;++s)i._parsed[s]=o(s)}}_getRotation(){return hi(this.options.rotation-90)}_getCircumference(){return hi(this.options.circumference)}_getRotationExtents(){let e=Mt,t=-Mt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,o=i._getRotation(),s=i._getCircumference();e=Math.min(e,o),t=Math.max(t,o+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,o=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-s)/2,0),c=Math.min(C3(this.options.cutout,a),1),h=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:b,offsetY:x}=f4(p,f,c),w=(r.width-s)/g,k=(r.height-s)/v,C=Math.max(Math.min(w,k)/2,0),M=ij(this.options.radius,C),T=Math.max(M*c,0),D=(M-T)/this._getVisibleDatasetWeightTotal();this.offsetX=b*M,this.offsetY=x*M,i.total=this.calculateTotal(),this.outerRadius=M-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*h,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,o=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/Mt)}updateElements(e,t,r,i){const o=i==="reset",s=this.chart,a=s.chartArea,h=s.options.animation,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=o&&h.animateScale,v=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:x,includeOptions:w}=this._getSharedOptions(t,i);let k=this._getRotation(),C;for(C=0;C<t;++C)k+=this._circumference(C,o);for(C=t;C<t+r;++C){const M=this._circumference(C,o),T=e[C],D={x:f+this.offsetX,y:p+this.offsetY,startAngle:k,endAngle:k+M,circumference:M,outerRadius:b,innerRadius:v};w&&(D.options=x||this.resolveDataElementOptions(C,T.active?"active":i)),k+=M,this.updateElement(T,C,D,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Mt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=Wc(t._parsed[e],r.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,o,s,a,c;if(!e){for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){s=r.getDatasetMeta(i),e=s.data,a=s.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const o=this.resolveDataElementOptions(r);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Ge(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ce(_s,"id","doughnut"),Ce(_s,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ce(_s,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ce(_s,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((o,s)=>{const c=e.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class uh extends pi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:o}=t,s=this.chart._animationsDisabled;let{start:a,count:c}=hj(t,i,s);this._drawStart=a,this._drawCount=c,fj(t)&&(a=0,c=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:h},e),this.updateElements(i,a,c,e)}updateElements(e,t,r,i){const o=i==="reset",{iScale:s,vScale:a,_stacked:c,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,i),g=s.axis,v=a.axis,{spanGaps:b,segment:x}=this.options,w=ka(b)?b:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||i==="none",C=t+r,M=e.length;let T=t>0&&this.getParsed(t-1);for(let D=0;D<M;++D){const E=e[D],I=k?E:{};if(D<t||D>=C){I.skip=!0;continue}const P=this.getParsed(D),O=tt(P[v]),B=I[g]=s.getPixelForValue(P[g],D),A=I[v]=o||O?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,P,c):P[v],D);I.skip=isNaN(B)||isNaN(A)||O,I.stop=D>0&&Math.abs(P[g]-T[g])>w,x&&(I.parsed=P,I.raw=h.data[D]),p&&(I.options=f||this.resolveDataElementOptions(D,E.active?"active":i)),k||this.updateElement(E,D,I,i),T=P}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const o=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ce(uh,"id","line"),Ce(uh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ce(uh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class sc extends pi{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=Wc(t._parsed[e].r,r.options.locale);return{label:i[e]||"",value:o}}parseObjectData(e,t,r,i){return wj.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<t.min&&(t.min=o),o>t.max&&(t.max=o))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(i/2,0),s=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),a=(o-s)/e.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,r,i){const o=i==="reset",s=this.chart,c=s.options.animation,h=this._cachedMeta.rScale,f=h.xCenter,p=h.yCenter,g=h.getIndexAngle(0)-.5*ut;let v=g,b;const x=360/this.countVisibleElements();for(b=0;b<t;++b)v+=this._computeAngle(b,i,x);for(b=t;b<t+r;b++){const w=e[b];let k=v,C=v+this._computeAngle(b,i,x),M=s.getDataVisibility(b)?h.getDistanceFromCenterForValue(this.getParsed(b).r):0;v=C,o&&(c.animateScale&&(M=0),c.animateRotate&&(k=C=g));const T={x:f,y:p,innerRadius:0,outerRadius:M,startAngle:k,endAngle:C,options:this.resolveDataElementOptions(b,w.active?"active":i)};this.updateElement(w,b,T,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?hi(this.resolveDataElementOptions(e,t).angle||r):0}}Ce(sc,"id","polarArea"),Ce(sc,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ce(sc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((o,s)=>{const c=e.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class dy extends _s{}Ce(dy,"id","pie"),Ce(dy,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class dh extends pi{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,i){return wj.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta,r=t.dataset,i=t.data||[],o=t.iScale.getLabels();if(r.points=i,e!=="resize"){const s=this.resolveDatasetElementOptions(e);this.options.showLine||(s.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:s};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,r,i){const o=this._cachedMeta.rScale,s=i==="reset";for(let a=t;a<t+r;a++){const c=e[a],h=this.resolveDataElementOptions(a,c.active?"active":i),f=o.getPointPositionForValue(a,this.getParsed(a).r),p=s?o.xCenter:f.x,g=s?o.yCenter:f.y,v={x:p,y:g,angle:f.angle,skip:isNaN(p)||isNaN(g),options:h};this.updateElement(c,a,v,i)}}}Ce(dh,"id","radar"),Ce(dh,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ce(dh,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class hh extends pi{getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:o}=t,s=this.getParsed(e),a=i.getLabelForValue(s.x),c=o.getLabelForValue(s.y);return{label:r[e]||"",value:"("+a+", "+c+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,i=this.chart._animationsDisabled;let{start:o,count:s}=hj(t,r,i);if(this._drawStart=o,this._drawCount=s,fj(t)&&(o=0,s=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:c}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!c._decimated,a.points=r;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:h},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,o,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,i){const o=i==="reset",{iScale:s,vScale:a,_stacked:c,_dataset:h}=this._cachedMeta,f=this.resolveDataElementOptions(t,i),p=this.getSharedOptions(f),g=this.includeOptions(i,p),v=s.axis,b=a.axis,{spanGaps:x,segment:w}=this.options,k=ka(x)?x:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||i==="none";let M=t>0&&this.getParsed(t-1);for(let T=t;T<t+r;++T){const D=e[T],E=this.getParsed(T),I=C?D:{},P=tt(E[b]),O=I[v]=s.getPixelForValue(E[v],T),B=I[b]=o||P?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,E,c):E[b],T);I.skip=isNaN(O)||isNaN(B)||P,I.stop=T>0&&Math.abs(E[v]-M[v])>k,w&&(I.parsed=E,I.raw=h.data[T]),g&&(I.options=p||this.resolveDataElementOptions(T,D.active?"active":i)),C||this.updateElement(D,T,I,i),M=E}this.updateSharedOptions(p,i,f)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let c=t.length-1;c>=0;--c)a=Math.max(a,t[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!t.length)return i;const o=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,o,s)/2}}Ce(hh,"id","scatter"),Ce(hh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ce(hh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var p4=Object.freeze({__proto__:null,BarController:lh,BubbleController:ch,DoughnutController:_s,LineController:uh,PieController:dy,PolarAreaController:sc,RadarController:dh,ScatterController:hh});function gs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class bb{constructor(e){Ce(this,"options");this.options=e||{}}static override(e){Object.assign(bb.prototype,e)}init(){}formats(){return gs()}parse(){return gs()}format(){return gs()}add(){return gs()}diff(){return gs()}startOf(){return gs()}endOf(){return gs()}}var m4={_date:bb};function g4(n,e,t,r){const{controller:i,data:o,_sorted:s}=n,a=i._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&s&&o.length){const h=a._reversePixels?B3:ro;if(r){if(i._sharedOptions){const f=o[0],p=typeof f.getRange=="function"&&f.getRange(e);if(p){const g=h(o,e,t-p),v=h(o,e,t+p);return{lo:g.lo,hi:v.hi}}}}else{const f=h(o,e,t);if(c){const{vScale:p}=i._cachedMeta,{_parsed:g}=n,v=g.slice(0,f.lo+1).reverse().findIndex(x=>!tt(x[p.axis]));f.lo-=Math.max(0,v);const b=g.slice(f.hi).findIndex(x=>!tt(x[p.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:o.length-1}}function Of(n,e,t,r,i){const o=n.getSortedVisibleDatasetMetas(),s=t[e];for(let a=0,c=o.length;a<c;++a){const{index:h,data:f}=o[a],{lo:p,hi:g}=g4(o[a],e,s,i);for(let v=p;v<=g;++v){const b=f[v];b.skip||r(b,h,v)}}}function v4(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,s=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function pg(n,e,t,r,i){const o=[];return!i&&!n.isPointInArea(e)||Of(n,t,e,function(a,c,h){!i&&!io(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&o.push({element:a,datasetIndex:c,index:h})},!0),o}function y4(n,e,t,r){let i=[];function o(s,a,c){const{startAngle:h,endAngle:f}=s.getProps(["startAngle","endAngle"],r),{angle:p}=aj(s,{x:e.x,y:e.y});xc(p,h,f)&&i.push({element:s,datasetIndex:a,index:c})}return Of(n,t,e,o),i}function b4(n,e,t,r,i,o){let s=[];const a=v4(t);let c=Number.POSITIVE_INFINITY;function h(f,p,g){const v=f.inRange(e.x,e.y,i);if(r&&!v)return;const b=f.getCenterPoint(i);if(!(!!o||n.isPointInArea(b))&&!v)return;const w=a(e,b);w<c?(s=[{element:f,datasetIndex:p,index:g}],c=w):w===c&&s.push({element:f,datasetIndex:p,index:g})}return Of(n,t,e,h),s}function mg(n,e,t,r,i,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!r?y4(n,e,t,i):b4(n,e,t,r,i,o)}function vk(n,e,t,r,i){const o=[],s=t==="x"?"inXRange":"inYRange";let a=!1;return Of(n,t,e,(c,h,f)=>{c[s]&&c[s](e[t],i)&&(o.push({element:c,datasetIndex:h,index:f}),a=a||c.inRange(e.x,e.y,i))}),r&&!a?[]:o}var x4={modes:{index(n,e,t,r){const i=bs(e,n),o=t.axis||"x",s=t.includeInvisible||!1,a=t.intersect?pg(n,i,o,r,s):mg(n,i,o,!1,r,s),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const f=a[0].index,p=h.data[f];p&&!p.skip&&c.push({element:p,datasetIndex:h.index,index:f})}),c):[]},dataset(n,e,t,r){const i=bs(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;let a=t.intersect?pg(n,i,o,r,s):mg(n,i,o,!1,r,s);if(a.length>0){const c=a[0].datasetIndex,h=n.getDatasetMeta(c).data;a=[];for(let f=0;f<h.length;++f)a.push({element:h[f],datasetIndex:c,index:f})}return a},point(n,e,t,r){const i=bs(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return pg(n,i,o,r,s)},nearest(n,e,t,r){const i=bs(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return mg(n,i,o,t.intersect,r,s)},x(n,e,t,r){const i=bs(e,n);return vk(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=bs(e,n);return vk(n,i,"y",t.intersect,r)}}};const Oj=["left","top","right","bottom"];function Il(n,e){return n.filter(t=>t.pos===e)}function yk(n,e){return n.filter(t=>Oj.indexOf(t.pos)===-1&&t.box.axis===e)}function Nl(n,e){return n.sort((t,r)=>{const i=e?r:t,o=e?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function w4(n){const e=[];let t,r,i,o,s,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:o,options:{stack:s,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return e}function S4(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:o}=t;if(!r||!Oj.includes(i))continue;const s=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function k4(n,e){const t=S4(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];const{fullSize:c}=a.box,h=t[a.stack],f=h&&a.stackWeight/h.weight;a.horizontal?(a.width=f?f*r:c&&e.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:c&&e.availableHeight)}return t}function E4(n){const e=w4(n),t=Nl(e.filter(h=>h.box.fullSize),!0),r=Nl(Il(e,"left"),!0),i=Nl(Il(e,"right")),o=Nl(Il(e,"top"),!0),s=Nl(Il(e,"bottom")),a=yk(e,"x"),c=yk(e,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(s).concat(a),chartArea:Il(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(s).concat(a)}}function bk(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Ij(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function C4(n,e,t,r){const{pos:i,box:o}=t,s=n.maxPadding;if(!nt(i)){t.size&&(n[i]-=t.size);const p=r[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?o.height:o.width),t.size=p.size/p.count,n[i]+=t.size}o.getPadding&&Ij(s,o.getPadding());const a=Math.max(0,e.outerWidth-bk(s,n,"left","right")),c=Math.max(0,e.outerHeight-bk(s,n,"top","bottom")),h=a!==n.w,f=c!==n.h;return n.w=a,n.h=c,t.horizontal?{same:h,other:f}:{same:f,other:h}}function _4(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function T4(n,e){const t=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(e[s],t[s])}),o}return r(n?["left","right"]:["top","bottom"])}function Gl(n,e,t,r){const i=[];let o,s,a,c,h,f;for(o=0,s=n.length,h=0;o<s;++o){a=n[o],c=a.box,c.update(a.width||e.w,a.height||e.h,T4(a.horizontal,e));const{same:p,other:g}=C4(e,t,a,r);h|=p&&i.length,f=f||g,c.fullSize||i.push(a)}return h&&Gl(i,e,t,r)||f}function Id(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function xk(n,e,t,r){const i=t.padding;let{x:o,y:s}=e;for(const a of n){const c=a.box,h=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/h.weight||1;if(a.horizontal){const p=e.w*f,g=h.size||c.height;bc(h.start)&&(s=h.start),c.fullSize?Id(c,i.left,s,t.outerWidth-i.right-i.left,g):Id(c,e.left+h.placed,s,p,g),h.start=s,h.placed+=p,s=c.bottom}else{const p=e.h*f,g=h.size||c.width;bc(h.start)&&(o=h.start),c.fullSize?Id(c,o,i.top,g,t.outerHeight-i.bottom-i.top):Id(c,o,e.top+h.placed,g,p),h.start=o,h.placed+=p,o=c.right}}e.x=o,e.y=s}var Fn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Hn(n.options.layout.padding),o=Math.max(e-i.width,0),s=Math.max(t-i.height,0),a=E4(n.boxes),c=a.vertical,h=a.horizontal;bt(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const f=c.reduce((x,w)=>w.box.options&&w.box.options.display===!1?x:x+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/f,hBoxMaxHeight:s/2}),g=Object.assign({},i);Ij(g,Hn(r));const v=Object.assign({maxPadding:g,w:o,h:s,x:i.left,y:i.top},i),b=k4(c.concat(h),p);Gl(a.fullSize,v,p,b),Gl(c,v,p,b),Gl(h,v,p,b)&&Gl(c,v,p,b),_4(v),xk(a.leftAndTop,v,p,b),v.x+=v.w,v.y+=v.h,xk(a.rightAndBottom,v,p,b),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},bt(a.chartArea,x=>{const w=x.box;Object.assign(w,n.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class Nj{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class j4 extends Nj{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const fh="$chartjs",D4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wk=n=>n===null||n==="";function M4(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[fh]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",wk(i)){const o=ik(n,"width");o!==void 0&&(n.width=o)}if(wk(r))if(n.style.height==="")n.height=n.width/(e||2);else{const o=ik(n,"height");o!==void 0&&(n.height=o)}return n}const Rj=PF?{passive:!0}:!1;function P4(n,e,t){n&&n.addEventListener(e,t,Rj)}function O4(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Rj)}function I4(n,e){const t=D4[n.type]||n.type,{x:r,y:i}=bs(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Bh(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function N4(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||Bh(a.addedNodes,r),s=s&&!Bh(a.removedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function R4(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||Bh(a.removedNodes,r),s=s&&!Bh(a.addedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Sc=new Map;let Sk=0;function Aj(){const n=window.devicePixelRatio;n!==Sk&&(Sk=n,Sc.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function A4(n,e){Sc.size||window.addEventListener("resize",Aj),Sc.set(n,e)}function L4(n){Sc.delete(n),Sc.size||window.removeEventListener("resize",Aj)}function B4(n,e,t){const r=n.canvas,i=r&&yb(r);if(!i)return;const o=dj((a,c)=>{const h=i.clientWidth;t(a,c),h<i.clientWidth&&t()},window),s=new ResizeObserver(a=>{const c=a[0],h=c.contentRect.width,f=c.contentRect.height;h===0&&f===0||o(h,f)});return s.observe(i),A4(n,o),s}function gg(n,e,t){t&&t.disconnect(),e==="resize"&&L4(n)}function F4(n,e,t){const r=n.canvas,i=dj(o=>{n.ctx!==null&&t(I4(o,n))},n);return P4(r,e,i),i}class H4 extends Nj{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(M4(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[fh])return!1;const r=t[fh].initial;["height","width"].forEach(o=>{const s=r[o];tt(s)?t.removeAttribute(o):t.setAttribute(o,s)});const i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[fh],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),s={attach:N4,detach:R4,resize:B4}[t]||F4;i[t]=s(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:gg,detach:gg,resize:gg}[t]||O4)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return MF(e,t,r,i)}isAttached(e){const t=e&&yb(e);return!!(t&&t.isConnected)}}function z4(n){return!vb()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?j4:H4}var th;let lo=(th=class{constructor(){Ce(this,"x");Ce(this,"y");Ce(this,"active",!1);Ce(this,"options");Ce(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return ka(this.x)&&ka(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}},Ce(th,"defaults",{}),Ce(th,"defaultRoutes"),th);function U4(n,e){const t=n.options.ticks,r=$4(n),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?V4(e):[],s=o.length,a=o[0],c=o[s-1],h=[];if(s>i)return q4(e,h,o,s/i),h;const f=W4(o,e,i);if(s>0){let p,g;const v=s>1?Math.round((c-a)/(s-1)):null;for(Nd(e,h,f,tt(v)?0:a-v,a),p=0,g=s-1;p<g;p++)Nd(e,h,f,o[p],o[p+1]);return Nd(e,h,f,c,tt(v)?e.length:c+v),h}return Nd(e,h,f),h}function $4(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function W4(n,e,t){const r=Y4(n),i=e.length/t;if(!r)return Math.max(i,1);const o=I3(r);for(let s=0,a=o.length-1;s<a;s++){const c=o[s];if(c>i)return c}return Math.max(i,1)}function V4(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function q4(n,e,t,r){let i=0,o=t[0],s;for(r=Math.ceil(r),s=0;s<n.length;s++)s===o&&(e.push(n[s]),i++,o=t[i*r])}function Nd(n,e,t,r,i){const o=Ge(r,0),s=Math.min(Ge(i,n.length),n.length);let a=0,c,h,f;for(t=Math.ceil(t),i&&(c=i-r,t=c/Math.floor(c/t)),f=o;f<0;)a++,f=Math.round(o+a*t);for(h=Math.max(o,0);h<s;h++)h===f&&(e.push(n[h]),a++,f=Math.round(o+a*t))}function Y4(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const G4=n=>n==="left"?"right":n==="right"?"left":n,kk=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Ek=(n,e)=>Math.min(e||n,n);function Ck(n,e){const t=[],r=n.length/e,i=n.length;let o=0;for(;o<i;o+=r)t.push(n[Math.floor(o)]);return t}function X4(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),o=n._startPixel,s=n._endPixel,a=1e-6;let c=n.getPixelForTick(i),h;if(!(t&&(r===1?h=Math.max(c-o,s-c):e===0?h=(n.getPixelForTick(1)-c)/2:h=(c-n.getPixelForTick(i-1))/2,c+=i<e?h:-h,c<o-a||c>s+a)))return c}function K4(n,e){bt(n,t=>{const r=t.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function Rl(n){return n.drawTicks?n.tickLength:0}function _k(n,e){if(!n.display)return 0;const t=hn(n.font,e),r=Hn(n.padding);return(At(n.text)?n.text.length:1)*t.lineHeight+r.height}function J4(n,e){return Ko(n,{scale:e,type:"scale"})}function Q4(n,e,t){return Ko(n,{tick:t,index:e,type:"tick"})}function Z4(n,e,t){let r=db(n);return(t&&e!=="right"||!t&&e==="right")&&(r=G4(r)),r}function e5(n,e,t,r){const{top:i,left:o,bottom:s,right:a,chart:c}=n,{chartArea:h,scales:f}=c;let p=0,g,v,b;const x=s-i,w=a-o;if(n.isHorizontal()){if(v=Nn(r,o,a),nt(t)){const k=Object.keys(t)[0],C=t[k];b=f[k].getPixelForValue(C)+x-e}else t==="center"?b=(h.bottom+h.top)/2+x-e:b=kk(n,t,e);g=a-o}else{if(nt(t)){const k=Object.keys(t)[0],C=t[k];v=f[k].getPixelForValue(C)-w+e}else t==="center"?v=(h.left+h.right)/2-w+e:v=kk(n,t,e);b=Nn(r,s,i),p=t==="left"?-en:en}return{titleX:v,titleY:b,maxWidth:g,rotation:p}}class Fs extends lo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Tr(e,Number.POSITIVE_INFINITY),t=Tr(t,Number.NEGATIVE_INFINITY),r=Tr(r,Number.POSITIVE_INFINITY),i=Tr(i,Number.NEGATIVE_INFINITY),{min:Tr(e,r),max:Tr(t,i),minDefined:Gt(e),maxDefined:Gt(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:t,max:r};const a=this.getMatchingVisibleMetas();for(let c=0,h=a.length;c<h;++c)s=a[c].controller.getMinMax(this,e),i||(t=Math.min(t,s.min)),o||(r=Math.max(r,s.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:Tr(t,Tr(r,t)),max:Tr(r,Tr(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ct(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=lF(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?Ck(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=U4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ct(this.options.afterUpdate,[this])}beforeSetDimensions(){Ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ct(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ct(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=Ct(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){Ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Ek(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation;let s=i,a,c,h;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,v=yn(this.chart.width-p,0,this.maxWidth);a=e.offset?this.maxWidth/r:v/(r-1),p+6>a&&(a=v/(r-(e.offset?.5:1)),c=this.maxHeight-Rl(e.grid)-t.padding-_k(e.title,this.chart.options.font),h=Math.sqrt(p*p+g*g),s=cb(Math.min(Math.asin(yn((f.highest.height+6)/a,-1,1)),Math.asin(yn(c/h,-1,1))-Math.asin(yn(g/h,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ct(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const c=_k(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=Rl(o)+c):(e.height=this.maxHeight,e.width=Rl(o)+c),r.display&&this.ticks.length){const{first:h,last:f,widest:p,highest:g}=this._getLabelSizes(),v=r.padding*2,b=hi(this.labelRotation),x=Math.cos(b),w=Math.sin(b);if(a){const k=r.mirror?0:w*p.width+x*g.height;e.height=Math.min(this.maxHeight,e.height+k+v)}else{const k=r.mirror?0:x*p.width+w*g.height;e.width=Math.min(this.maxWidth,e.width+k+v)}this._calculatePadding(h,f,w,x)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:o,padding:s},position:a}=this.options,c=this.labelRotation!==0,h=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,v=0;c?h?(g=i*e.width,v=r*t.height):(g=r*e.height,v=i*t.width):o==="start"?v=t.width:o==="end"?g=e.width:o!=="inner"&&(g=e.width/2,v=t.width/2),this.paddingLeft=Math.max((g-f+s)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-p+s)*this.width/(this.width-p),0)}else{let f=t.height/2,p=e.height/2;o==="start"?(f=0,p=e.height):o==="end"&&(f=t.height,p=0),this.paddingTop=f+s,this.paddingBottom=p+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ct(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)tt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Ck(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(t/Ek(t,r));let h=0,f=0,p,g,v,b,x,w,k,C,M,T,D;for(p=0;p<t;p+=c){if(b=e[p].label,x=this._resolveTickFontOptions(p),i.font=w=x.string,k=o[w]=o[w]||{data:{},gc:[]},C=x.lineHeight,M=T=0,!tt(b)&&!At(b))M=Ah(i,k.data,k.gc,M,b),T=C;else if(At(b))for(g=0,v=b.length;g<v;++g)D=b[g],!tt(D)&&!At(D)&&(M=Ah(i,k.data,k.gc,M,D),T+=C);s.push(M),a.push(T),h=Math.max(M,h),f=Math.max(T,f)}K4(o,t);const E=s.indexOf(h),I=a.indexOf(f),P=O=>({width:s[O]||0,height:a[O]||0});return{first:P(0),last:P(t-1),widest:P(E),highest:P(I),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return L3(this._alignToPixels?ms(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=Q4(this.getContext(),e,r))}return this.$context||(this.$context=J4(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=hi(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,c=o.offset,h=this.isHorizontal(),p=this.ticks.length+(c?1:0),g=Rl(o),v=[],b=a.setContext(this.getContext()),x=b.display?b.width:0,w=x/2,k=function(oe){return ms(r,oe,x)};let C,M,T,D,E,I,P,O,B,A,L,R;if(s==="top")C=k(this.bottom),I=this.bottom-g,O=C-w,A=k(e.top)+w,R=e.bottom;else if(s==="bottom")C=k(this.top),A=e.top,R=k(e.bottom)-w,I=C+w,O=this.top+g;else if(s==="left")C=k(this.right),E=this.right-g,P=C-w,B=k(e.left)+w,L=e.right;else if(s==="right")C=k(this.left),B=e.left,L=k(e.right)-w,E=C+w,P=this.left+g;else if(t==="x"){if(s==="center")C=k((e.top+e.bottom)/2+.5);else if(nt(s)){const oe=Object.keys(s)[0],q=s[oe];C=k(this.chart.scales[oe].getPixelForValue(q))}A=e.top,R=e.bottom,I=C+w,O=I+g}else if(t==="y"){if(s==="center")C=k((e.left+e.right)/2);else if(nt(s)){const oe=Object.keys(s)[0],q=s[oe];C=k(this.chart.scales[oe].getPixelForValue(q))}E=C-w,P=E-g,B=e.left,L=e.right}const V=Ge(i.ticks.maxTicksLimit,p),Q=Math.max(1,Math.ceil(p/V));for(M=0;M<p;M+=Q){const oe=this.getContext(M),q=o.setContext(oe),Y=a.setContext(oe),re=q.lineWidth,le=q.color,W=Y.dash||[],Z=Y.dashOffset,pe=q.tickWidth,be=q.tickColor,ke=q.tickBorderDash||[],me=q.tickBorderDashOffset;T=X4(this,M,c),T!==void 0&&(D=ms(r,T,re),h?E=P=B=L=D:I=O=A=R=D,v.push({tx1:E,ty1:I,tx2:P,ty2:O,x1:B,y1:A,x2:L,y2:R,width:re,color:le,borderDash:W,borderDashOffset:Z,tickWidth:pe,tickColor:be,tickBorderDash:ke,tickBorderDashOffset:me}))}return this._ticksLength=p,this._borderValue=C,v}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:h,padding:f,mirror:p}=o,g=Rl(r.grid),v=g+f,b=p?-f:v,x=-hi(this.labelRotation),w=[];let k,C,M,T,D,E,I,P,O,B,A,L,R="middle";if(i==="top")E=this.bottom-b,I=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+b,I=this._getXAxisLabelAlignment();else if(i==="left"){const Q=this._getYAxisLabelAlignment(g);I=Q.textAlign,D=Q.x}else if(i==="right"){const Q=this._getYAxisLabelAlignment(g);I=Q.textAlign,D=Q.x}else if(t==="x"){if(i==="center")E=(e.top+e.bottom)/2+v;else if(nt(i)){const Q=Object.keys(i)[0],oe=i[Q];E=this.chart.scales[Q].getPixelForValue(oe)+v}I=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")D=(e.left+e.right)/2-v;else if(nt(i)){const Q=Object.keys(i)[0],oe=i[Q];D=this.chart.scales[Q].getPixelForValue(oe)}I=this._getYAxisLabelAlignment(g).textAlign}t==="y"&&(c==="start"?R="top":c==="end"&&(R="bottom"));const V=this._getLabelSizes();for(k=0,C=a.length;k<C;++k){M=a[k],T=M.label;const Q=o.setContext(this.getContext(k));P=this.getPixelForTick(k)+o.labelOffset,O=this._resolveTickFontOptions(k),B=O.lineHeight,A=At(T)?T.length:1;const oe=A/2,q=Q.color,Y=Q.textStrokeColor,re=Q.textStrokeWidth;let le=I;s?(D=P,I==="inner"&&(k===C-1?le=this.options.reverse?"left":"right":k===0?le=this.options.reverse?"right":"left":le="center"),i==="top"?h==="near"||x!==0?L=-A*B+B/2:h==="center"?L=-V.highest.height/2-oe*B+B:L=-V.highest.height+B/2:h==="near"||x!==0?L=B/2:h==="center"?L=V.highest.height/2-oe*B:L=V.highest.height-A*B,p&&(L*=-1),x!==0&&!Q.showLabelBackdrop&&(D+=B/2*Math.sin(x))):(E=P,L=(1-A)*B/2);let W;if(Q.showLabelBackdrop){const Z=Hn(Q.backdropPadding),pe=V.heights[k],be=V.widths[k];let ke=L-Z.top,me=0-Z.left;switch(R){case"middle":ke-=pe/2;break;case"bottom":ke-=pe;break}switch(I){case"center":me-=be/2;break;case"right":me-=be;break;case"inner":k===C-1?me-=be:k>0&&(me-=be/2);break}W={left:me,top:ke,width:be+Z.width,height:pe+Z.height,color:Q.backdropColor}}w.push({label:T,font:O,textOffset:L,options:{rotation:x,color:q,strokeColor:Y,strokeWidth:re,textAlign:le,textBaseline:R,translation:[D,E],backdrop:W}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-hi(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,c=s.widest.width;let h,f;return t==="left"?i?(f=this.right+o,r==="near"?h="left":r==="center"?(h="center",f+=c/2):(h="right",f+=c)):(f=this.right-a,r==="near"?h="right":r==="center"?(h="center",f-=c/2):(h="left",f=this.left)):t==="right"?i?(f=this.left+o,r==="near"?h="right":r==="center"?(h="center",f-=c/2):(h="left",f-=c)):(f=this.left+a,r==="near"?h="left":r==="center"?(h="center",f+=c/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:o,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,o,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,s;const a=(c,h,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(t.display)for(o=0,s=i.length;o<s;++o){const c=i[o];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,f,p,g;this.isHorizontal()?(h=ms(e,this.left,s)-s/2,f=ms(e,this.right,a)+a/2,p=g=c):(p=ms(e,this.top,s)-s/2,g=ms(e,this.bottom,a)+a/2,h=f=c),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(h,p),t.lineTo(f,g),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Df(r,i);const o=this.getLabelItems(e);for(const s of o){const a=s.options,c=s.font,h=s.label,f=s.textOffset;Ns(r,h,0,f,c,a)}i&&Mf(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const o=hn(r.font),s=Hn(r.padding),a=r.align;let c=o.lineHeight/2;t==="bottom"||t==="center"||nt(t)?(c+=s.bottom,At(r.text)&&(c+=o.lineHeight*(r.text.length-1))):c+=s.top;const{titleX:h,titleY:f,maxWidth:p,rotation:g}=e5(this,c,t,a);Ns(e,r.text,0,0,o,{color:r.color,maxWidth:p,rotation:g,textAlign:Z4(a,t,i),textBaseline:"middle",translation:[h,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Ge(e.grid&&e.grid.z,-1),i=Ge(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Fs.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,s;for(o=0,s=t.length;o<s;++o){const a=t[o];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return hn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Rd{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;r5(t)&&(r=this.register(t));const i=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,t5(e,s,r),this.override&&Lt.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Lt[i]&&(delete Lt[i][r],this.override&&delete Is[r])}}function t5(n,e,t){const r=yc(Object.create(null),[t?Lt.get(t):{},Lt.get(e),n.defaults]);Lt.set(e,r),n.defaultRoutes&&n5(e,n.defaultRoutes),n.descriptors&&Lt.describe(e,n.descriptors)}function n5(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),o=[n].concat(r).join("."),s=e[t].split("."),a=s.pop(),c=s.join(".");Lt.route(o,i,c,a)})}function r5(n){return"id"in n&&"defaults"in n}class i5{constructor(){this.controllers=new Rd(pi,"datasets",!0),this.elements=new Rd(lo,"elements"),this.plugins=new Rd(Object,"plugins"),this.scales=new Rd(Fs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):bt(i,s=>{const a=r||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,t,r){const i=lb(e);Ct(r["before"+i],[],r),t[e](r),Ct(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Di=new i5;class o5{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(o,e,t,r);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,r,i){i=i||{};for(const o of e){const s=o.plugin,a=s[r],c=[t,i,o.options];if(Ct(a,c,s)===!1&&i.cancelable)return!1}return!0}invalidate(){tt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Ge(r.options&&r.options.plugins,{}),o=s5(r);return i===!1&&!t?[]:l5(e,o,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function s5(n){const e={},t=[],r=Object.keys(Di.plugins.items);for(let o=0;o<r.length;o++)t.push(Di.getPlugin(r[o]));const i=n.plugins||[];for(let o=0;o<i.length;o++){const s=i[o];t.indexOf(s)===-1&&(t.push(s),e[s.id]=!0)}return{plugins:t,localIds:e}}function a5(n,e){return!e&&n===!1?null:n===!0?{}:n}function l5(n,{plugins:e,localIds:t},r,i){const o=[],s=n.getContext();for(const a of e){const c=a.id,h=a5(r[c],i);h!==null&&o.push({plugin:a,options:c5(n.config,{plugin:a,local:t[c]},h,s)})}return o}function c5(n,{plugin:e,local:t},r,i){const o=n.pluginScopeKeys(e),s=n.getOptionScopes(r,o);return t&&e.defaults&&s.push(e.defaults),n.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hy(n,e){const t=Lt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function u5(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function d5(n,e){return n===e?"_index_":"_value_"}function Tk(n){if(n==="x"||n==="y"||n==="r")return n}function h5(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function fy(n,...e){if(Tk(n))return n;for(const t of e){const r=t.axis||h5(t.position)||n.length>1&&Tk(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function jk(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function f5(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return jk(n,"x",t[0])||jk(n,"y",t[0])}return{}}function p5(n,e){const t=Is[n.type]||{scales:{}},r=e.scales||{},i=hy(n.type,e),o=Object.create(null);return Object.keys(r).forEach(s=>{const a=r[s];if(!nt(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const c=fy(s,a,f5(s,n),Lt.scales[a.type]),h=d5(c,i),f=t.scales||{};o[s]=nc(Object.create(null),[{axis:c},a,f[c],f[h]])}),n.data.datasets.forEach(s=>{const a=s.type||n.type,c=s.indexAxis||hy(a,e),f=(Is[a]||{}).scales||{};Object.keys(f).forEach(p=>{const g=u5(p,c),v=s[g+"AxisID"]||g;o[v]=o[v]||Object.create(null),nc(o[v],[{axis:g},r[v],f[p]])})}),Object.keys(o).forEach(s=>{const a=o[s];nc(a,[Lt.scales[a.type],Lt.scale])}),o}function Lj(n){const e=n.options||(n.options={});e.plugins=Ge(e.plugins,{}),e.scales=p5(n,e)}function Bj(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function m5(n){return n=n||{},n.data=Bj(n.data),Lj(n),n}const Dk=new Map,Fj=new Set;function Ad(n,e){let t=Dk.get(n);return t||(t=e(),Dk.set(n,t),Fj.add(t)),t}const Al=(n,e,t)=>{const r=Wo(e,t);r!==void 0&&n.add(r)};class g5{constructor(e){this._config=m5(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Bj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Lj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ad(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ad(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ad(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Ad(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:o}=this,s=this._cachedScopes(e,r),a=s.get(t);if(a)return a;const c=new Set;t.forEach(f=>{e&&(c.add(e),f.forEach(p=>Al(c,e,p))),f.forEach(p=>Al(c,i,p)),f.forEach(p=>Al(c,Is[o]||{},p)),f.forEach(p=>Al(c,Lt,p)),f.forEach(p=>Al(c,cy,p))});const h=Array.from(c);return h.length===0&&h.push(Object.create(null)),Fj.has(t)&&s.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,Is[t]||{},Lt.datasets[t]||{},{type:t},Lt,cy]}resolveNamedOptions(e,t,r,i=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=Mk(this._resolverCache,e,i);let c=s;if(y5(s,t)){o.$shared=!1,r=Vo(r)?r():r;const h=this.createResolver(e,r,a);c=Ea(s,r,h)}for(const h of t)o[h]=c[h];return o}createResolver(e,t,r=[""],i){const{resolver:o}=Mk(this._resolverCache,e,r);return nt(t)?Ea(o,t,void 0,i):o}}function Mk(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let o=r.get(i);return o||(o={resolver:pb(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}const v5=n=>nt(n)&&Object.getOwnPropertyNames(n).some(e=>Vo(n[e]));function y5(n,e){const{isScriptable:t,isIndexable:r}=vj(n);for(const i of e){const o=t(i),s=r(i),a=(s||o)&&n[i];if(o&&(Vo(a)||v5(a))||s&&At(a))return!0}return!1}var b5="4.5.0";const x5=["top","bottom","left","right","chartArea"];function Pk(n,e){return n==="top"||n==="bottom"||x5.indexOf(n)===-1&&e==="x"}function Ok(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Ik(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ct(t&&t.onComplete,[n],e)}function w5(n){const e=n.chart,t=e.options.animation;Ct(t&&t.onProgress,[n],e)}function Hj(n){return vb()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ph={},Nk=n=>{const e=Hj(n);return Object.values(ph).filter(t=>t.canvas===e).pop()};function S5(n,e,t){const r=Object.keys(n);for(const i of r){const o=+i;if(o>=e){const s=n[i];delete n[i],(t>0||o>e)&&(n[o+t]=s)}}}function k5(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}class Mi{static register(...e){Di.add(...e),Rk()}static unregister(...e){Di.remove(...e),Rk()}constructor(e,t){const r=this.config=new g5(t),i=Hj(e),o=Nk(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||z4(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,s.aspectRatio),c=a&&a.canvas,h=c&&c.height,f=c&&c.width;if(this.id=E3(),this.ctx=a,this.canvas=c,this.width=f,this.height=h,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new o5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=z3(p=>this.update(p),s.resizeDelay||0),this._dataChanges=[],ph[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ki.listen(this,"complete",Ik),Ki.listen(this,"progress",w5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:o}=this;return tt(e)?t&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Di}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rk(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ek(this.canvas,this.ctx),this}stop(){return Ki.stop(this),this}resize(e,t){Ki.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,t,o),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,rk(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),Ct(r.onResize,[this,s],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};bt(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((s,a)=>(s[a]=!1,s),{});let o=[];t&&(o=o.concat(Object.keys(t).map(s=>{const a=t[s],c=fy(s,a),h=c==="r",f=c==="x";return{options:a,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),bt(o,s=>{const a=s.options,c=a.id,h=fy(c,a),f=Ge(a.type,s.dtype);(a.position===void 0||Pk(a.position,h)!==Pk(s.dposition))&&(a.position=s.dposition),i[c]=!0;let p=null;if(c in r&&r[c].type===f)p=r[c];else{const g=Di.getScale(f);p=new g({id:c,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,e)}),bt(i,(s,a)=>{s||delete r[a]}),bt(r,s=>{Fn.configure(this,s,s.options),Fn.addBox(this,s)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Ok("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const o=t[r];let s=this.getDatasetMeta(r);const a=o.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=a,s.indexAxis=o.indexAxis||hy(a,this.options),s.order=o.order||0,s.index=r,s.label=""+o.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{const c=Di.getController(a),{datasetElementType:h,dataElementType:f}=Lt.datasets[a];Object.assign(c,{dataElementType:Di.getElement(f),datasetElementType:h&&Di.getElement(h)}),s.controller=new c(this,r),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){bt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:p}=this.getDatasetMeta(h),g=!i&&o.indexOf(p)===-1;p.buildOrUpdateElements(g),s=Math.max(+p.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),i||bt(o,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ok("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){bt(this.scales,e=>{Fn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!VS(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of t){const s=r==="_removeElements"?-o:o;S5(e,i,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=o=>new Set(e.filter(s=>s[0]===o).map((s,a)=>a+","+s.splice(1).join(","))),i=r(0);for(let o=1;o<t;o++)if(!VS(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Fn.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],bt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Vo(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ki.has(this)?this.attached&&!Ki.running(this)&&Ki.start(this):(this.draw(),Ik({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,o;for(i=0,o=t.length;i<o;++i){const s=t[i];(!e||s.visible)&&r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=jj(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Df(t,i),e.controller.draw(),i&&Mf(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return io(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const o=x4.modes[t];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ko(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),s=o.controller._resolveAnimations(void 0,i);bc(t)?(o.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),s.update(o,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ki.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ek(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ph[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(o,s)=>{t.addEventListener(this,o,s),e[o]=s},i=(o,s,a)=>{o.offsetX=s,o.offsetY=a,this._eventHandler(o)};bt(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(c,h)=>{t.addEventListener(this,c,h),e[c]=h},i=(c,h)=>{e[c]&&(t.removeEventListener(this,c,h),delete e[c])},o=(c,h)=>{this.canvas&&this.resize(c,h)};let s;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",o),r("detach",s)};s=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",a)},t.isAttached(this.canvas)?a():s()}unbindEvents(){bt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},bt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let o,s,a,c;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){s=e[a];const h=s&&this.getDatasetMeta(s.datasetIndex).controller;h&&h[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:o,index:s})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[s],index:s}});!Ih(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,o=(c,h)=>c.filter(f=>!h.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),s=o(t,e),a=r?e:o(e,t);s.length&&this.updateHoverStyle(s,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:o}=this,s=t,a=this._getActiveElements(e,i,r,s),c=M3(e),h=k5(e,this._lastEvent,r,c);r&&(this._lastEvent=null,Ct(o.onHover,[e,a,this],this),c&&Ct(o.onClick,[e,a,this],this));const f=!Ih(a,i);return(f||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=h,f}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}}Ce(Mi,"defaults",Lt),Ce(Mi,"instances",ph),Ce(Mi,"overrides",Is),Ce(Mi,"registry",Di),Ce(Mi,"version",b5),Ce(Mi,"getChart",Nk);function Rk(){return bt(Mi.instances,n=>n._plugins.invalidate())}function E5(n,e,t){const{startAngle:r,x:i,y:o,outerRadius:s,innerRadius:a,options:c}=e,{borderWidth:h,borderJoinStyle:f}=c,p=Math.min(h/s,Ln(r-t));if(n.beginPath(),n.arc(i,o,s-h/2,r+p/2,t-p/2),a>0){const g=Math.min(h/a,Ln(r-t));n.arc(i,o,a+h/2,t-g/2,r+g/2,!0)}else{const g=Math.min(h/2,s*Ln(r-t));if(f==="round")n.arc(i,o,g,t-ut/2,r+ut/2,!0);else if(f==="bevel"){const v=2*g*g,b=-v*Math.cos(t+ut/2)+i,x=-v*Math.sin(t+ut/2)+o,w=v*Math.cos(r+ut/2)+i,k=v*Math.sin(r+ut/2)+o;n.lineTo(b,x),n.lineTo(w,k)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function C5(n,e,t){const{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:c}=e;let h=i/a;n.beginPath(),n.arc(o,s,a,r-h,t+h),c>i?(h=i/c,n.arc(o,s,c,t+h,r-h,!0)):n.arc(o,s,i,t+en,r-en),n.closePath(),n.clip()}function _5(n){return fb(n,["outerStart","outerEnd","innerStart","innerEnd"])}function T5(n,e,t,r){const i=_5(n.options.borderRadius),o=(t-e)/2,s=Math.min(o,r*e/2),a=c=>{const h=(t-Math.min(o,c))*r/2;return yn(c,0,Math.min(o,h))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:yn(i.innerStart,0,s),innerEnd:yn(i.innerEnd,0,s)}}function da(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Fh(n,e,t,r,i,o){const{x:s,y:a,startAngle:c,pixelMargin:h,innerRadius:f}=e,p=Math.max(e.outerRadius+r+t-h,0),g=f>0?f+r+t+h:0;let v=0;const b=i-c;if(r){const Q=f>0?f-r:0,oe=p>0?p-r:0,q=(Q+oe)/2,Y=q!==0?b*q/(q+r):b;v=(b-Y)/2}const x=Math.max(.001,b*p-t/ut)/p,w=(b-x)/2,k=c+w+v,C=i-w-v,{outerStart:M,outerEnd:T,innerStart:D,innerEnd:E}=T5(e,g,p,C-k),I=p-M,P=p-T,O=k+M/I,B=C-T/P,A=g+D,L=g+E,R=k+D/A,V=C-E/L;if(n.beginPath(),o){const Q=(O+B)/2;if(n.arc(s,a,p,O,Q),n.arc(s,a,p,Q,B),T>0){const re=da(P,B,s,a);n.arc(re.x,re.y,T,B,C+en)}const oe=da(L,C,s,a);if(n.lineTo(oe.x,oe.y),E>0){const re=da(L,V,s,a);n.arc(re.x,re.y,E,C+en,V+Math.PI)}const q=(C-E/g+(k+D/g))/2;if(n.arc(s,a,g,C-E/g,q,!0),n.arc(s,a,g,q,k+D/g,!0),D>0){const re=da(A,R,s,a);n.arc(re.x,re.y,D,R+Math.PI,k-en)}const Y=da(I,k,s,a);if(n.lineTo(Y.x,Y.y),M>0){const re=da(I,O,s,a);n.arc(re.x,re.y,M,k-en,O)}}else{n.moveTo(s,a);const Q=Math.cos(O)*p+s,oe=Math.sin(O)*p+a;n.lineTo(Q,oe);const q=Math.cos(B)*p+s,Y=Math.sin(B)*p+a;n.lineTo(q,Y)}n.closePath()}function j5(n,e,t,r,i){const{fullCircles:o,startAngle:s,circumference:a}=e;let c=e.endAngle;if(o){Fh(n,e,t,r,c,i);for(let h=0;h<o;++h)n.fill();isNaN(a)||(c=s+(a%Mt||Mt))}return Fh(n,e,t,r,c,i),n.fill(),c}function D5(n,e,t,r,i){const{fullCircles:o,startAngle:s,circumference:a,options:c}=e,{borderWidth:h,borderJoinStyle:f,borderDash:p,borderDashOffset:g,borderRadius:v}=c,b=c.borderAlign==="inner";if(!h)return;n.setLineDash(p||[]),n.lineDashOffset=g,b?(n.lineWidth=h*2,n.lineJoin=f||"round"):(n.lineWidth=h,n.lineJoin=f||"bevel");let x=e.endAngle;if(o){Fh(n,e,t,r,x,i);for(let w=0;w<o;++w)n.stroke();isNaN(a)||(x=s+(a%Mt||Mt))}b&&C5(n,e,x),c.selfJoin&&x-s>=ut&&v===0&&f!=="miter"&&E5(n,e,x),o||(Fh(n,e,t,r,x,i),n.stroke())}class Xl extends lo{constructor(t){super();Ce(this,"circumference");Ce(this,"endAngle");Ce(this,"fullCircles");Ce(this,"innerRadius");Ce(this,"outerRadius");Ce(this,"pixelMargin");Ce(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const o=this.getProps(["x","y"],i),{angle:s,distance:a}=aj(o,{x:t,y:r}),{startAngle:c,endAngle:h,innerRadius:f,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,b=Ge(g,h-c),x=xc(s,c,h)&&c!==h,w=b>=Mt||x,k=no(a,f+v,p+v);return w&&k}getCenterPoint(t){const{x:r,y:i,startAngle:o,endAngle:s,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:f}=this.options,p=(o+s)/2,g=(a+c+f+h)/2;return{x:r+Math.cos(p)*g,y:i+Math.sin(p)*g}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,o=(r.offset||0)/4,s=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Mt?Math.floor(i/Mt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*o,Math.sin(c)*o);const h=1-Math.sin(Math.min(ut,i||0)),f=o*h;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,j5(t,this,f,s,a),D5(t,this,f,s,a),t.restore()}}Ce(Xl,"id","arc"),Ce(Xl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ce(Xl,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ce(Xl,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function zj(n,e,t=e){n.lineCap=Ge(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Ge(t.borderDash,e.borderDash)),n.lineDashOffset=Ge(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Ge(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Ge(t.borderWidth,e.borderWidth),n.strokeStyle=Ge(t.borderColor,e.borderColor)}function M5(n,e,t){n.lineTo(t.x,t.y)}function P5(n){return n.stepped?Z3:n.tension||n.cubicInterpolationMode==="monotone"?eF:M5}function Uj(n,e,t={}){const r=n.length,{start:i=0,end:o=r-1}=t,{start:s,end:a}=e,c=Math.max(i,s),h=Math.min(o,a),f=i<s&&o<s||i>a&&o>a;return{count:r,start:c,loop:e.loop,ilen:h<c&&!f?r+h-c:h-c}}function O5(n,e,t,r){const{points:i,options:o}=e,{count:s,start:a,loop:c,ilen:h}=Uj(i,t,r),f=P5(o);let{move:p=!0,reverse:g}=r||{},v,b,x;for(v=0;v<=h;++v)b=i[(a+(g?h-v:v))%s],!b.skip&&(p?(n.moveTo(b.x,b.y),p=!1):f(n,x,b,g,o.stepped),x=b);return c&&(b=i[(a+(g?h:0))%s],f(n,x,b,g,o.stepped)),!!c}function I5(n,e,t,r){const i=e.points,{count:o,start:s,ilen:a}=Uj(i,t,r),{move:c=!0,reverse:h}=r||{};let f=0,p=0,g,v,b,x,w,k;const C=T=>(s+(h?a-T:T))%o,M=()=>{x!==w&&(n.lineTo(f,w),n.lineTo(f,x),n.lineTo(f,k))};for(c&&(v=i[C(0)],n.moveTo(v.x,v.y)),g=0;g<=a;++g){if(v=i[C(g)],v.skip)continue;const T=v.x,D=v.y,E=T|0;E===b?(D<x?x=D:D>w&&(w=D),f=(p*f+T)/++p):(M(),n.lineTo(T,D),b=E,p=0,x=w=D),k=D}M()}function py(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?I5:O5}function N5(n){return n.stepped?OF:n.tension||n.cubicInterpolationMode==="monotone"?IF:xs}function R5(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),zj(n,e.options),n.stroke(i)}function A5(n,e,t,r){const{segments:i,options:o}=e,s=py(e);for(const a of i)zj(n,o,a.style),n.beginPath(),s(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const L5=typeof Path2D=="function";function B5(n,e,t,r){L5&&!e.options.segment?R5(n,e,t,r):A5(n,e,t,r)}class Lo extends lo{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;EF(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=FF(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],o=this.points,s=Tj(this,{property:t,start:i,end:i});if(!s.length)return;const a=[],c=N5(r);let h,f;for(h=0,f=s.length;h<f;++h){const{start:p,end:g}=s[h],v=o[p],b=o[g];if(v===b){a.push(v);continue}const x=Math.abs((i-v[t])/(b[t]-v[t])),w=c(v,b,x,r.stepped);w[t]=e[t],a.push(w)}return a.length===1?a[0]:a}pathSegment(e,t,r){return py(this)(e,this,t,r)}path(e,t,r){const i=this.segments,o=py(this);let s=this._loop;t=t||0,r=r||this.points.length-t;for(const a of i)s&=o(e,this,a,{start:t,end:t+r-1});return!!s}draw(e,t,r,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),B5(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ce(Lo,"id","line"),Ce(Lo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ce(Lo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ce(Lo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Ak(n,e,t,r){const i=n.options,{[t]:o}=n.getProps([t],r);return Math.abs(e-o)<i.radius+i.hitRadius}class mh extends lo{constructor(t){super();Ce(this,"parsed");Ce(this,"skip");Ce(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,r){return Ak(this,t,"x",r)}inYRange(t,r){return Ak(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!io(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,uy(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Ce(mh,"id","point"),Ce(mh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ce(mh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $j(n,e){const{x:t,y:r,base:i,width:o,height:s}=n.getProps(["x","y","base","width","height"],e);let a,c,h,f,p;return n.horizontal?(p=s/2,a=Math.min(t,i),c=Math.max(t,i),h=r-p,f=r+p):(p=o/2,a=t-p,c=t+p,h=Math.min(r,i),f=Math.max(r,i)),{left:a,top:h,right:c,bottom:f}}function Bo(n,e,t,r){return n?0:yn(e,t,r)}function F5(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,o=gj(r);return{t:Bo(i.top,o.top,0,t),r:Bo(i.right,o.right,0,e),b:Bo(i.bottom,o.bottom,0,t),l:Bo(i.left,o.left,0,e)}}function H5(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,o=Ds(i),s=Math.min(e,t),a=n.borderSkipped,c=r||nt(i);return{topLeft:Bo(!c||a.top||a.left,o.topLeft,0,s),topRight:Bo(!c||a.top||a.right,o.topRight,0,s),bottomLeft:Bo(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Bo(!c||a.bottom||a.right,o.bottomRight,0,s)}}function z5(n){const e=$j(n),t=e.right-e.left,r=e.bottom-e.top,i=F5(n,t/2,r/2),o=H5(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function vg(n,e,t,r){const i=e===null,o=t===null,a=n&&!(i&&o)&&$j(n,r);return a&&(i||no(e,a.left,a.right))&&(o||no(t,a.top,a.bottom))}function U5(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function $5(n,e){n.rect(e.x,e.y,e.w,e.h)}function yg(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-r,s=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+o,h:n.h+s,radius:n.radius}}class gh extends lo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=z5(this),a=U5(s.radius)?wc:$5;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,yg(s,t,o)),e.clip(),a(e,yg(o,-t,s)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,yg(o,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return vg(this,e,t,r)}inXRange(e,t){return vg(this,e,null,t)}inYRange(e,t){return vg(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+i)/2:t,y:o?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ce(gh,"id","bar"),Ce(gh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ce(gh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var W5=Object.freeze({__proto__:null,ArcElement:Xl,BarElement:gh,LineElement:Lo,PointElement:mh});const my=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Lk=my.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Wj(n){return my[n%my.length]}function Vj(n){return Lk[n%Lk.length]}function V5(n,e){return n.borderColor=Wj(e),n.backgroundColor=Vj(e),++e}function q5(n,e){return n.backgroundColor=n.data.map(()=>Wj(e++)),e}function Y5(n,e){return n.backgroundColor=n.data.map(()=>Vj(e++)),e}function G5(n){let e=0;return(t,r)=>{const i=n.getDatasetMeta(r).controller;i instanceof _s?e=q5(t,e):i instanceof sc?e=Y5(t,e):i&&(e=V5(t,e))}}function Bk(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function X5(n){return n&&(n.borderColor||n.backgroundColor)}function K5(){return Lt.borderColor!=="rgba(0,0,0,0.1)"||Lt.backgroundColor!=="rgba(0,0,0,0.1)"}var J5={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:r},options:i}=n.config,{elements:o}=i,s=Bk(r)||X5(i)||o&&Bk(o)||K5();if(!t.forceOverride&&s)return;const a=G5(n);r.forEach(a)}};function Q5(n,e,t,r,i){const o=i.samples||r;if(o>=t)return n.slice(e,e+t);const s=[],a=(t-2)/(o-2);let c=0;const h=e+t-1;let f=e,p,g,v,b,x;for(s[c++]=n[f],p=0;p<o-2;p++){let w=0,k=0,C;const M=Math.floor((p+1)*a)+1+e,T=Math.min(Math.floor((p+2)*a)+1,t)+e,D=T-M;for(C=M;C<T;C++)w+=n[C].x,k+=n[C].y;w/=D,k/=D;const E=Math.floor(p*a)+1+e,I=Math.min(Math.floor((p+1)*a)+1,t)+e,{x:P,y:O}=n[f];for(v=b=-1,C=E;C<I;C++)b=.5*Math.abs((P-w)*(n[C].y-O)-(P-n[C].x)*(k-O)),b>v&&(v=b,g=n[C],x=C);s[c++]=g,f=x}return s[c++]=n[h],s}function Z5(n,e,t,r){let i=0,o=0,s,a,c,h,f,p,g,v,b,x;const w=[],k=e+t-1,C=n[e].x,T=n[k].x-C;for(s=e;s<e+t;++s){a=n[s],c=(a.x-C)/T*r,h=a.y;const D=c|0;if(D===f)h<b?(b=h,p=s):h>x&&(x=h,g=s),i=(o*i+a.x)/++o;else{const E=s-1;if(!tt(p)&&!tt(g)){const I=Math.min(p,g),P=Math.max(p,g);I!==v&&I!==E&&w.push({...n[I],x:i}),P!==v&&P!==E&&w.push({...n[P],x:i})}s>0&&E!==v&&w.push(n[E]),w.push(a),f=D,o=0,b=x=h,p=g=v=s}}return w}function qj(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Fk(n){n.data.datasets.forEach(e=>{qj(e)})}function e6(n,e){const t=e.length;let r=0,i;const{iScale:o}=n,{min:s,max:a,minDefined:c,maxDefined:h}=o.getUserBounds();return c&&(r=yn(ro(e,o.axis,s).lo,0,t-1)),h?i=yn(ro(e,o.axis,a).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var t6={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){Fk(n);return}const r=n.width;n.data.datasets.forEach((i,o)=>{const{_data:s,indexAxis:a}=i,c=n.getDatasetMeta(o),h=s||i.data;if(Yl([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const f=n.scales[c.xAxisID];if(f.type!=="linear"&&f.type!=="time"||n.options.parsing)return;let{start:p,count:g}=e6(c,h);const v=t.threshold||4*r;if(g<=v){qj(i);return}tt(s)&&(i._data=h,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let b;switch(t.algorithm){case"lttb":b=Q5(h,p,g,r,t);break;case"min-max":b=Z5(h,p,g,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=b})},destroy(n){Fk(n)}};function n6(n,e,t){const r=n.segments,i=n.points,o=e.points,s=[];for(const a of r){let{start:c,end:h}=a;h=If(c,h,i);const f=gy(t,i[c],i[h],a.loop);if(!e.segments){s.push({source:a,target:f,start:i[c],end:i[h]});continue}const p=Tj(e,f);for(const g of p){const v=gy(t,o[g.start],o[g.end],g.loop),b=_j(a,i,v);for(const x of b)s.push({source:x,target:g,start:{[t]:Hk(f,v,"start",Math.max)},end:{[t]:Hk(f,v,"end",Math.min)}})}}return s}function gy(n,e,t,r){if(r)return;let i=e[n],o=t[n];return n==="angle"&&(i=Ln(i),o=Ln(o)),{property:n,start:i,end:o}}function r6(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=If(s,a,i);const c=i[s],h=i[a];r!==null?(o.push({x:c.x,y:r}),o.push({x:h.x,y:r})):t!==null&&(o.push({x:t,y:c.y}),o.push({x:t,y:h.y}))}),o}function If(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function Hk(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function Yj(n,e){let t=[],r=!1;return At(n)?(r=!0,t=n):t=r6(n,e),t.length?new Lo({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function zk(n){return n&&n.fill!==!1}function i6(n,e,t){let i=n[e].fill;const o=[e];let s;if(!t)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!Gt(i))return i;if(s=n[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function o6(n,e,t){const r=c6(n);if(nt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Gt(i)&&Math.floor(i)===i?s6(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function s6(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function a6(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:nt(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function l6(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:nt(n)?r=n.value:r=e.getBaseValue(),r}function c6(n){const e=n.options,t=e.fill;let r=Ge(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function u6(n){const{scale:e,index:t,line:r}=n,i=[],o=r.segments,s=r.points,a=d6(e,t);a.push(Yj({x:null,y:e.bottom},r));for(let c=0;c<o.length;c++){const h=o[c];for(let f=h.start;f<=h.end;f++)h6(i,s[f],a)}return new Lo({points:i,options:{}})}function d6(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const o=r[i];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function h6(n,e,t){const r=[];for(let i=0;i<t.length;i++){const o=t[i],{first:s,last:a,point:c}=f6(o,e,"x");if(!(!c||s&&a)){if(s)r.unshift(c);else if(n.push(c),!a)break}}n.push(...r)}function f6(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],o=n.segments,s=n.points;let a=!1,c=!1;for(let h=0;h<o.length;h++){const f=o[h],p=s[f.start][t],g=s[f.end][t];if(no(i,p,g)){a=i===p,c=i===g;break}}return{first:a,last:c,point:r}}class Gj{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:o,radius:s}=this;return t=t||{start:0,end:Mt},e.arc(i,o,s,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,o=e.angle;return{x:t+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}}function p6(n){const{chart:e,fill:t,line:r}=n;if(Gt(t))return m6(e,t);if(t==="stack")return u6(n);if(t==="shape")return!0;const i=g6(n);return i instanceof Gj?i:Yj(i,r)}function m6(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function g6(n){return(n.scale||{}).getPointPositionForValue?y6(n):v6(n)}function v6(n){const{scale:e={},fill:t}=n,r=a6(t,e);if(Gt(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function y6(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,o=r.reverse?e.max:e.min,s=l6(t,e,o),a=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,o);return new Gj({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(s)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,s));return a}function bg(n,e,t){const r=p6(e),{chart:i,index:o,line:s,scale:a,axis:c}=e,h=s.options,f=h.fill,p=h.backgroundColor,{above:g=p,below:v=p}=f||{},b=i.getDatasetMeta(o),x=jj(i,b);r&&s.points.length&&(Df(n,t),b6(n,{line:s,target:r,above:g,below:v,area:t,scale:a,axis:c,clip:x}),Mf(n))}function b6(n,e){const{line:t,target:r,above:i,below:o,area:s,scale:a,clip:c}=e,h=t._loop?"angle":e.axis;n.save();let f=o;o!==i&&(h==="x"?(Uk(n,r,s.top),xg(n,{line:t,target:r,color:i,scale:a,property:h,clip:c}),n.restore(),n.save(),Uk(n,r,s.bottom)):h==="y"&&($k(n,r,s.left),xg(n,{line:t,target:r,color:o,scale:a,property:h,clip:c}),n.restore(),n.save(),$k(n,r,s.right),f=i)),xg(n,{line:t,target:r,color:f,scale:a,property:h,clip:c}),n.restore()}function Uk(n,e,t){const{segments:r,points:i}=e;let o=!0,s=!1;n.beginPath();for(const a of r){const{start:c,end:h}=a,f=i[c],p=i[If(c,h,i)];o?(n.moveTo(f.x,f.y),o=!1):(n.lineTo(f.x,t),n.lineTo(f.x,f.y)),s=!!e.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(p.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function $k(n,e,t){const{segments:r,points:i}=e;let o=!0,s=!1;n.beginPath();for(const a of r){const{start:c,end:h}=a,f=i[c],p=i[If(c,h,i)];o?(n.moveTo(f.x,f.y),o=!1):(n.lineTo(t,f.y),n.lineTo(f.x,f.y)),s=!!e.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(t,p.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function xg(n,e){const{line:t,target:r,property:i,color:o,scale:s,clip:a}=e,c=n6(t,r,i);for(const{source:h,target:f,start:p,end:g}of c){const{style:{backgroundColor:v=o}={}}=h,b=r!==!0;n.save(),n.fillStyle=v,x6(n,s,a,b&&gy(i,p,g)),n.beginPath();const x=!!t.pathSegment(n,h);let w;if(b){x?n.closePath():Wk(n,r,g,i);const k=!!r.pathSegment(n,f,{move:x,reverse:!0});w=x&&k,w||Wk(n,r,p,i)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function x6(n,e,t,r){const i=e.chart.chartArea,{property:o,start:s,end:a}=r||{};if(o==="x"||o==="y"){let c,h,f,p;o==="x"?(c=s,h=i.top,f=a,p=i.bottom):(c=i.left,h=s,f=i.right,p=a),n.beginPath(),t&&(c=Math.max(c,t.left),f=Math.min(f,t.right),h=Math.max(h,t.top),p=Math.min(p,t.bottom)),n.rect(c,h,f-c,p-h),n.clip()}}function Wk(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var w6={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let o,s,a,c;for(s=0;s<r;++s)o=n.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof Lo&&(c={visible:n.isDatasetVisible(s),index:s,fill:o6(a,s,r),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,i.push(c);for(s=0;s<r;++s)c=i[s],!(!c||c.fill===!1)&&(c.fill=i6(i,s,t.propagate))},beforeDraw(n,e,t){const r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&bg(n.ctx,a,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const o=r[i].$filler;zk(o)&&bg(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!zk(r)||t.drawTime!=="beforeDatasetDraw"||bg(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Vk=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},S6=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class qk extends lo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ct(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=hn(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Vk(r,o);let h,f;t.font=i.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(s,o,a,c)+10):(f=this.maxHeight,h=this._fitCols(s,i,a,c)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],f=i+a;let p=e;o.textAlign="left",o.textBaseline="middle";let g=-1,v=-f;return this.legendItems.forEach((b,x)=>{const w=r+t/2+o.measureText(b.text).width;(x===0||h[h.length-1]+w+2*a>s)&&(p+=f,h[h.length-(x>0?0:1)]=0,v+=f,g++),c[x]={left:0,top:v,row:g,width:w,height:i},h[h.length-1]+=w+a}),p}_fitCols(e,t,r,i){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],f=s-e;let p=a,g=0,v=0,b=0,x=0;return this.legendItems.forEach((w,k)=>{const{itemWidth:C,itemHeight:M}=k6(r,t,o,w,i);k>0&&v+M+2*a>f&&(p+=g+a,h.push({width:g,height:v}),b+=g+a,x++,g=v=0),c[k]={left:b,top:v,col:x,width:C,height:M},g=Math.max(g,C),v+=M+a}),p+=g,h.push({width:g,height:v}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,s=xa(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=Nn(r,this.left+i,this.right-this.lineWidths[a]);for(const h of t)a!==h.row&&(a=h.row,c=Nn(r,this.left+i,this.right-this.lineWidths[a])),h.top+=this.top+e+i,h.left=s.leftForLtr(s.x(c),h.width),c+=h.width+i}else{let a=0,c=Nn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const h of t)h.col!==a&&(a=h.col,c=Nn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),h.top=c,h.left+=this.left+i,h.left=s.leftForLtr(s.x(h.left),h.width),c+=h.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Df(e,this),this._draw(),Mf(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:s}=e,a=Lt.color,c=xa(e.rtl,this.left,this.width),h=hn(s.font),{padding:f}=s,p=h.size,g=p/2;let v;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:b,boxHeight:x,itemHeight:w}=Vk(s,p),k=function(E,I,P){if(isNaN(b)||b<=0||isNaN(x)||x<0)return;i.save();const O=Ge(P.lineWidth,1);if(i.fillStyle=Ge(P.fillStyle,a),i.lineCap=Ge(P.lineCap,"butt"),i.lineDashOffset=Ge(P.lineDashOffset,0),i.lineJoin=Ge(P.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=Ge(P.strokeStyle,a),i.setLineDash(Ge(P.lineDash,[])),s.usePointStyle){const B={radius:x*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:O},A=c.xPlus(E,b/2),L=I+g;mj(i,B,A,L,s.pointStyleWidth&&b)}else{const B=I+Math.max((p-x)/2,0),A=c.leftForLtr(E,b),L=Ds(P.borderRadius);i.beginPath(),Object.values(L).some(R=>R!==0)?wc(i,{x:A,y:B,w:b,h:x,radius:L}):i.rect(A,B,b,x),i.fill(),O!==0&&i.stroke()}i.restore()},C=function(E,I,P){Ns(i,P.text,E,I+w/2,h,{strikethrough:P.hidden,textAlign:c.textAlign(P.textAlign)})},M=this.isHorizontal(),T=this._computeTitleHeight();M?v={x:Nn(o,this.left+f,this.right-r[0]),y:this.top+f+T,line:0}:v={x:this.left+f,y:Nn(o,this.top+T+f,this.bottom-t[0].height),line:0},kj(this.ctx,e.textDirection);const D=w+f;this.legendItems.forEach((E,I)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const P=i.measureText(E.text).width,O=c.textAlign(E.textAlign||(E.textAlign=s.textAlign)),B=b+g+P;let A=v.x,L=v.y;c.setWidth(this.width),M?I>0&&A+B+f>this.right&&(L=v.y+=D,v.line++,A=v.x=Nn(o,this.left+f,this.right-r[v.line])):I>0&&L+D>this.bottom&&(A=v.x=A+t[v.line].width+f,v.line++,L=v.y=Nn(o,this.top+T+f,this.bottom-t[v.line].height));const R=c.x(A);if(k(R,L,E),A=U3(O,A+b+g,M?A+B:this.right,e.rtl),C(c.x(A),L,E),M)v.x+=B+f;else if(typeof E.text!="string"){const V=h.lineHeight;v.y+=Xj(E,V)+f}else v.y+=D}),Ej(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=hn(t.font),i=Hn(t.padding);if(!t.display)return;const o=xa(e.rtl,this.left,this.width),s=this.ctx,a=t.position,c=r.size/2,h=i.top+c;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+h,p=Nn(e.align,p,this.right-g);else{const b=this.columnSizes.reduce((x,w)=>Math.max(x,w.height),0);f=h+Nn(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const v=Nn(a,p,p+g);s.textAlign=o.textAlign(db(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=r.string,Ns(s,t.text,v,f,r)}_computeTitleHeight(){const e=this.options.title,t=hn(e.font),r=Hn(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,o;if(no(e,this.left,this.right)&&no(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],no(e,i.left,i.left+i.width)&&no(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!_6(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=S6(i,r);i&&!o&&Ct(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&Ct(t.onHover,[e,r,this],this)}else r&&Ct(t.onClick,[e,r,this],this)}}function k6(n,e,t,r,i){const o=E6(r,n,e,t),s=C6(i,r,e.lineHeight);return{itemWidth:o,itemHeight:s}}function E6(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),e+t.size/2+r.measureText(i).width}function C6(n,e,t){let r=n;return typeof e.text!="string"&&(r=Xj(e,t)),r}function Xj(n,e){const t=n.text?n.text.length:0;return e*t}function _6(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var T6={id:"legend",_element:qk,start(n,e,t){const r=n.legend=new qk({ctx:n.ctx,options:t,chart:n});Fn.configure(n,r,t),Fn.addBox(n,r)},stop(n){Fn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Fn.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const h=c.controller.getStyle(t?0:void 0),f=Hn(h.borderWidth);return{text:e[c.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:s&&(a||h.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class xb extends lo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=At(r.text)?r.text.length:1;this._padding=Hn(r.padding);const o=i*hn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:o,options:s}=this,a=s.align;let c=0,h,f,p;return this.isHorizontal()?(f=Nn(a,r,o),p=t+e,h=o-r):(s.position==="left"?(f=r+e,p=Nn(a,i,t),c=ut*-.5):(f=o-e,p=Nn(a,t,i),c=ut*.5),h=i-t),{titleX:f,titleY:p,maxWidth:h,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=hn(t.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:h}=this._drawArgs(o);Ns(e,t.text,0,0,r,{color:t.color,maxWidth:c,rotation:h,textAlign:db(t.align),textBaseline:"middle",translation:[s,a]})}}function j6(n,e){const t=new xb({ctx:n.ctx,options:e,chart:n});Fn.configure(n,t,e),Fn.addBox(n,t),n.titleBlock=t}var D6={id:"title",_element:xb,start(n,e,t){j6(n,t)},stop(n){const e=n.titleBlock;Fn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Fn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ld=new WeakMap;var M6={id:"subtitle",start(n,e,t){const r=new xb({ctx:n.ctx,options:t,chart:n});Fn.configure(n,r,t),Fn.addBox(n,r),Ld.set(n,r)},stop(n){Fn.removeBox(n,Ld.get(n)),Ld.delete(n)},beforeUpdate(n,e,t){const r=Ld.get(n);Fn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Kl={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,o=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();r.add(c.x),i+=c.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=n.length;o<s;++o){const c=n[o].element;if(c&&c.hasValue()){const h=c.getCenterPoint(),f=ly(e,h);f<i&&(i=f,a=c)}}if(a){const c=a.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function ji(n,e){return e&&(At(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Ji(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function P6(n,e){const{element:t,datasetIndex:r,index:i}=e,o=n.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:n,label:s,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Yk(n,e){const t=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:s,boxHeight:a}=e,c=hn(e.bodyFont),h=hn(e.titleFont),f=hn(e.footerFont),p=o.length,g=i.length,v=r.length,b=Hn(e.padding);let x=b.height,w=0,k=r.reduce((T,D)=>T+D.before.length+D.lines.length+D.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,p&&(x+=p*h.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),k){const T=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;x+=v*T+(k-v)*c.lineHeight+(k-1)*e.bodySpacing}g&&(x+=e.footerMarginTop+g*f.lineHeight+(g-1)*e.footerSpacing);let C=0;const M=function(T){w=Math.max(w,t.measureText(T).width+C)};return t.save(),t.font=h.string,bt(n.title,M),t.font=c.string,bt(n.beforeBody.concat(n.afterBody),M),C=e.displayColors?s+2+e.boxPadding:0,bt(r,T=>{bt(T.before,M),bt(T.lines,M),bt(T.after,M)}),C=0,t.font=f.string,bt(n.footer,M),t.restore(),w+=b.width,{width:w,height:x}}function O6(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function I6(n,e,t,r){const{x:i,width:o}=r,s=t.caretSize+t.caretPadding;if(n==="left"&&i+o+s>e.width||n==="right"&&i-o-s<0)return!0}function N6(n,e,t,r){const{x:i,width:o}=t,{width:s,chartArea:{left:a,right:c}}=n;let h="center";return r==="center"?h=i<=(a+c)/2?"left":"right":i<=o/2?h="left":i>=s-o/2&&(h="right"),I6(h,n,e,t)&&(h="center"),h}function Gk(n,e,t){const r=t.yAlign||e.yAlign||O6(n,t);return{xAlign:t.xAlign||e.xAlign||N6(n,e,t,r),yAlign:r}}function R6(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function A6(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function Xk(n,e,t,r){const{caretSize:i,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:c}=t,h=i+o,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:v}=Ds(s);let b=R6(e,a);const x=A6(e,c,h);return c==="center"?a==="left"?b+=h:a==="right"&&(b-=h):a==="left"?b-=Math.max(f,g)+i:a==="right"&&(b+=Math.max(p,v)+i),{x:yn(b,0,r.width-e.width),y:yn(x,0,r.height-e.height)}}function Bd(n,e,t){const r=Hn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Kk(n){return ji([],Ji(n))}function L6(n,e,t){return Ko(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Jk(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Kj={beforeTitle:Xi,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Xi,beforeBody:Xi,beforeLabel:Xi,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return tt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Xi,afterBody:Xi,beforeFooter:Xi,footer:Xi,afterFooter:Xi};function dr(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?Kj[e].call(t,r):i}class vy extends lo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,o=new Dj(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=L6(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=dr(r,"beforeTitle",this,e),o=dr(r,"title",this,e),s=dr(r,"afterTitle",this,e);let a=[];return a=ji(a,Ji(i)),a=ji(a,Ji(o)),a=ji(a,Ji(s)),a}getBeforeBody(e,t){return Kk(dr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return bt(e,o=>{const s={before:[],lines:[],after:[]},a=Jk(r,o);ji(s.before,Ji(dr(a,"beforeLabel",this,o))),ji(s.lines,dr(a,"label",this,o)),ji(s.after,Ji(dr(a,"afterLabel",this,o))),i.push(s)}),i}getAfterBody(e,t){return Kk(dr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=dr(r,"beforeFooter",this,e),o=dr(r,"footer",this,e),s=dr(r,"afterFooter",this,e);let a=[];return a=ji(a,Ji(i)),a=ji(a,Ji(o)),a=ji(a,Ji(s)),a}_createItems(e){const t=this._active,r=this.chart.data,i=[],o=[],s=[];let a=[],c,h;for(c=0,h=t.length;c<h;++c)a.push(P6(this.chart,t[c]));return e.filter&&(a=a.filter((f,p,g)=>e.filter(f,p,g,r))),e.itemSort&&(a=a.sort((f,p)=>e.itemSort(f,p,r))),bt(a,f=>{const p=Jk(e.callbacks,f);i.push(dr(p,"labelColor",this,f)),o.push(dr(p,"labelPointStyle",this,f)),s.push(dr(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=a,a}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let o,s=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=Kl[r.position].call(this,i,this._eventPosition);s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r);const c=this._size=Yk(this,r),h=Object.assign({},a,c),f=Gk(this.chart,r,h),p=Xk(r,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=s,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const o=this.getCaretPosition(e,r,i);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:o}=this,{caretSize:s,cornerRadius:a}=r,{topLeft:c,topRight:h,bottomLeft:f,bottomRight:p}=Ds(a),{x:g,y:v}=e,{width:b,height:x}=t;let w,k,C,M,T,D;return o==="center"?(T=v+x/2,i==="left"?(w=g,k=w-s,M=T+s,D=T-s):(w=g+b,k=w+s,M=T-s,D=T+s),C=w):(i==="left"?k=g+Math.max(c,f)+s:i==="right"?k=g+b-Math.max(h,p)-s:k=this.caretX,o==="top"?(M=v,T=M-s,w=k-s,C=k+s):(M=v+x,T=M+s,w=k+s,C=k-s),D=M),{x1:w,x2:k,x3:C,y1:M,y2:T,y3:D}}drawTitle(e,t,r){const i=this.title,o=i.length;let s,a,c;if(o){const h=xa(r.rtl,this.x,this.width);for(e.x=Bd(this,r.titleAlign,r),t.textAlign=h.textAlign(r.titleAlign),t.textBaseline="middle",s=hn(r.titleFont),a=r.titleSpacing,t.fillStyle=r.titleColor,t.font=s.string,c=0;c<o;++c)t.fillText(i[c],h.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,c+1===o&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,t,r,i,o){const s=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:c,boxWidth:h}=o,f=hn(o.bodyFont),p=Bd(this,"left",o),g=i.x(p),v=c<f.lineHeight?(f.lineHeight-c)/2:0,b=t.y+v;if(o.usePointStyle){const x={radius:Math.min(h,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=i.leftForLtr(g,h)+h/2,k=b+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,uy(e,x,w,k),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,uy(e,x,w,k)}else{e.lineWidth=nt(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const x=i.leftForLtr(g,h),w=i.leftForLtr(i.xPlus(g,1),h-2),k=Ds(s.borderRadius);Object.values(k).some(C=>C!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,wc(e,{x,y:b,w:h,h:c,radius:k}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),wc(e,{x:w,y:b+1,w:h-2,h:c-2,radius:k}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(x,b,h,c),e.strokeRect(x,b,h,c),e.fillStyle=s.backgroundColor,e.fillRect(w,b+1,h-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:o,bodyAlign:s,displayColors:a,boxHeight:c,boxWidth:h,boxPadding:f}=r,p=hn(r.bodyFont);let g=p.lineHeight,v=0;const b=xa(r.rtl,this.x,this.width),x=function(P){t.fillText(P,b.x(e.x+v),e.y+g/2),e.y+=g+o},w=b.textAlign(s);let k,C,M,T,D,E,I;for(t.textAlign=s,t.textBaseline="middle",t.font=p.string,e.x=Bd(this,w,r),t.fillStyle=r.bodyColor,bt(this.beforeBody,x),v=a&&w!=="right"?s==="center"?h/2+f:h+2+f:0,T=0,E=i.length;T<E;++T){for(k=i[T],C=this.labelTextColors[T],t.fillStyle=C,bt(k.before,x),M=k.lines,a&&M.length&&(this._drawColorBox(t,e,T,b,r),g=Math.max(p.lineHeight,c)),D=0,I=M.length;D<I;++D)x(M[D]),g=p.lineHeight;bt(k.after,x)}v=0,g=p.lineHeight,bt(this.afterBody,x),e.y-=o}drawFooter(e,t,r){const i=this.footer,o=i.length;let s,a;if(o){const c=xa(r.rtl,this.x,this.width);for(e.x=Bd(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=c.textAlign(r.footerAlign),t.textBaseline="middle",s=hn(r.footerFont),t.fillStyle=r.footerColor,t.font=s.string,a=0;a<o;++a)t.fillText(i[a],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:o,yAlign:s}=this,{x:a,y:c}=e,{width:h,height:f}=r,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:b}=Ds(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+p,c),s==="top"&&this.drawCaret(e,t,r,i),t.lineTo(a+h-g,c),t.quadraticCurveTo(a+h,c,a+h,c+g),s==="center"&&o==="right"&&this.drawCaret(e,t,r,i),t.lineTo(a+h,c+f-b),t.quadraticCurveTo(a+h,c+f,a+h-b,c+f),s==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(a+v,c+f),t.quadraticCurveTo(a,c+f,a,c+f-v),s==="center"&&o==="left"&&this.drawCaret(e,t,r,i),t.lineTo(a,c+p),t.quadraticCurveTo(a,c,a+p,c),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const s=Kl[e.position].call(this,this._active,this._eventPosition);if(!s)return;const a=this._size=Yk(this,e),c=Object.assign({},s,this._size),h=Gk(t,e,c),f=Xk(e,c,h,t);(i._to!==f.x||o._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=a.width,this.height=a.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const s=Hn(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,t),kj(e,t.textDirection),o.y+=s.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),Ej(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:a,index:c})=>{const h=this.chart.getDatasetMeta(a);if(!h)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:h.data[c],index:c}}),o=!Ih(r,i),s=this._positionChanged(i,t);(o||s)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],s=this._getActiveElements(e,o,t,r),a=this._positionChanged(s,e),c=t||!Ih(s,o)||a;return c&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const s=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:r,caretY:i,options:o}=this,s=Kl[o.position].call(this,e,t);return s!==!1&&(r!==s.x||i!==s.y)}}Ce(vy,"positioners",Kl);var B6={id:"tooltip",_element:vy,positioners:Kl,afterInit(n,e,t){t&&(n.tooltip=new vy({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Kj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},F6=Object.freeze({__proto__:null,Colors:J5,Decimation:t6,Filler:w6,Legend:T6,SubTitle:M6,Title:D6,Tooltip:B6});const H6=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function z6(n,e,t,r){const i=n.indexOf(e);if(i===-1)return H6(n,e,t,r);const o=n.lastIndexOf(e);return i!==o?t:i}const U6=(n,e)=>n===null?null:yn(Math.round(n),0,e);function Qk(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class yy extends Fs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:o}of t)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(tt(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:z6(r,e,Ge(t,e),this._addedLabels),U6(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let s=e;s<=t;s++)i.push({value:s});return i}getLabelForValue(e){return Qk.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ce(yy,"id","category"),Ce(yy,"defaults",{ticks:{callback:Qk}});function $6(n,e){const t=[],{bounds:i,step:o,min:s,max:a,precision:c,count:h,maxTicks:f,maxDigits:p,includeBounds:g}=n,v=o||1,b=f-1,{min:x,max:w}=e,k=!tt(s),C=!tt(a),M=!tt(h),T=(w-x)/(p+1);let D=YS((w-x)/b/v)*v,E,I,P,O;if(D<1e-14&&!k&&!C)return[{value:x},{value:w}];O=Math.ceil(w/D)-Math.floor(x/D),O>b&&(D=YS(O*D/b/v)*v),tt(c)||(E=Math.pow(10,c),D=Math.ceil(D*E)/E),i==="ticks"?(I=Math.floor(x/D)*D,P=Math.ceil(w/D)*D):(I=x,P=w),k&&C&&o&&R3((a-s)/o,D/1e3)?(O=Math.round(Math.min((a-s)/D,f)),D=(a-s)/O,I=s,P=a):M?(I=k?s:I,P=C?a:P,O=h-1,D=(P-I)/O):(O=(P-I)/D,rc(O,Math.round(O),D/1e3)?O=Math.round(O):O=Math.ceil(O));const B=Math.max(GS(D),GS(I));E=Math.pow(10,tt(c)?B:c),I=Math.round(I*E)/E,P=Math.round(P*E)/E;let A=0;for(k&&(g&&I!==s?(t.push({value:s}),I<s&&A++,rc(Math.round((I+A*D)*E)/E,s,Zk(s,T,n))&&A++):I<s&&A++);A<O;++A){const L=Math.round((I+A*D)*E)/E;if(C&&L>a)break;t.push({value:L})}return C&&g&&P!==a?t.length&&rc(t[t.length-1].value,a,Zk(a,T,n))?t[t.length-1].value=a:t.push({value:a}):(!C||P===a)&&t.push({value:P}),t}function Zk(n,e,{horizontal:t,minRotation:r}){const i=hi(r),o=(t?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+n).length;return Math.min(e/o,s)}class Hh extends Fs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return tt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const s=c=>i=t?i:c,a=c=>o=r?o:c;if(e){const c=Ii(i),h=Ii(o);c<0&&h<0?a(0):c>0&&h>0&&s(0)}if(i===o){let c=o===0?1:Math.abs(o*.05);a(o+c),e||s(i-c)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,s=$6(i,o);return e.bounds==="ticks"&&sj(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Wc(e,this.chart.options.locale,this.options.ticks.format)}}class by extends Hh{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Gt(e)?e:0,this.max=Gt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=hi(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ce(by,"id","linear"),Ce(by,"defaults",{ticks:{callback:jf.formatters.numeric}});const kc=n=>Math.floor(Ao(n)),vs=(n,e)=>Math.pow(10,kc(n)+e);function eE(n){return n/Math.pow(10,kc(n))===1}function tE(n,e,t){const r=Math.pow(10,t),i=Math.floor(n/r);return Math.ceil(e/r)-i}function W6(n,e){const t=e-n;let r=kc(t);for(;tE(n,e,r)>10;)r++;for(;tE(n,e,r)<10;)r--;return Math.min(r,kc(n))}function V6(n,{min:e,max:t}){e=Tr(n.min,e);const r=[],i=kc(e);let o=W6(e,t),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),c=i>o?Math.pow(10,i):0,h=Math.round((e-c)*s)/s,f=Math.floor((e-c)/a/10)*a*10;let p=Math.floor((h-f)/Math.pow(10,o)),g=Tr(n.min,Math.round((c+f+p*Math.pow(10,o))*s)/s);for(;g<t;)r.push({value:g,major:eE(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(o++,p=2,s=o>=0?1:s),g=Math.round((c+f+p*Math.pow(10,o))*s)/s;const v=Tr(n.max,g);return r.push({value:v,major:eE(v),significand:p}),r}class xy extends Fs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=Hh.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return Gt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Gt(e)?Math.max(0,e):null,this.max=Gt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Gt(this._userMin)&&(this.min=e===vs(this.min,0)?vs(this.min,-1):vs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,i=this.max;const o=a=>r=e?r:a,s=a=>i=t?i:a;r===i&&(r<=0?(o(1),s(10)):(o(vs(r,-1)),s(vs(i,1)))),r<=0&&o(vs(i,-1)),i<=0&&s(vs(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},r=V6(t,this);return e.bounds==="ticks"&&sj(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Wc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ao(e),this._valueRange=Ao(this.max)-Ao(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ao(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Ce(xy,"id","logarithmic"),Ce(xy,"defaults",{ticks:{callback:jf.formatters.logarithmic,major:{enabled:!0}}});function wy(n){const e=n.ticks;if(e.display&&n.display){const t=Hn(e.backdropPadding);return Ge(e.font&&e.font.size,Lt.font.size)+t.height}return 0}function q6(n,e,t){return t=At(t)?t:[t],{w:Q3(n,e.string,t),h:t.length*e.lineHeight}}function nE(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function Y6(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?ut/o:0;for(let c=0;c<o;c++){const h=s.setContext(n.getPointLabelContext(c));i[c]=h.padding;const f=n.getPointPosition(c,n.drawingArea+i[c],a),p=hn(h.font),g=q6(n.ctx,p,n._pointLabels[c]);r[c]=g;const v=Ln(n.getIndexAngle(c)+a),b=Math.round(cb(v)),x=nE(b,f.x,g.w,0,180),w=nE(b,f.y,g.h,90,270);G6(t,e,v,x,w)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=J6(n,r,i)}function G6(n,e,t,r,i){const o=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t));let a=0,c=0;r.start<e.l?(a=(e.l-r.start)/o,n.l=Math.min(n.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/o,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/s,n.t=Math.min(n.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/s,n.b=Math.max(n.b,e.b+c))}function X6(n,e,t){const r=n.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=t,c=n.getPointPosition(e,r+i+s,o),h=Math.round(cb(Ln(c.angle+en))),f=eH(c.y,a.h,h),p=Q6(h),g=Z6(c.x,a.w,p);return{visible:!0,x:c.x,y:f,textAlign:p,left:g,top:f,right:g+a.w,bottom:f+a.h}}function K6(n,e){if(!e)return!0;const{left:t,top:r,right:i,bottom:o}=n;return!(io({x:t,y:r},e)||io({x:t,y:o},e)||io({x:i,y:r},e)||io({x:i,y:o},e))}function J6(n,e,t){const r=[],i=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:wy(o)/2,additionalAngle:s?ut/i:0};let h;for(let f=0;f<i;f++){c.padding=t[f],c.size=e[f];const p=X6(n,f,c);r.push(p),a==="auto"&&(p.visible=K6(p,h),p.visible&&(h=p))}return r}function Q6(n){return n===0||n===180?"center":n<180?"left":"right"}function Z6(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function eH(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function tH(n,e,t){const{left:r,top:i,right:o,bottom:s}=t,{backdropColor:a}=e;if(!tt(a)){const c=Ds(e.borderRadius),h=Hn(e.backdropPadding);n.fillStyle=a;const f=r-h.left,p=i-h.top,g=o-r+h.width,v=s-i+h.height;Object.values(c).some(b=>b!==0)?(n.beginPath(),wc(n,{x:f,y:p,w:g,h:v,radius:c}),n.fill()):n.fillRect(f,p,g,v)}}function nH(n,e){const{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){const o=n._pointLabelItems[i];if(!o.visible)continue;const s=r.setContext(n.getPointLabelContext(i));tH(t,s,o);const a=hn(s.font),{x:c,y:h,textAlign:f}=o;Ns(t,n._pointLabels[i],c,h+a.lineHeight/2,a,{color:s.color,textAlign:f,textBaseline:"middle"})}}function Jj(n,e,t,r){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,Mt);else{let o=n.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let s=1;s<r;s++)o=n.getPointPosition(s,e),i.lineTo(o.x,o.y)}}function rH(n,e,t,r,i){const o=n.ctx,s=e.circular,{color:a,lineWidth:c}=e;!s&&!r||!a||!c||t<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),Jj(n,t,s,r),o.closePath(),o.stroke(),o.restore())}function iH(n,e,t){return Ko(n,{label:t,index:e,type:"pointLabel"})}class Jl extends Hh{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Hn(wy(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Gt(e)&&!isNaN(e)?e:0,this.max=Gt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wy(this.options))}generateTickLabels(e){Hh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const i=Ct(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Y6(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){const t=Mt/(this._pointLabels.length||1),r=this.options.startAngle||0;return Ln(e*t+hi(r))}getDistanceFromCenterForValue(e){if(tt(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(tt(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return iH(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const i=this.getIndexAngle(e)-en+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:i,bottom:o}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),Jj(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:i,border:o}=t,s=this._pointLabels.length;let a,c,h;if(t.pointLabels.display&&nH(this,s),i.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){c=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(p),v=i.setContext(g),b=o.setContext(g);rH(this,v,c,s,b)}}),r.display){for(e.save(),a=s-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=f;!g||!p||(e.lineWidth=g,e.strokeStyle=p,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),h=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const h=r.setContext(this.getContext(c)),f=hn(h.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),h.showLabelBackdrop){e.font=f.string,s=e.measureText(a.label).width,e.fillStyle=h.backdropColor;const p=Hn(h.backdropPadding);e.fillRect(-s/2-p.left,-o-f.size/2-p.top,s+p.width,f.size+p.height)}Ns(e,a.label,0,-o,f,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}}Ce(Jl,"id","radialLinear"),Ce(Jl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:jf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Ce(Jl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ce(Jl,"descriptors",{angleLines:{_fallback:"grid"}});const Nf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pr=Object.keys(Nf);function rE(n,e){return n-e}function iE(n,e){if(tt(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts;let s=e;return typeof r=="function"&&(s=r(s)),Gt(s)||(s=typeof r=="string"?t.parse(s,r):t.parse(s)),s===null?null:(i&&(s=i==="week"&&(ka(o)||o===!0)?t.startOf(s,"isoWeek",o):t.startOf(s,i)),+s)}function oE(n,e,t,r){const i=pr.length;for(let o=pr.indexOf(n);o<i-1;++o){const s=Nf[pr[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-e)/(a*s.size))<=r)return pr[o]}return pr[i-1]}function oH(n,e,t,r,i){for(let o=pr.length-1;o>=pr.indexOf(t);o--){const s=pr[o];if(Nf[s].common&&n._adapter.diff(i,r,s)>=e-1)return s}return pr[t?pr.indexOf(t):0]}function sH(n){for(let e=pr.indexOf(n)+1,t=pr.length;e<t;++e)if(Nf[pr[e]].common)return pr[e]}function sE(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=ub(t,e),o=t[r]>=e?t[r]:t[i];n[o]=!0}}function aH(n,e,t,r){const i=n._adapter,o=+i.startOf(e[0].value,r),s=e[e.length-1].value;let a,c;for(a=o;a<=s;a=+i.add(a,1,r))c=t[a],c>=0&&(e[c].major=!0);return e}function aE(n,e,t){const r=[],i={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],i[a]=s,r.push({value:a,major:!1});return o===0||!t?r:aH(n,r,i,t)}class Ec extends Fs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new m4._date(e.adapters.date);i.init(t),nc(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:iE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:s,maxDefined:a}=this.getUserBounds();function c(h){!s&&!isNaN(h.min)&&(i=Math.min(i,h.min)),!a&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!s||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=Gt(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),o=Gt(o)&&!isNaN(o)?o:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,s=this.max,a=F3(i,o,s);return this._unit=t.unit||(r.autoSkip?oE(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):oH(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:sH(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),aE(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;t=yn(t,0,s),r=yn(r,0,s),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,o=i.time,s=o.unit||oE(o.minUnit,t,r,this._getLabelCapacity(t)),a=Ge(i.ticks.stepSize,1),c=s==="week"?o.isoWeekday:!1,h=ka(c)||c===!0,f={};let p=t,g,v;if(h&&(p=+e.startOf(p,"isoWeek",c)),p=+e.startOf(p,h?"day":s),e.diff(r,t,s)>1e5*a)throw new Error(t+" and "+r+" are too far apart with stepSize of "+a+" "+s);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,v=0;g<r;g=+e.add(g,a,s),v++)sE(f,g,b);return(g===r||i.bounds==="ticks"||v===1)&&sE(f,g,b),Object.keys(f).sort(rE).map(x=>+x)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,o=this._unit,s=t||i[o];return this._adapter.format(e,s)}_tickFormatFunction(e,t,r,i){const o=this.options,s=o.ticks.callback;if(s)return Ct(s,[e,t,r],this);const a=o.time.displayFormats,c=this._unit,h=this._majorUnit,f=c&&a[c],p=h&&a[h],g=r[t],v=h&&p&&g&&g.major;return this._adapter.format(e,i||(v?p:f))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=hi(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),s=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*o+a*s,h:r*s+a*o}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,o=this._tickFormatFunction(e,0,aE(this,[e],this._majorUnit),i),s=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(iE(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return cj(e.sort(rE))}}Ce(Ec,"id","time"),Ce(Ec,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fd(n,e,t){let r=0,i=n.length-1,o,s,a,c;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=ro(n,"pos",e)),{pos:o,time:a}=n[r],{pos:s,time:c}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=ro(n,"time",e)),{time:o,pos:a}=n[r],{time:s,pos:c}=n[i]);const h=s-o;return h?a+(c-a)*(e-o)/h:a}class Sy extends Ec{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Fd(t,this.min),this._tableRange=Fd(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],o=[];let s,a,c,h,f;for(s=0,a=e.length;s<a;++s)h=e[s],h>=t&&h<=r&&i.push(h);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)f=i[s+1],c=i[s-1],h=i[s],Math.round((f+c)/2)!==h&&o.push({time:h,pos:s/(a-1)});return o}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Fd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Fd(this._table,r*this._tableRange+this._minPos,!0)}}Ce(Sy,"id","timeseries"),Ce(Sy,"defaults",Ec.defaults);var lH=Object.freeze({__proto__:null,CategoryScale:yy,LinearScale:by,LogarithmicScale:xy,RadialLinearScale:Jl,TimeScale:Ec,TimeSeriesScale:Sy});const cH=[p4,W5,F6,lH];Mi.register(...cH);const uH=()=>{const n=j.useRef(null),e=j.useRef(null),[t,r]=j.useState(document.body.classList.contains("dark-mode"));return j.useEffect(()=>{var f,p;const i=(f=n.current)==null?void 0:f.getContext("2d"),o=(p=e.current)==null?void 0:p.getContext("2d");if(!i||!o)return;const s=new Mi(i,{type:"doughnut",data:{labels:["A 부서","B 부서","C 부서","D 부서"],datasets:[{data:[15,9,15,1],backgroundColor:["#4e73df","#f6c23e","#36b9cc","#e74a3b"]}]},options:{plugins:{legend:{position:"bottom",labels:{color:t?"#f0f0f0":"#333"}}}}}),a=new Mi(o,{type:"bar",data:{labels:["출근","무단결근","휴가","연차"],datasets:[{label:"사용자 수",data:[1,30,9,1],backgroundColor:["#4e73df","#e74a3b","#36b9cc","#f6c23e"]}]},options:{scales:{y:{beginAtZero:!0,ticks:{color:t?"#f0f0f0":"#333"},grid:{color:t?"#555":"#ddd"}},x:{ticks:{color:t?"#f0f0f0":"#333"},grid:{color:t?"#555":"#ddd"}}},plugins:{legend:{display:!1,labels:{color:t?"#f0f0f0":"#333"}}}}}),c=document.getElementById("darkModeToggle"),h=()=>{r(document.body.classList.contains("dark-mode"))};return c==null||c.addEventListener("change",h),()=>{c==null||c.removeEventListener("change",h),s.destroy(),a.destroy()}},[t]),d.jsx("div",{className:"topArea",children:d.jsxs("div",{className:"mainProfile",children:[d.jsx("div",{className:"Title",children:d.jsx("h3",{children:"Company Name"})}),d.jsxs("div",{className:"infoArea",children:[d.jsx("div",{className:"chartBox",children:d.jsx("canvas",{id:"departmentChart",ref:n})}),d.jsx("div",{className:"chartBox",children:d.jsx("canvas",{id:"userStatusChart",ref:e})})]})]})})},dH=()=>d.jsx("div",{className:"midArea",children:d.jsxs("div",{className:"memberShipArea",children:[d.jsx("div",{className:"titleArea",children:d.jsx("h3",{children:"활성화된 멤버쉽"})}),d.jsx("div",{className:"memberShip"})]})}),hH=()=>d.jsxs("div",{className:"bottomArea",children:[d.jsxs("div",{className:"boardArea",children:[d.jsx("h3",{children:"게시판"}),d.jsx("div",{className:"boardList",children:d.jsx("table",{children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("th",{children:"제목"}),d.jsx("th",{children:"내용"}),d.jsx("th",{children:"작성자"}),d.jsx("th",{children:"작성일"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"제목"}),d.jsx("td",{children:"내용"}),d.jsx("td",{children:"작성자"}),d.jsx("td",{children:"작성일"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"제목"}),d.jsx("td",{children:"내용"}),d.jsx("td",{children:"작성자"}),d.jsx("td",{children:"작성일"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"제목"}),d.jsx("td",{children:"내용"}),d.jsx("td",{children:"작성자"}),d.jsx("td",{children:"작성일"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"제목"}),d.jsx("td",{children:"내용"}),d.jsx("td",{children:"작성자"}),d.jsx("td",{children:"작성일"})]})]})})})]}),d.jsxs("div",{className:"boardArea",children:[d.jsx("h3",{children:"게시판"}),d.jsx("div",{className:"boardList",children:d.jsx("table",{children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("th",{children:"제목"}),d.jsx("th",{children:"내용"}),d.jsx("th",{children:"작성자"}),d.jsx("th",{children:"작성일"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"제목"}),d.jsx("td",{children:"내용"}),d.jsx("td",{children:"작성자"}),d.jsx("td",{children:"작성일"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"제목"}),d.jsx("td",{children:"내용"}),d.jsx("td",{children:"작성자"}),d.jsx("td",{children:"작성일"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"제목"}),d.jsx("td",{children:"내용"}),d.jsx("td",{children:"작성자"}),d.jsx("td",{children:"작성일"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"제목"}),d.jsx("td",{children:"내용"}),d.jsx("td",{children:"작성자"}),d.jsx("td",{children:"작성일"})]})]})})})]})]}),fH=()=>d.jsx("div",{id:"AdminMain",children:d.jsxs(sn,{children:[d.jsx(Tf,{}),d.jsxs("div",{className:"contentArea",children:[d.jsx(uH,{}),d.jsx(dH,{}),d.jsx(hH,{})]})]})}),Na=({title:n})=>d.jsx("div",{className:"topArea",children:d.jsx("div",{className:"Title",children:d.jsx("h3",{children:n})})}),pH=({onClose:n})=>{const{company:e}=$t(),[t,r]=j.useState(""),[i,o]=j.useState(""),[s,a]=j.useState(""),[c,h]=j.useState(""),[f,p]=j.useState(),[g,v]=j.useState(),[b,x]=j.useState(!1),[w,k]=j.useState([]);if(j.useEffect(()=>{if(!e)return;const P=e.split(":")[0];console.log("cno 추출됨:",P),_e.get(hL.DEPARTMENT.LIST(P)).then(O=>k(O.data)).catch(O=>{console.error("부서 목록 불러오기 실패",O),k([])})},[e]),j.useRef(null),!e)return null;const C=e.split(":")[1];e.split(":")[0];const M=P=>{const O=P.target.value;r(O),console.log(O),console.log(w);const B=w.map(A=>A.departmentName);console.log(B),B.includes(O.trim())?p(""):p("등록하시면 부서가 만들어집니다.")},T=P=>{const O=P.target.value;o(O),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O)?(v(""),(async()=>{try{await ib(O)?(v("중복된 이메일입니다."),x(!1)):(v(""),x(!0))}catch(L){console.error(L)}})()):v("이메일 형식이 올바르지 않습니다.")},D=P=>a(P.target.value),E=P=>h(P.target.value),I=async()=>{if(!b){alert("양식이 맞지 않습니다.");return}if(!C.trim()||!t.trim()||!s.trim()||!c.trim()||!i.trim()){alert("모든 항목을 빠짐없이 입력해주세요.");return}const P={inviteCode:0,companyName:C,department:t,position:s,name:c,email:i,cno:e.split(":")[0]};try{const O=await _e.post(dL,P,{headers:{"Content-Type":"application/json"},withCredentials:!0});alert("초대가 완료되었습니다."),n()}catch(O){console.error("초대 실패",O),alert("초대에 실패했습니다.")}};return d.jsxs("div",{className:"modalContent",style:{whiteSpace:"normal"},children:[d.jsx("h3",{children:"사원 초대"}),d.jsx("input",{type:"text",placeholder:"회사명 입력",readOnly:!0,value:C}),d.jsx("input",{type:"text",placeholder:"부서 입력",value:t,onChange:M}),d.jsx("p",{}),d.jsx("span",{style:{color:"red"},children:f}),d.jsx("input",{type:"text",placeholder:"직책 입력",value:s,onChange:D}),d.jsx("input",{type:"text",placeholder:"성명 입력",value:c,onChange:E}),d.jsx("input",{type:"text",placeholder:"이메일 입력",value:i,onChange:T}),d.jsx("p",{}),d.jsx("span",{style:{color:"red"},children:g}),d.jsxs("div",{className:"modalButtons",children:[d.jsx("button",{type:"button",id:"inviteConfirmBtn",onClick:I,children:"초대"}),d.jsx("button",{type:"button",id:"inviteCancelBtn",onClick:n,children:"취소"})]})]})},mH=()=>{const n=j.useRef(null),e=j.useRef(null),[t]=j.useState([...Array(100)].map((v,b)=>({name:`정상수${b+1}`,email:`email${b}@test.com`,phone:`010-0000-${b.toString().padStart(4,"0")}`,dept:"Backend",position:"Manager"}))),r=7,[i,o]=j.useState(0),s=Math.ceil(t.length/r),[a,c]=j.useState(!1),h=t.slice(i*r,i*r+r);j.useEffect(()=>{const v=b=>{b.key==="Escape"&&n.current&&(n.current.style.display="none")};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]);const f=()=>{n.current&&(n.current.style.display="flex")},p=()=>{n.current&&(n.current.style.display="none")};j.useEffect(()=>{let v=!1;const b=w=>{v||(v=!0,setTimeout(()=>{v=!1},150),w.deltaY>0?(i+1)*r<t.length&&o(k=>k+1):i>0&&o(k=>k-1))},x=e.current;return x&&x.addEventListener("wheel",b),()=>{x&&x.removeEventListener("wheel",b)}},[i,t.length]);const g=v=>{c(v.target.checked)};return d.jsxs("div",{className:"midArea",children:[d.jsxs("div",{className:"plusBtn",children:[d.jsxs("div",{className:"searchArea",children:[d.jsxs("select",{children:[d.jsx("option",{value:"#",children:"Select one"}),d.jsx("option",{value:"#",children:"Name"}),d.jsx("option",{value:"#",children:"Email"}),d.jsx("option",{value:"#",children:"Phone"}),d.jsx("option",{value:"#",children:"Department"}),d.jsx("option",{value:"#",children:"Position"})]}),d.jsx("input",{type:"text",placeholder:"검색어 입력"}),d.jsx("button",{type:"button",children:"검색"})]}),d.jsxs("button",{type:"button",onClick:f,children:[d.jsx("img",{src:"/images/user-add.svg",alt:"useradd"})," 사원 초대"]}),d.jsx("div",{className:"modalOverlay",ref:n,style:{display:"none"},children:d.jsx(pH,{onClose:p})})]}),d.jsx("div",{className:"listArea",id:"tableContainer",ref:e,children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:d.jsx("input",{type:"checkbox",id:"checkAll",checked:a,onChange:g})}),d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Email"}),d.jsx("th",{children:"Phone Number"}),d.jsx("th",{children:"Department"}),d.jsx("th",{children:"Position"})]})}),d.jsx("tbody",{children:h.map((v,b)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("input",{type:"checkbox",className:"rowCheckbox",checked:a,readOnly:!0})}),d.jsx("td",{children:d.jsxs("div",{children:[d.jsx("img",{src:"/images/user.png",alt:"유저"}),d.jsx("span",{children:v.name})]})}),d.jsx("td",{children:v.email}),d.jsx("td",{children:v.phone}),d.jsx("td",{children:d.jsxs("select",{children:[d.jsx("option",{children:v.dept}),d.jsx("option",{children:v.dept}),d.jsx("option",{children:v.dept})]})}),d.jsx("td",{children:d.jsxs("select",{children:[d.jsx("option",{children:v.position}),d.jsx("option",{children:v.position}),d.jsx("option",{children:v.position})]})})]},b))})]})}),d.jsx("div",{className:"bottomArea",children:d.jsxs("div",{className:"btnArea",children:[d.jsx("div",{children:d.jsx("button",{className:"deleteBtn",children:"삭제하기"})}),d.jsx("div",{className:"pgbtn",children:d.jsx("div",{className:"pgArea",children:Array.from({length:s}).map((v,b)=>d.jsx("button",{className:`pg ${b===i?"active":""}`,onClick:()=>o(b)},b))})}),d.jsx("div",{children:d.jsx("button",{className:"modifyBtn",children:"수정하기"})})]})})]})},gH=()=>d.jsx("div",{id:"AdminEmployee",children:d.jsxs(sn,{children:[d.jsx(Tf,{}),d.jsxs("div",{className:"contentArea",children:[d.jsx(Na,{title:"Employee Management"}),d.jsx(mH,{})]})]})}),vH=()=>{const[n,e]=j.useState(!1),t=j.useRef(null);j.useEffect(()=>{const o=s=>{s.key==="Escape"&&e(!1)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]);const r=()=>e(!0),i=()=>e(!1);return d.jsxs("div",{className:"midArea",children:[d.jsx("div",{className:"memberShipArea",children:["Basic","Standard","Premium"].map((o,s)=>d.jsxs("div",{className:"GetStarted",id:o.toLowerCase(),children:[d.jsx("h3",{children:o}),d.jsxs("p",{children:[["소규모","대부분","대규모"][s]," 조직을 위한 플랜"]}),d.jsx("del",{children:["12,900","24,900","42,000"][s]}),d.jsx("h4",{children:["9,900","19,900","34,900"][s]}),d.jsxs("p",{children:[o," - ₩",["9,900","19,900","34,900"][s]," /월"]}),d.jsx("button",{type:"button",className:"openInviteModalBtn",onClick:r,children:"Get Started"}),d.jsx("div",{className:"explanation",children:d.jsxs("span",{children:[d.jsx("img",{src:"/images/Check.svg",alt:"check"}),"플랜 기능 설명"]})})]},s))}),n&&d.jsx("div",{className:"modalOverlay",ref:t,style:{display:"flex"},children:d.jsxs("div",{className:"modalContent",children:[d.jsx("h3",{className:"modalinfo",children:"결제 정보"}),d.jsxs("div",{className:"inside",children:[d.jsxs("div",{className:"leftside",children:[d.jsxs("select",{children:[d.jsx("option",{children:"VISA"}),d.jsx("option",{children:"PayPal"}),d.jsx("option",{children:"Master"})]}),d.jsxs("div",{className:"cardnum",children:[d.jsx("h3",{children:"Card number"}),d.jsx("input",{type:"text"}),d.jsx("input",{type:"text"}),d.jsx("input",{type:"text"}),d.jsx("input",{type:"text"})]}),d.jsxs("div",{className:"cardnum",children:[d.jsx("h3",{children:"Expriy date"}),d.jsx("input",{type:"text",placeholder:"MM/YY"})]}),d.jsxs("div",{className:"cardnum",children:[d.jsx("h3",{children:"CVC"}),d.jsx("input",{type:"text",placeholder:"CVC"})]}),d.jsxs("div",{className:"cardnum",children:[d.jsx("h3",{children:"Card password"}),d.jsx("input",{type:"text",placeholder:"Password"})]})]}),d.jsxs("div",{className:"rightside",children:[d.jsx("span",{children:"Product Name"}),d.jsx("h3",{children:"Standard 구매"}),d.jsx("span",{children:"Payment amount"}),d.jsx("h3",{children:"₩ 9,900"})]})]}),d.jsxs("div",{className:"modalButtons",children:[d.jsx("button",{id:"inviteConfirmBtn",children:"결제"}),d.jsx("button",{id:"inviteCancelBtn",onClick:i,children:"취소"})]})]})})]})},yH=()=>d.jsx("div",{id:"AdminMembership",children:d.jsxs(sn,{children:[d.jsx(Tf,{}),d.jsxs("div",{className:"contentArea",children:[d.jsx(Na,{title:"Membership"}),d.jsx(vH,{})]})]})}),bH=()=>{const n=[...Array(100)].map((a,c)=>({day:"2025-05-29",method:"신용카드",amount:"34,900",rating:"Premium",status:"정상"})),e=9,[t,r]=j.useState(0),i=j.useRef(null),o=Math.ceil(n.length/e),s=n.slice(t*e,t*e+e);return j.useEffect(()=>{let a=!1;const c=f=>{a||(a=!0,setTimeout(()=>{a=!1},150),f.deltaY>0?(t+1)*e<n.length&&r(p=>p+1):t>0&&r(p=>p-1))},h=i.current;return h&&h.addEventListener("wheel",c),()=>{h&&h.removeEventListener("wheel",c)}},[t,n.length]),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"midArea",children:d.jsx("div",{className:"listArea",id:"tableContainer",ref:i,children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"결제일"}),d.jsx("th",{children:"결제수단"}),d.jsx("th",{children:"결제 금액"}),d.jsx("th",{children:"등급"}),d.jsx("th",{children:"청구 상태"})]})}),d.jsx("tbody",{children:s.map((a,c)=>d.jsxs("tr",{children:[d.jsx("td",{children:a.day}),d.jsx("td",{children:a.method}),d.jsx("td",{children:a.amount}),d.jsx("td",{children:a.rating}),d.jsx("td",{children:a.status})]},c))})]})})}),d.jsx("div",{className:"bottomArea",children:d.jsx("div",{className:"btnArea",children:d.jsx("div",{className:"pgbtn",children:d.jsx("div",{className:"pgArea",children:Array.from({length:o}).map((a,c)=>d.jsx("button",{className:`pg ${c===t?"active":""}`,onClick:()=>r(c)},c))})})})})]})},xH=()=>d.jsx("div",{id:"AdminPayment",children:d.jsxs(sn,{children:[d.jsx(Tf,{}),d.jsxs("div",{className:"contentArea",children:[d.jsx(Na,{title:"Payment deatails"}),d.jsx(bH,{})]})]})}),lE=async n=>{try{return(await _e.get(`${_f}/${n}`,{withCredentials:!0})).data}catch(e){console.log(e)}},cE=async n=>{try{return(await _e.post(`${_f}`,n,{headers:{"Content-Type":"application/json"},withCredentials:!0})).data}catch(e){throw console.error("일정 저장 실패",e),e}},wH=async n=>{try{return(await _e.delete(`${_f}/${n}`,{withCredentials:!0})).data}catch(e){throw console.error("일정 삭제 실패",e),e}},SH=async(n,e)=>{try{return(await _e.put(`${_f}/${n}`,e,{headers:{"Content-Type":"application/json"},withCredentials:!0})).data}catch(t){throw console.error("일정 수정 실패",t),t}},kH=()=>[vr().pathname.includes("public")?"public":"my"],EH=()=>{const{username:n,nick:e,company:t}=$t(),[r,i]=j.useState("나의 캘린더"),[o]=kH();j.useEffect(()=>{i(o!=="public"?"마이 캘린더":"소셜 캘린더")},[o]),console.log("유저 아이디 : "+n),console.log("유저 이름 : "+e),console.log("회사 이름 : "+t);const[s,a]=j.useState(new Date().getFullYear()),[c,h]=j.useState(new Date().getMonth()+1),[f,p]=j.useState([]),[g,v]=j.useState(null),[b,x]=j.useState(!1),w=j.useRef(null);j.useEffect(()=>{k(s,c)},[f,s,c]),j.useEffect(()=>{const q=Y=>{Y.key==="Escape"&&(A(),x(!1),v(null))};return window.addEventListener("keydown",q),()=>{window.removeEventListener("keydown",q)}},[]),j.useEffect(()=>{i(o!=="public"?"마이 캘린더":"소셜 캘린더")},[o]),j.useEffect(()=>{(async()=>{try{const Y=await lE(o);p(Y);const re=new Date().toISOString().split("T")[0],le=Y.filter(W=>W.start<=re&&W.end>=re);if(le.length>0){const W=le.map(Z=>`• ${Z.title}`).join(`
`);alert(`📌 오늘 일정이 ${le.length}건 있습니다:
${W}`)}}catch(Y){console.error("일정 불러오기 실패",Y)}})()},[o]),j.useEffect(()=>{k(s,c)},[f,s,c]),j.useEffect(()=>{b&&Q.current&&oe.current&&(Rt(Q.current,{dateFormat:"Y-m-d"}),Rt(oe.current,{dateFormat:"Y-m-d"}))},[b]),j.useEffect(()=>{const q=Y=>{Y.key==="Escape"&&L()};return window.addEventListener("keydown",q),()=>{window.removeEventListener("keydown",q)}},[]),j.useEffect(()=>{(async()=>{try{const Y=await lE(o);p(Y),console.log(Y)}catch(Y){console.error("일정 불러오기 실패.",Y)}})()},[o]);const k=(q,Y)=>{if(!w.current)return;const re=w.current,le=new Date(q,Y-1,1).getDay(),W=new Date(q,Y,0).getDate(),Z=new Date(q,Y-1,0).getDate(),pe={},be={};re.innerHTML="";let ke=1;for(let me=0;me<6;me++){const Ie=document.createElement("tr");for(let we=0;we<7;we++){const Pe=document.createElement("td"),Ke=me*7+we-le;if(Ke<0)Pe.innerText=Z+Ke+1,Pe.classList.add("dim");else if(Ke>=W)Pe.innerText=ke++,Pe.classList.add("dim");else{const at=Ke+1,wt=`${q}-${String(Y).padStart(2,"0")}-${String(at).padStart(2,"0")}`;Pe.innerText=at,pe[wt]=Pe,be[wt]=0,Pe.onclick=lt=>C(wt,lt)}Ie.appendChild(Pe)}re.appendChild(Ie)}f.forEach(me=>{const Ie=new Date(me.start),we=new Date(me.end),Pe=Math.floor((we-Ie)/(1e3*60*60*24))+1;for(let Ee=0;Ee<Pe;Ee++){const Ke=new Date(Ie);Ke.setDate(Ie.getDate()+Ee);const at=Ke.toISOString().split("T")[0],wt=pe[at];if(!wt)continue;const lt=be[at]++,_t=document.createElement("div");_t.className="event",_t.textContent=Ee===0?me.title:"",_t.style.backgroundColor=me.color,me.note&&(_t.title=me.note),Object.assign(_t.style,{position:"absolute",left:"0",top:`${20+lt*24}px`,height:"20px",borderRadius:"1px",paddingLeft:"1px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"14px",textAlign:"center",width:"100%",zIndex:1}),wt.style.position="relative",_t.onclick=an=>{an.stopPropagation(),B(me)},wt.appendChild(_t)}})},C=(q,Y)=>{const re=document.getElementById("schedule-modal"),le=document.getElementById("modal-title"),W=document.getElementById("modal-date");if(!(!re||!le||!W)){if(W.value=q,le.value="",Y){const be=Y.target.getBoundingClientRect();let ke=be.left+window.scrollX-480,me=be.top+window.scrollY-220+140;ke+300>window.innerWidth+window.scrollX&&(ke=window.innerWidth+window.scrollX-300-10),me<window.scrollY+10&&(me=be.bottom+window.scrollY+10),ke=Math.max(1,Math.min(ke,window.innerWidth-300-10)),me=Math.max(10,Math.min(me,window.innerHeight-220-10)),re.style.left=`${ke}px`,re.style.top=`${me}px`}else re.style.left="calc(50% - 150px)",re.style.top="calc(50% - 110px)";re.style.display="block",setTimeout(()=>{le.focus()},100)}},M=async()=>{const q=document.getElementById("modal-date").value,Y=document.getElementById("modal-title").value;if(!Y)return alert("일정 제목을 입력하세요.");const re=O(),le=t.split(":")[0],W={start:q,end:q,title:Y,color:re,place:"",member:"",note:"",company:le,cate:o};try{const Z=await cE(W);p(pe=>[...pe,Z]),A()}catch{alert("일정 저장에 실패했습니다.")}},T=async()=>{const q=document.getElementById("detail-title").value,Y=document.getElementById("start-date").value,re=document.getElementById("end-date").value,le=document.getElementById("place").value,W=document.getElementById("member").value,Z=document.getElementById("detail-note").value,pe=t.split(":")[0];if(!q||!Y||!re)return alert("모든 항목을 입력하세요.");const be=(g==null?void 0:g.color)||O(),ke={title:q,start:Y,end:re,place:le,member:W,note:Z,color:be,company:pe,cate:o};try{if(D&&(g!=null&&g.id)){const me=await SH(g.id,ke);p(Ie=>Ie.map(we=>we.id===g.id?me:we))}else{console.log(ke+": 업데이터 캘린더");const me=await cE(ke);p([...f,me])}x(!1),E(!1),v(null)}catch(me){alert("일정 저장에 실패했습니다."),console.error(me)}},[D,E]=j.useState(!1),I=()=>{g&&(L(),x(!0),E(!0),setTimeout(()=>{document.getElementById("detail-title").value=g.title,document.getElementById("start-date").value=g.start,document.getElementById("end-date").value=g.end,document.getElementById("place").value=g.place||"",document.getElementById("member").value=g.member||"",document.getElementById("detail-note").value=g.note||""},0))},P=async()=>{if(console.log(g+"스케줄"),console.log(g.id+"아이디"),!(!g||!g.id||!window.confirm("이 일정을 삭제하시겠습니까?")))try{await wH(g.id),p(Y=>Y.filter(re=>re.id!==g.id)),L()}catch{alert("일정 삭제에 실패했습니다.")}},O=()=>{const q=["#f6b3dc","#a1c4fd","#ffd59e","#c3f584","#c0aaff","#ffaaa5","#ffda77"];return q[Math.floor(Math.random()*q.length)]},B=q=>{v(q),document.getElementById("view-date").textContent=`${q.start} ~ ${q.end}`,document.getElementById("view-title").textContent=q.title,document.getElementById("view-place").textContent=q.place||"-",document.getElementById("view-member").textContent=q.member||"-",document.getElementById("view-note").textContent=q.note||"(메모 없음)",document.getElementById("view-schedule-modal").style.display="block"},A=()=>{const q=document.getElementById("schedule-modal");q&&(q.style.display="none",console.log("🔒 closeModal called"));const Y=document.getElementById("modal-title");Y&&(Y.value="");const re=document.getElementById("modal-date");re&&(re.value="")},L=()=>{document.getElementById("view-schedule-modal").style.display="none"},R=()=>{c===1?(h(12),a(q=>q-1)):h(q=>q-1)},V=()=>{c===12?(h(1),a(q=>q+1)):h(q=>q+1)},Q=j.useRef(null),oe=j.useRef(null);return j.useEffect(()=>{b&&Q.current&&oe.current&&(Rt(Q.current,{dateFormat:"Y-m-d"}),Rt(oe.current,{dateFormat:"Y-m-d"}))},[b]),d.jsxs("div",{className:"calendar-wrappers",style:{width:"100%"},children:[d.jsxs("div",{className:"calendar-header",children:[d.jsxs("div",{className:"hil",children:[d.jsx("div",{classNmae:"hil-name",style:{fontSize:"25px"},children:r}),d.jsx("div",{className:"hil-day",children:"일정을 클릭해서 등록하세요 🖋 "})]}),d.jsx("button",{onClick:R,children:"❮"}),d.jsx("span",{style:{padding:"0 50px",fontSize:"20px"},children:`${s}.${String(c).padStart(2,"0")}`}),d.jsx("button",{onClick:V,children:"❯"})]}),d.jsxs("table",{className:"calendar-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Sun"}),d.jsx("th",{children:"Mon"}),d.jsx("th",{children:"Tue"}),d.jsx("th",{children:"Wed"}),d.jsx("th",{children:"Thu"}),d.jsx("th",{children:"Fri"}),d.jsx("th",{children:"Sat"})]})}),d.jsx("tbody",{ref:w})]}),d.jsx("div",{id:"schedule-modal",className:"modal",onClick:A,children:d.jsxs("div",{className:"modal-content",onClick:q=>q.stopPropagation(),children:[d.jsx("span",{className:"close",onClick:A,children:"×"}),d.jsx("h3",{children:"간편 일정 등록"}),d.jsx("input",{type:"hidden",id:"modal-date"}),d.jsx("input",{type:"text",id:"modal-title",placeholder:"일정 제목 입력"}),d.jsx("button",{className:"calen",onClick:M,children:"등록하기"}),d.jsx("button",{className:"calen",onClick:()=>{A(),x(!0)},children:"세부일정등록"})]})}),d.jsxs("div",{id:"view-schedule-modal",className:"modal-view",style:{display:"none"},children:[d.jsxs("div",{className:"modal-content",children:[d.jsx("span",{className:"close",onClick:L,children:"×"}),d.jsx("h3",{style:{textAlign:"center"},children:"일정 상세 보기"}),d.jsxs("p",{children:[d.jsx("strong",{children:"날짜:"})," ",d.jsx("span",{id:"view-date"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"제목:"})," ",d.jsx("span",{id:"view-title"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"장소:"})," ",d.jsx("span",{id:"view-place"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"참석자:"})," ",d.jsx("span",{id:"view-member"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"메모:"})," ",d.jsx("span",{id:"view-note"})]})]}),d.jsxs("div",{className:"s_button",style:{padding:"20px",display:"flex",margin:"0 auto"},children:[d.jsx("button",{className:"calen",id:"edit-button",onClick:I,children:"수정하기"}),d.jsx("button",{className:"calen",id:"delete-button",onClick:P,children:"삭제하기"})]})]}),b&&d.jsx("div",{className:"detail-modal",onClick:()=>x(!1),children:d.jsxs("div",{className:"modal-contents",onClick:q=>q.stopPropagation(),children:[d.jsx("span",{className:"closes",onClick:()=>x(!1),children:"×"}),d.jsx("h3",{children:"세부일정 등록"}),d.jsx("label",{children:"일정 제목"}),d.jsx("input",{type:"text",id:"detail-title",className:"form-input",placeholder:"일정 제목"}),d.jsx("label",{children:"시작 날짜"}),d.jsx("input",{type:"text",id:"start-date",className:"form-input",ref:Q}),d.jsx("label",{children:"종료 날짜"}),d.jsx("input",{type:"text",id:"end-date",className:"form-input",ref:oe}),d.jsx("label",{children:"장소"}),d.jsx("input",{type:"text",id:"place",className:"form-input",placeholder:"장소"}),d.jsx("label",{children:"참석 인원"}),d.jsx("input",{type:"text",id:"member",className:"form-input",placeholder:"참석 인원"}),d.jsx("label",{children:"세부 일정"}),d.jsx("textarea",{id:"detail-note",rows:"3",placeholder:"추가 메모..."}),d.jsx("button",{className:"calen",onClick:T,children:"등록"})]})})]})},uE=()=>d.jsx("div",{className:"dashboardMainContent",id:"calendar",children:d.jsxs(sn,{children:[d.jsx(bi,{}),d.jsx("div",{className:"contentArea",children:d.jsx(EH,{})})]})});function CH({isOpen:n,onClose:e,onCreated:t,currentUserId:r,personalCount:i,groupCount:o}){const{username:s,company:a,membership:c}=$t(),[h,f]=j.useState("selectType"),[p,g]=j.useState(null),[v,b]=j.useState([]),[x,w]=j.useState([]),[k,C]=j.useState({});j.useEffect(()=>{n||(f("selectType"),g(null),b([]),w([]),C({}))},[n]),j.useEffect(()=>{n&&h==="invite"&&a&&_e.get(to.CHAT.USER_LIST(a)).then(P=>{const O=P.data.map(A=>({departmentName:A.departmentName,users:A.users.filter(L=>L.uid!==r).map(L=>({...L,departmentName:A.departmentName}))}));b(O),w([]);const B={};O.forEach(A=>{B[A.departmentName]=!1}),C(B)}).catch(console.error)},[n,h,r,a]);const M=P=>{if(P==="private"&&c==="free"&&i>=3){alert("무료 회원은 개인 채널을 3개까지만 생성할 수 있습니다.");return}if(P==="group"&&c==="free"&&o>=3){alert("무료 회원은 단체 채널을 3개까지만 생성할 수 있습니다.");return}g(P),f("invite")},T=P=>{if(p==="group"&&c==="free"&&x.length>=3){alert("무료 회원은 단체 채널에 최대 3명까지만 초대할 수 있습니다.");return}p==="private"&&x.length>=1||(w(O=>[...O,P]),b(O=>O.map(B=>B.departmentName===P.departmentName?{...B,users:B.users.filter(A=>A.uid!==P.uid)}:B)))},D=P=>{w(O=>O.filter(B=>B.uid!==P.uid)),b(O=>O.map(B=>B.departmentName===P.departmentName?{...B,users:[...B.users,P]}:B))},E=()=>{var B;const O={name:p==="private"?((B=x[0])==null?void 0:B.name)||"개인 채널":"단체 채널",description:p,participants:[r,...x.map(A=>A.uid)]};_e.post(to.CHAT.CREATE_ROOM,O).then(A=>{t(A.data),e()}).catch(()=>alert("채널 생성에 실패했습니다."))},I=P=>{C(O=>({...O,[P]:!O[P]}))};return n?d.jsx("div",{className:"modal-backdrop",onClick:e,children:d.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[d.jsx("button",{className:"modal-close",onClick:e,children:"✕"}),h==="selectType"?d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"modal-title",children:"채팅방 생성"}),d.jsxs("div",{className:"modal-options",children:[d.jsxs("div",{className:"card card--private",onClick:()=>M("private"),children:[d.jsxs("div",{className:"card-header",children:[d.jsx("span",{className:"card-icon",children:"👤"}),d.jsx("h3",{children:"개인 채널"})]}),d.jsxs("ul",{className:"card-list",children:[d.jsx("li",{children:"1:1로 대화를 나눌 수 있습니다."}),d.jsx("li",{children:"무료 회원은 3명까지만 DM이 가능합니다."}),d.jsx("li",{children:"유료 회원은 무제한으로 DM이 가능합니다."}),d.jsx("li",{children:"추가된 채널은 카테고리 메뉴에 표시됩니다."})]}),d.jsx("button",{className:"btn-primary",children:"대화방 생성"})]}),d.jsxs("div",{className:"card card--group card--popular",onClick:()=>M("group"),children:[d.jsx("div",{className:"badge",children:"Most Popular"}),d.jsxs("div",{className:"card-header",children:[d.jsx("span",{className:"card-icon",children:"👥"}),d.jsx("h3",{children:"단체 채널"})]}),d.jsxs("ul",{className:"card-list",children:[d.jsx("li",{children:"채널 생성자는 자동으로 관리자입니다."}),d.jsx("li",{children:"다른 회사의 사람도 초대할 수 있습니다."}),d.jsx("li",{children:"무료 회원은 최대 3명까지 초대 가능합니다."}),d.jsx("li",{children:"유료 회원은 무제한으로 초대 가능합니다."})]}),d.jsx("button",{className:"btn-primary",children:"대화방 생성"})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"modal-title",children:p==="private"?"개인 채널 - 상대 선택":"단체 채널 - 사용자 초대"}),d.jsxs("div",{className:"user-selectors",id:"userSelectors",children:[d.jsxs("div",{className:"available",children:[d.jsx("h3",{children:"초대 가능한 사용자"}),v.map(P=>P.users.length>0&&d.jsxs("div",{className:"department-group",children:[d.jsxs("h4",{onClick:()=>I(P.departmentName),style:{cursor:"pointer"},children:[P.departmentName,d.jsx("span",{style:{marginLeft:"10px"},children:k[P.departmentName]?"▼":"▶"})]}),k[P.departmentName]&&d.jsx("ul",{className:"user-list",children:P.users.map(O=>d.jsxs("li",{className:"user-item",children:[d.jsx("span",{onClick:()=>T(O),children:O.name}),d.jsx("button",{onClick:()=>T(O),children:"+"})]},O.uid))})]},P.departmentName))]}),d.jsxs("div",{className:"selected",children:[d.jsxs("h3",{children:["선택된 사용자 (",x.length,p==="private"?"/1":"",")"]}),d.jsx("ul",{className:"user-list",children:x.map(P=>d.jsxs("li",{className:"user-item",children:[d.jsx("span",{children:P.name}),d.jsx("button",{onClick:()=>D(P),children:"×"})]},P.uid))})]})]}),d.jsxs("div",{className:"actions",children:[d.jsx("button",{className:"btn-secondary",onClick:()=>f("selectType"),children:"뒤로"}),d.jsx("button",{className:"btn-primary",disabled:x.length<1,onClick:E,children:"만들기"})]})]})]})}):null}function _H({onSelectRoom:n,currentUserId:e}){const{username:t,nick:r,membership:i}=$t(),[o,s]=j.useState([]),[a,c]=j.useState(""),[h,f]=j.useState(0),[p,g]=j.useState(0);console.log("유저 정보 : "+t),console.log("이름 : "+r),console.log("등급 : "+i);const[v,b]=j.useState(!1);j.useEffect(()=>{console.log("이펙트"),t&&(console.log("userId UseEffect : "+t),_e.get(to.CHAT.ROOM_LIST(t)).then(E=>{const I=E.data;s(I);const P=I.filter(B=>B.description==="개인 채널").length,O=I.filter(B=>B.description==="단체 채널").length;f(P),g(O)}).catch(console.error))},[t]);const w=o.filter(E=>Array.isArray(E.participants)?E.participants.includes(e):!1).filter(E=>E.name.toLowerCase().includes(a.toLowerCase())),k=E=>{var I;return(I=E.lastMessage)!=null&&I.sentAt?new Date(E.lastMessage.sentAt):new Date(E.createdAt)},C=w.slice().sort((E,I)=>k(I)-k(E)),M=()=>b(!0),T=()=>b(!1),D=E=>{s(I=>[...I,E]),T(),n(E.id)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"topArea",children:[d.jsx("div",{className:"Title",children:d.jsxs("h3",{children:["안녕하세요, ",r,"님!"]})}),d.jsxs("div",{className:"controlBar",children:[d.jsx("input",{type:"text",placeholder:"채팅방 검색...",className:"searchInput",value:a,onChange:E=>c(E.target.value)}),d.jsx("button",{id:"createRoomBtn",className:"createBtn",onClick:M,children:"+ 새 채팅방 만들기"})]})]}),d.jsxs("div",{className:"categoryContainer",children:[C.map(E=>{console.log(E);const{id:I,name:P,description:O,lastMessage:B,unreadCount:A,participants:L}=E;return d.jsxs("div",{className:"categoryItem",onClick:()=>n(I),children:[d.jsxs("div",{className:"itemLeft",children:[d.jsx("div",{className:"itemTitle",children:P}),d.jsx("div",{className:"itemDesc",children:O||"설명 없음"}),d.jsx("div",{className:"lastMessage",children:B?`[${B.senderName}] ${B.text}`:"대화 시작하기"})]}),d.jsxs("div",{className:"itemRight",children:[d.jsx("span",{className:"unreadBadge",children:A??0}),d.jsx("div",{className:"participants",children:L.map((R,V)=>d.jsx("img",{src:"/images/profile2.png",alt:R},V))})]})]},I)}),C.length===0&&d.jsx("div",{className:"no-rooms",children:"검색된 채팅방이 없습니다."})]}),d.jsx(CH,{isOpen:v,onClose:T,onCreated:D,currentUserId:e,personalCount:h,groupCount:p})]})}const TH=()=>{const{username:n}=$t(),e=n,t=Bt(),r=i=>{t(`/dashboard/chatting/room/${i}`)};return d.jsx("div",{className:"dashboardMainContent",id:"chatting",children:d.jsxs(sn,{children:[d.jsx(bi,{}),d.jsx("div",{className:"contentArea",children:d.jsx(_H,{currentUserId:e,onSelectRoom:r})})]})})};var wg={exports:{}},Hd={},dE;function jH(){return dE||(dE=1,window.crypto&&window.crypto.getRandomValues?Hd.randomBytes=function(n){var e=new Uint8Array(n);return window.crypto.getRandomValues(e),e}:Hd.randomBytes=function(n){for(var e=new Array(n),t=0;t<n;t++)e[t]=Math.floor(Math.random()*256);return e}),Hd}var Sg,hE;function Ra(){if(hE)return Sg;hE=1;var n=jH(),e="abcdefghijklmnopqrstuvwxyz012345";return Sg={string:function(t){for(var r=e.length,i=n.randomBytes(t),o=[],s=0;s<t;s++)o.push(e.substr(i[s]%r,1));return o.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var r=(""+(t-1)).length,i=new Array(r+1).join("0");return(i+this.number(t)).slice(-r)}},Sg}var fE;function Jo(){return fE||(fE=1,function(n){var e=Ra(),t={},r=!1,i=window.chrome&&window.chrome.app&&window.chrome.app.runtime;n.exports={attachEvent:function(s,a){typeof window.addEventListener<"u"?window.addEventListener(s,a,!1):window.document&&window.attachEvent&&(window.document.attachEvent("on"+s,a),window.attachEvent("on"+s,a))},detachEvent:function(s,a){typeof window.addEventListener<"u"?window.removeEventListener(s,a,!1):window.document&&window.detachEvent&&(window.document.detachEvent("on"+s,a),window.detachEvent("on"+s,a))},unloadAdd:function(s){if(i)return null;var a=e.string(8);return t[a]=s,r&&setTimeout(this.triggerUnloadCallbacks,0),a},unloadDel:function(s){s in t&&delete t[s]},triggerUnloadCallbacks:function(){for(var s in t)t[s](),delete t[s]}};var o=function(){r||(r=!0,n.exports.triggerUnloadCallbacks())};i||n.exports.attachEvent("unload",o)}(wg)),wg.exports}var kg,pE;function DH(){return pE||(pE=1,kg=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}),kg}var zd={},mE;function MH(){if(mE)return zd;mE=1;var n=Object.prototype.hasOwnProperty,e;function t(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch{return null}}function r(s){try{return encodeURIComponent(s)}catch{return null}}function i(s){for(var a=/([^=?#&]+)=?([^&]*)/g,c={},h;h=a.exec(s);){var f=t(h[1]),p=t(h[2]);f===null||p===null||f in c||(c[f]=p)}return c}function o(s,a){a=a||"";var c=[],h,f;typeof a!="string"&&(a="?");for(f in s)if(n.call(s,f)){if(h=s[f],!h&&(h===null||h===e||isNaN(h))&&(h=""),f=r(f),h=r(h),f===null||h===null)continue;c.push(f+"="+h)}return c.length?a+c.join("&"):""}return zd.stringify=o,zd.parse=i,zd}var Eg,gE;function Qj(){if(gE)return Eg;gE=1;var n=DH(),e=MH(),t=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,r=/[\n\r\t]/g,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/:\d+$/,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,a=/^[a-zA-Z]:/;function c(C){return(C||"").toString().replace(t,"")}var h=[["#","hash"],["?","query"],function(M,T){return g(T.protocol)?M.replace(/\\/g,"/"):M},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function p(C){var M;typeof window<"u"||typeof window<"u"?M=window:typeof self<"u"?M=self:M={};var T=M.location||{};C=C||T;var D={},E=typeof C,I;if(C.protocol==="blob:")D=new x(unescape(C.pathname),{});else if(E==="string"){D=new x(C,{});for(I in f)delete D[I]}else if(E==="object"){for(I in C)I in f||(D[I]=C[I]);D.slashes===void 0&&(D.slashes=i.test(C.href))}return D}function g(C){return C==="file:"||C==="ftp:"||C==="http:"||C==="https:"||C==="ws:"||C==="wss:"}function v(C,M){C=c(C),C=C.replace(r,""),M=M||{};var T=s.exec(C),D=T[1]?T[1].toLowerCase():"",E=!!T[2],I=!!T[3],P=0,O;return E?I?(O=T[2]+T[3]+T[4],P=T[2].length+T[3].length):(O=T[2]+T[4],P=T[2].length):I?(O=T[3]+T[4],P=T[3].length):O=T[4],D==="file:"?P>=2&&(O=O.slice(2)):g(D)?O=T[4]:D?E&&(O=O.slice(2)):P>=2&&g(M.protocol)&&(O=T[4]),{protocol:D,slashes:E||g(D),slashesCount:P,rest:O}}function b(C,M){if(C==="")return M;for(var T=(M||"/").split("/").slice(0,-1).concat(C.split("/")),D=T.length,E=T[D-1],I=!1,P=0;D--;)T[D]==="."?T.splice(D,1):T[D]===".."?(T.splice(D,1),P++):P&&(D===0&&(I=!0),T.splice(D,1),P--);return I&&T.unshift(""),(E==="."||E==="..")&&T.push(""),T.join("/")}function x(C,M,T){if(C=c(C),C=C.replace(r,""),!(this instanceof x))return new x(C,M,T);var D,E,I,P,O,B,A=h.slice(),L=typeof M,R=this,V=0;for(L!=="object"&&L!=="string"&&(T=M,M=null),T&&typeof T!="function"&&(T=e.parse),M=p(M),E=v(C||"",M),D=!E.protocol&&!E.slashes,R.slashes=E.slashes||D&&M.slashes,R.protocol=E.protocol||M.protocol||"",C=E.rest,(E.protocol==="file:"&&(E.slashesCount!==2||a.test(C))||!E.slashes&&(E.protocol||E.slashesCount<2||!g(R.protocol)))&&(A[3]=[/(.*)/,"pathname"]);V<A.length;V++){if(P=A[V],typeof P=="function"){C=P(C,R);continue}I=P[0],B=P[1],I!==I?R[B]=C:typeof I=="string"?(O=I==="@"?C.lastIndexOf(I):C.indexOf(I),~O&&(typeof P[2]=="number"?(R[B]=C.slice(0,O),C=C.slice(O+P[2])):(R[B]=C.slice(O),C=C.slice(0,O)))):(O=I.exec(C))&&(R[B]=O[1],C=C.slice(0,O.index)),R[B]=R[B]||D&&P[3]&&M[B]||"",P[4]&&(R[B]=R[B].toLowerCase())}T&&(R.query=T(R.query)),D&&M.slashes&&R.pathname.charAt(0)!=="/"&&(R.pathname!==""||M.pathname!=="")&&(R.pathname=b(R.pathname,M.pathname)),R.pathname.charAt(0)!=="/"&&g(R.protocol)&&(R.pathname="/"+R.pathname),n(R.port,R.protocol)||(R.host=R.hostname,R.port=""),R.username=R.password="",R.auth&&(O=R.auth.indexOf(":"),~O?(R.username=R.auth.slice(0,O),R.username=encodeURIComponent(decodeURIComponent(R.username)),R.password=R.auth.slice(O+1),R.password=encodeURIComponent(decodeURIComponent(R.password))):R.username=encodeURIComponent(decodeURIComponent(R.auth)),R.auth=R.password?R.username+":"+R.password:R.username),R.origin=R.protocol!=="file:"&&g(R.protocol)&&R.host?R.protocol+"//"+R.host:"null",R.href=R.toString()}function w(C,M,T){var D=this;switch(C){case"query":typeof M=="string"&&M.length&&(M=(T||e.parse)(M)),D[C]=M;break;case"port":D[C]=M,n(M,D.protocol)?M&&(D.host=D.hostname+":"+M):(D.host=D.hostname,D[C]="");break;case"hostname":D[C]=M,D.port&&(M+=":"+D.port),D.host=M;break;case"host":D[C]=M,o.test(M)?(M=M.split(":"),D.port=M.pop(),D.hostname=M.join(":")):(D.hostname=M,D.port="");break;case"protocol":D.protocol=M.toLowerCase(),D.slashes=!T;break;case"pathname":case"hash":if(M){var E=C==="pathname"?"/":"#";D[C]=M.charAt(0)!==E?E+M:M}else D[C]=M;break;case"username":case"password":D[C]=encodeURIComponent(M);break;case"auth":var I=M.indexOf(":");~I?(D.username=M.slice(0,I),D.username=encodeURIComponent(decodeURIComponent(D.username)),D.password=M.slice(I+1),D.password=encodeURIComponent(decodeURIComponent(D.password))):D.username=encodeURIComponent(decodeURIComponent(M))}for(var P=0;P<h.length;P++){var O=h[P];O[4]&&(D[O[1]]=D[O[1]].toLowerCase())}return D.auth=D.password?D.username+":"+D.password:D.username,D.origin=D.protocol!=="file:"&&g(D.protocol)&&D.host?D.protocol+"//"+D.host:"null",D.href=D.toString(),D}function k(C){(!C||typeof C!="function")&&(C=e.stringify);var M,T=this,D=T.host,E=T.protocol;E&&E.charAt(E.length-1)!==":"&&(E+=":");var I=E+(T.protocol&&T.slashes||g(T.protocol)?"//":"");return T.username?(I+=T.username,T.password&&(I+=":"+T.password),I+="@"):T.password?(I+=":"+T.password,I+="@"):T.protocol!=="file:"&&g(T.protocol)&&!D&&T.pathname!=="/"&&(I+="@"),(D[D.length-1]===":"||o.test(T.hostname)&&!T.port)&&(D+=":"),I+=D+T.pathname,M=typeof T.query=="object"?C(T.query):T.query,M&&(I+=M.charAt(0)!=="?"?"?"+M:M),T.hash&&(I+=T.hash),I}return x.prototype={set:w,toString:k},x.extractProtocol=v,x.location=p,x.trimLeft=c,x.qs=e,Eg=x,Eg}var Cg,vE;function Zr(){if(vE)return Cg;vE=1;var n=Qj();return Cg={getOrigin:function(e){if(!e)return null;var t=new n(e);if(t.protocol==="file:")return null;var r=t.port;return r||(r=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+r},isOriginEqual:function(e,t){var r=this.getOrigin(e)===this.getOrigin(t);return r},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var r=e.split("?");return r[0]+t+(r[1]?"?"+r[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Cg}var Ud={exports:{}},yE;function pt(){return yE||(yE=1,typeof Object.create=="function"?Ud.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ud.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),Ud.exports}var _g={},Tg,bE;function Zj(){if(bE)return Tg;bE=1;function n(){this._listeners={}}return n.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];r.indexOf(t)===-1&&(r=r.concat([t])),this._listeners[e]=r},n.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(r){var i=r.indexOf(t);if(i!==-1){r.length>1?this._listeners[e]=r.slice(0,i).concat(r.slice(i+1)):delete this._listeners[e];return}}},n.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,r=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,r),t in this._listeners)for(var i=this._listeners[t],o=0;o<i.length;o++)i[o].apply(this,r)},Tg=n,Tg}var xE;function Zn(){if(xE)return _g;xE=1;var n=pt(),e=Zj();function t(){e.call(this)}return n(t,e),t.prototype.removeAllListeners=function(r){r?delete this._listeners[r]:this._listeners={}},t.prototype.once=function(r,i){var o=this,s=!1;function a(){o.removeListener(r,a),s||(s=!0,i.apply(this,arguments))}this.on(r,a)},t.prototype.emit=function(){var r=arguments[0],i=this._listeners[r];if(i){for(var o=arguments.length,s=new Array(o-1),a=1;a<o;a++)s[a-1]=arguments[a];for(var c=0;c<i.length;c++)i[c].apply(this,s)}},t.prototype.on=t.prototype.addListener=e.prototype.addEventListener,t.prototype.removeListener=e.prototype.removeEventListener,_g.EventEmitter=t,_g}var $d={exports:{}},wE;function PH(){if(wE)return $d.exports;wE=1;var n=window.WebSocket||window.MozWebSocket;return n?$d.exports=function(t){return new n(t)}:$d.exports=void 0,$d.exports}var jg,SE;function OH(){if(SE)return jg;SE=1;var n=Jo(),e=Zr(),t=pt(),r=Zn().EventEmitter,i=PH(),o=function(){};function s(a,c,h){if(!s.enabled())throw new Error("Transport created when disabled");r.call(this);var f=this,p=e.addPath(a,"/websocket");p.slice(0,5)==="https"?p="wss"+p.slice(5):p="ws"+p.slice(4),this.url=p,this.ws=new i(this.url,[],h),this.ws.onmessage=function(g){o("message event",g.data),f.emit("message",g.data)},this.unloadRef=n.unloadAdd(function(){f.ws.close()}),this.ws.onclose=function(g){o("close event",g.code,g.reason),f.emit("close",g.code,g.reason),f._cleanup()},this.ws.onerror=function(g){f.emit("close",1006,"WebSocket connection broken"),f._cleanup()}}return t(s,r),s.prototype.send=function(a){var c="["+a+"]";this.ws.send(c)},s.prototype.close=function(){var a=this.ws;this._cleanup(),a&&a.close()},s.prototype._cleanup=function(){var a=this.ws;a&&(a.onmessage=a.onclose=a.onerror=null),n.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},s.enabled=function(){return!!i},s.transportName="websocket",s.roundTrips=2,jg=s,jg}var Dg,kE;function IH(){if(kE)return Dg;kE=1;var n=pt(),e=Zn().EventEmitter,t=function(){};function r(i,o){e.call(this),this.sendBuffer=[],this.sender=o,this.url=i}return n(r,e),r.prototype.send=function(i){this.sendBuffer.push(i),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){var i=this,o;this.sendStop=function(){i.sendStop=null,clearTimeout(o)},o=setTimeout(function(){i.sendStop=null,i.sendSchedule()},25)},r.prototype.sendSchedule=function(){t("sendSchedule",this.sendBuffer.length);var i=this;if(this.sendBuffer.length>0){var o="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,o,function(s){i.sendStop=null,s?(i.emit("close",s.code||1006,"Sending error: "+s),i.close()):i.sendScheduleWait()}),this.sendBuffer=[]}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Dg=r,Dg}var Mg,EE;function NH(){if(EE)return Mg;EE=1;var n=pt(),e=Zn().EventEmitter,t=function(){};function r(i,o,s){e.call(this),this.Receiver=i,this.receiveUrl=o,this.AjaxObject=s,this._scheduleReceiver()}return n(r,e),r.prototype._scheduleReceiver=function(){var i=this,o=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);o.on("message",function(s){i.emit("message",s)}),o.once("close",function(s,a){t("close",s,a,i.pollIsClosing),i.poll=o=null,i.pollIsClosing||(a==="network"?i._scheduleReceiver():(i.emit("close",s||1006,a),i.removeAllListeners()))})},r.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},Mg=r,Mg}var Pg,CE;function eD(){if(CE)return Pg;CE=1;var n=pt(),e=Zr(),t=IH(),r=NH();function i(o,s,a,c,h){var f=e.addPath(o,s),p=this;t.call(this,o,a),this.poll=new r(c,f,h),this.poll.on("message",function(g){p.emit("message",g)}),this.poll.once("close",function(g,v){p.poll=null,p.emit("close",g,v),p.close()})}return n(i,t),i.prototype.close=function(){t.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},Pg=i,Pg}var Og,_E;function Aa(){if(_E)return Og;_E=1;var n=pt(),e=Zr(),t=eD();function r(o){return function(s,a,c){var h={};typeof a=="string"&&(h.headers={"Content-type":"text/plain"});var f=e.addPath(s,"/xhr_send"),p=new o("POST",f,a,h);return p.once("finish",function(g){if(p=null,g!==200&&g!==204)return c(new Error("http status "+g));c()}),function(){p.close(),p=null;var g=new Error("Aborted");g.code=1e3,c(g)}}}function i(o,s,a,c){t.call(this,o,s,r(c),a,c)}return n(i,t),Og=i,Og}var Ig,TE;function Rf(){if(TE)return Ig;TE=1;var n=pt(),e=Zn().EventEmitter;function t(r,i){e.call(this);var o=this;this.bufferPosition=0,this.xo=new i("POST",r,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(s,a){o._chunkHandler(s,a),o.xo=null;var c=s===200?"network":"permanent";o.emit("close",null,c),o._cleanup()})}return n(t,e),t.prototype._chunkHandler=function(r,i){if(!(r!==200||!i))for(var o=-1;;this.bufferPosition+=o+1){var s=i.slice(this.bufferPosition);if(o=s.indexOf(`
`),o===-1)break;var a=s.slice(0,o);a&&this.emit("message",a)}},t.prototype._cleanup=function(){this.removeAllListeners()},t.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},Ig=t,Ig}var Ng,jE;function tD(){if(jE)return Ng;jE=1;var n=Zn().EventEmitter,e=pt(),t=Jo(),r=Zr(),i=window.XMLHttpRequest,o=function(){};function s(h,f,p,g){var v=this;n.call(this),setTimeout(function(){v._start(h,f,p,g)},0)}e(s,n),s.prototype._start=function(h,f,p,g){var v=this;try{this.xhr=new i}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}f=r.addQuery(f,"t="+ +new Date),this.unloadRef=t.unloadAdd(function(){v._cleanup(!0)});try{this.xhr.open(h,f,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){o("xhr timeout"),v.emit("finish",0,""),v._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!g||!g.noCredentials)&&s.supportsCORS&&(this.xhr.withCredentials=!0),g&&g.headers)for(var b in g.headers)this.xhr.setRequestHeader(b,g.headers[b]);this.xhr.onreadystatechange=function(){if(v.xhr){var x=v.xhr,w,k;switch(o("readyState",x.readyState),x.readyState){case 3:try{k=x.status,w=x.responseText}catch{}k===1223&&(k=204),k===200&&w&&w.length>0&&v.emit("chunk",k,w);break;case 4:k=x.status,k===1223&&(k=204),(k===12005||k===12029)&&(k=0),o("finish",k,x.responseText),v.emit("finish",k,x.responseText),v._cleanup(!1);break}}};try{v.xhr.send(p)}catch{v.emit("finish",0,""),v._cleanup(!1)}},s.prototype._cleanup=function(h){if(this.xhr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),h)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},s.prototype.close=function(){this._cleanup(!0)},s.enabled=!!i;var a=["Active"].concat("Object").join("X");!s.enabled&&a in window&&(i=function(){try{return new window[a]("Microsoft.XMLHTTP")}catch{return null}},s.enabled=!!new i);var c=!1;try{c="withCredentials"in new i}catch{}return s.supportsCORS=c,Ng=s,Ng}var Rg,DE;function Af(){if(DE)return Rg;DE=1;var n=pt(),e=tD();function t(r,i,o,s){e.call(this,r,i,o,s)}return n(t,e),t.enabled=e.enabled&&e.supportsCORS,Rg=t,Rg}var Ag,ME;function Vc(){if(ME)return Ag;ME=1;var n=pt(),e=tD();function t(r,i,o){e.call(this,r,i,o,{noCredentials:!0})}return n(t,e),t.enabled=e.enabled,Ag=t,Ag}var Lg,PE;function qc(){return PE||(PE=1,Lg={isOpera:function(){return window.navigator&&/opera/i.test(window.navigator.userAgent)},isKonqueror:function(){return window.navigator&&/konqueror/i.test(window.navigator.userAgent)},hasDomain:function(){if(!window.document)return!0;try{return!!window.document.domain}catch{return!1}}}),Lg}var Bg,OE;function RH(){if(OE)return Bg;OE=1;var n=pt(),e=Aa(),t=Rf(),r=Af(),i=Vc(),o=qc();function s(a){if(!i.enabled&&!r.enabled)throw new Error("Transport created when disabled");e.call(this,a,"/xhr_streaming",t,r)}return n(s,e),s.enabled=function(a){return a.nullOrigin||o.isOpera()?!1:r.enabled},s.transportName="xhr-streaming",s.roundTrips=2,s.needBody=!!window.document,Bg=s,Bg}var Fg,IE;function wb(){if(IE)return Fg;IE=1;var n=Zn().EventEmitter,e=pt(),t=Jo(),r=qc(),i=Zr(),o=function(){};function s(a,c,h){var f=this;n.call(this),setTimeout(function(){f._start(a,c,h)},0)}return e(s,n),s.prototype._start=function(a,c,h){var f=this,p=new window.XDomainRequest;c=i.addQuery(c,"t="+ +new Date),p.onerror=function(){f._error()},p.ontimeout=function(){f._error()},p.onprogress=function(){o("progress",p.responseText),f.emit("chunk",200,p.responseText)},p.onload=function(){f.emit("finish",200,p.responseText),f._cleanup(!1)},this.xdr=p,this.unloadRef=t.unloadAdd(function(){f._cleanup(!0)});try{this.xdr.open(a,c),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(h)}catch{this._error()}},s.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},s.prototype._cleanup=function(a){if(this.xdr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,a)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},s.prototype.close=function(){this._cleanup(!0)},s.enabled=!!(window.XDomainRequest&&r.hasDomain()),Fg=s,Fg}var Hg,NE;function nD(){if(NE)return Hg;NE=1;var n=pt(),e=Aa(),t=Rf(),r=wb();function i(o){if(!r.enabled)throw new Error("Transport created when disabled");e.call(this,o,"/xhr_streaming",t,r)}return n(i,e),i.enabled=function(o){return o.cookie_needed||o.nullOrigin?!1:r.enabled&&o.sameScheme},i.transportName="xdr-streaming",i.roundTrips=2,Hg=i,Hg}var zg,RE;function rD(){return RE||(RE=1,zg=window.EventSource),zg}var Ug,AE;function AH(){if(AE)return Ug;AE=1;var n=pt(),e=Zn().EventEmitter,t=rD(),r=function(){};function i(o){e.call(this);var s=this,a=this.es=new t(o);a.onmessage=function(c){r("message",c.data),s.emit("message",decodeURI(c.data))},a.onerror=function(c){r("error",a.readyState);var h=a.readyState!==2?"network":"permanent";s._cleanup(),s._close(h)}}return n(i,e),i.prototype.abort=function(){this._cleanup(),this._close("user")},i.prototype._cleanup=function(){var o=this.es;o&&(o.onmessage=o.onerror=null,o.close(),this.es=null)},i.prototype._close=function(o){var s=this;setTimeout(function(){s.emit("close",null,o),s.removeAllListeners()},200)},Ug=i,Ug}var $g,LE;function BE(){if(LE)return $g;LE=1;var n=pt(),e=Aa(),t=AH(),r=Af(),i=rD();function o(s){if(!o.enabled())throw new Error("Transport created when disabled");e.call(this,s,"/eventsource",t,r)}return n(o,e),o.enabled=function(){return!!i},o.transportName="eventsource",o.roundTrips=2,$g=o,$g}var Wg,FE;function iD(){return FE||(FE=1,Wg="1.6.1"),Wg}var Vg={exports:{}},HE;function Yc(){return HE||(HE=1,function(n){var e=Jo(),t=qc();n.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){n.exports.WPrefix in window||(window[n.exports.WPrefix]={})},postMessage:function(r,i){window.parent!==window&&window.parent.postMessage(JSON.stringify({windowId:n.exports.currentWindowId,type:r,data:i||""}),"*")},createIframe:function(r,i){var o=window.document.createElement("iframe"),s,a,c=function(){clearTimeout(s);try{o.onload=null}catch{}o.onerror=null},h=function(){o&&(c(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),e.unloadDel(a))},f=function(g){o&&(h(),i(g))},p=function(g,v){setTimeout(function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(g,v)}catch{}},0)};return o.src=r,o.style.display="none",o.style.position="absolute",o.onerror=function(){f("onerror")},o.onload=function(){clearTimeout(s),s=setTimeout(function(){f("onload timeout")},2e3)},window.document.body.appendChild(o),s=setTimeout(function(){f("timeout")},15e3),a=e.unloadAdd(h),{post:p,cleanup:h,loaded:c}},createHtmlfile:function(r,i){var o=["Active"].concat("Object").join("X"),s=new window[o]("htmlfile"),a,c,h,f=function(){clearTimeout(a),h.onerror=null},p=function(){s&&(f(),e.unloadDel(c),h.parentNode.removeChild(h),h=s=null,CollectGarbage())},g=function(x){s&&(p(),i(x))},v=function(x,w){try{setTimeout(function(){h&&h.contentWindow&&h.contentWindow.postMessage(x,w)},0)}catch{}};s.open(),s.write('<html><script>document.domain="'+window.document.domain+'";<\/script></html>'),s.close(),s.parentWindow[n.exports.WPrefix]=window[n.exports.WPrefix];var b=s.createElement("div");return s.body.appendChild(b),h=s.createElement("iframe"),b.appendChild(h),h.src=r,h.onerror=function(){g("onerror")},a=setTimeout(function(){g("timeout")},15e3),c=e.unloadAdd(p),{post:v,cleanup:p,loaded:f}}},n.exports.iframeEnabled=!1,window.document&&(n.exports.iframeEnabled=(typeof window.postMessage=="function"||typeof window.postMessage=="object")&&!t.isKonqueror())}(Vg)),Vg.exports}var qg,zE;function oD(){if(zE)return qg;zE=1;var n=pt(),e=Zn().EventEmitter,t=iD(),r=Zr(),i=Yc(),o=Jo(),s=Ra(),a=function(){};function c(h,f,p){if(!c.enabled())throw new Error("Transport created when disabled");e.call(this);var g=this;this.origin=r.getOrigin(p),this.baseUrl=p,this.transUrl=f,this.transport=h,this.windowId=s.string(8);var v=r.addPath(p,"/iframe.html")+"#"+this.windowId;this.iframeObj=i.createIframe(v,function(b){g.emit("close",1006,"Unable to load an iframe ("+b+")"),g.close()}),this.onmessageCallback=this._message.bind(this),o.attachEvent("message",this.onmessageCallback)}return n(c,e),c.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){o.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},c.prototype._message=function(h){if(a("message",h.data),!r.isOriginEqual(h.origin,this.origin)){a("not same origin",h.origin,this.origin);return}var f;try{f=JSON.parse(h.data)}catch{a("bad json",h.data);return}if(f.windowId!==this.windowId){a("mismatched window id",f.windowId,this.windowId);return}switch(f.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([t,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",f.data);break;case"c":var p;try{p=JSON.parse(f.data)}catch{a("bad json",f.data);return}this.emit("close",p[0],p[1]),this.close();break}},c.prototype.postMessage=function(h,f){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:h,data:f||""}),this.origin)},c.prototype.send=function(h){this.postMessage("m",h)},c.enabled=function(){return i.iframeEnabled},c.transportName="iframe",c.roundTrips=2,qg=c,qg}var Yg,UE;function Sb(){return UE||(UE=1,Yg={isObject:function(n){var e=typeof n;return e==="function"||e==="object"&&!!n},extend:function(n){if(!this.isObject(n))return n;for(var e,t,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}}),Yg}var Gg,$E;function Xg(){if($E)return Gg;$E=1;var n=pt(),e=oD(),t=Sb();return Gg=function(r){function i(o,s){e.call(this,r.transportName,o,s)}return n(i,e),i.enabled=function(o,s){if(!window.document)return!1;var a=t.extend({},s);return a.sameOrigin=!0,r.enabled(a)&&e.enabled()},i.transportName="iframe-"+r.transportName,i.needBody=!0,i.roundTrips=e.roundTrips+r.roundTrips-1,i.facadeTransport=r,i},Gg}var Kg,WE;function LH(){if(WE)return Kg;WE=1;var n=pt(),e=Yc(),t=Zr(),r=Zn().EventEmitter,i=Ra(),o=function(){};function s(c){r.call(this);var h=this;e.polluteGlobalNamespace(),this.id="a"+i.string(6),c=t.addQuery(c,"c="+decodeURIComponent(e.WPrefix+"."+this.id)),o("using htmlfile",s.htmlfileEnabled);var f=s.htmlfileEnabled?e.createHtmlfile:e.createIframe;window[e.WPrefix][this.id]={start:function(){h.iframeObj.loaded()},message:function(p){h.emit("message",p)},stop:function(){h._cleanup(),h._close("network")}},this.iframeObj=f(c,function(){h._cleanup(),h._close("permanent")})}n(s,r),s.prototype.abort=function(){this._cleanup(),this._close("user")},s.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete window[e.WPrefix][this.id]},s.prototype._close=function(c){this.emit("close",null,c),this.removeAllListeners()},s.htmlfileEnabled=!1;var a=["Active"].concat("Object").join("X");if(a in window)try{s.htmlfileEnabled=!!new window[a]("htmlfile")}catch{}return s.enabled=s.htmlfileEnabled||e.iframeEnabled,Kg=s,Kg}var Jg,VE;function qE(){if(VE)return Jg;VE=1;var n=pt(),e=LH(),t=Vc(),r=Aa();function i(o){if(!e.enabled)throw new Error("Transport created when disabled");r.call(this,o,"/htmlfile",e,t)}return n(i,r),i.enabled=function(o){return e.enabled&&o.sameOrigin},i.transportName="htmlfile",i.roundTrips=2,Jg=i,Jg}var Qg,YE;function GE(){if(YE)return Qg;YE=1;var n=pt(),e=Aa(),t=Rf(),r=Af(),i=Vc();function o(s){if(!i.enabled&&!r.enabled)throw new Error("Transport created when disabled");e.call(this,s,"/xhr",t,r)}return n(o,e),o.enabled=function(s){return s.nullOrigin?!1:i.enabled&&s.sameOrigin?!0:r.enabled},o.transportName="xhr-polling",o.roundTrips=2,Qg=o,Qg}var Zg,XE;function BH(){if(XE)return Zg;XE=1;var n=pt(),e=Aa(),t=nD(),r=Rf(),i=wb();function o(s){if(!i.enabled)throw new Error("Transport created when disabled");e.call(this,s,"/xhr",r,i)}return n(o,e),o.enabled=t.enabled,o.transportName="xdr-polling",o.roundTrips=2,Zg=o,Zg}var ev,KE;function FH(){if(KE)return ev;KE=1;var n=Yc(),e=Ra(),t=qc(),r=Zr(),i=pt(),o=Zn().EventEmitter,s=function(){};function a(c){var h=this;o.call(this),n.polluteGlobalNamespace(),this.id="a"+e.string(6);var f=r.addQuery(c,"c="+encodeURIComponent(n.WPrefix+"."+this.id));window[n.WPrefix][this.id]=this._callback.bind(this),this._createScript(f),this.timeoutId=setTimeout(function(){h._abort(new Error("JSONP script loaded abnormally (timeout)"))},a.timeout)}return i(a,o),a.prototype.abort=function(){if(window[n.WPrefix][this.id]){var c=new Error("JSONP user aborted read");c.code=1e3,this._abort(c)}},a.timeout=35e3,a.scriptErrorTimeout=1e3,a.prototype._callback=function(c){this._cleanup(),!this.aborting&&(c&&this.emit("message",c),this.emit("close",null,"network"),this.removeAllListeners())},a.prototype._abort=function(c){this._cleanup(),this.aborting=!0,this.emit("close",c.code,c.message),this.removeAllListeners()},a.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var c=this.script;c.parentNode.removeChild(c),c.onreadystatechange=c.onerror=c.onload=c.onclick=null,this.script=null}delete window[n.WPrefix][this.id]},a.prototype._scriptError=function(){var c=this;this.errorTimer||(this.errorTimer=setTimeout(function(){c.loadedOkay||c._abort(new Error("JSONP script loaded abnormally (onerror)"))},a.scriptErrorTimeout))},a.prototype._createScript=function(c){var h=this,f=this.script=window.document.createElement("script"),p;if(f.id="a"+e.string(8),f.src=c,f.type="text/javascript",f.charset="UTF-8",f.onerror=this._scriptError.bind(this),f.onload=function(){h._abort(new Error("JSONP script loaded abnormally (onload)"))},f.onreadystatechange=function(){if(s("onreadystatechange",f.readyState),/loaded|closed/.test(f.readyState)){if(f&&f.htmlFor&&f.onclick){h.loadedOkay=!0;try{f.onclick()}catch{}}f&&h._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof f.async>"u"&&window.document.attachEvent)if(t.isOpera())p=this.script2=window.document.createElement("script"),p.text="try{var a = document.getElementById('"+f.id+"'); if(a)a.onerror();}catch(x){};",f.async=p.async=!1;else{try{f.htmlFor=f.id,f.event="onclick"}catch{}f.async=!0}typeof f.async<"u"&&(f.async=!0);var g=window.document.getElementsByTagName("head")[0];g.insertBefore(f,g.firstChild),p&&g.insertBefore(p,g.firstChild)},ev=a,ev}var tv,JE;function HH(){if(JE)return tv;JE=1;var n=Ra(),e=Zr(),t=function(){},r,i;function o(a){try{return window.document.createElement('<iframe name="'+a+'">')}catch{var c=window.document.createElement("iframe");return c.name=a,c}}function s(){r=window.document.createElement("form"),r.style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",i=window.document.createElement("textarea"),i.name="d",r.appendChild(i),window.document.body.appendChild(r)}return tv=function(a,c,h){r||s();var f="a"+n.string(8);r.target=f,r.action=e.addQuery(e.addPath(a,"/jsonp_send"),"i="+f);var p=o(f);p.id=f,p.style.display="none",r.appendChild(p);try{i.value=c}catch{}r.submit();var g=function(v){p.onerror&&(p.onreadystatechange=p.onerror=p.onload=null,setTimeout(function(){p.parentNode.removeChild(p),p=null},500),i.value="",h(v))};return p.onerror=function(){g()},p.onload=function(){g()},p.onreadystatechange=function(v){t("onreadystatechange",f,p.readyState),p.readyState==="complete"&&g()},function(){g(new Error("Aborted"))}},tv}var nv,QE;function zH(){if(QE)return nv;QE=1;var n=pt(),e=eD(),t=FH(),r=HH();function i(o){if(!i.enabled())throw new Error("Transport created when disabled");e.call(this,o,"/jsonp",r,t)}return n(i,e),i.enabled=function(){return!!window.document},i.transportName="jsonp-polling",i.roundTrips=1,i.needBody=!0,nv=i,nv}var rv,ZE;function UH(){return ZE||(ZE=1,rv=[OH(),RH(),nD(),BE(),Xg()(BE()),qE(),Xg()(qE()),GE(),BH(),Xg()(GE()),zH()]),rv}var eC={},tC;function $H(){if(tC)return eC;tC=1;var n=Array.prototype,e=Object.prototype,t=Function.prototype,r=String.prototype,i=n.slice,o=e.toString,s=function(I){return e.toString.call(I)==="[object Function]"},a=function(P){return o.call(P)==="[object Array]"},c=function(P){return o.call(P)==="[object String]"},h=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),f;h?f=function(I,P,O,B){!B&&P in I||Object.defineProperty(I,P,{configurable:!0,enumerable:!1,writable:!0,value:O})}:f=function(I,P,O,B){!B&&P in I||(I[P]=O)};var p=function(I,P,O){for(var B in P)e.hasOwnProperty.call(P,B)&&f(I,B,P[B],O)},g=function(I){if(I==null)throw new TypeError("can't convert "+I+" to object");return Object(I)};function v(I){var P=+I;return P!==P?P=0:P!==0&&P!==1/0&&P!==-1/0&&(P=(P>0||-1)*Math.floor(Math.abs(P))),P}function b(I){return I>>>0}function x(){}p(t,{bind:function(P){var O=this;if(!s(O))throw new TypeError("Function.prototype.bind called on incompatible "+O);for(var B=i.call(arguments,1),A=function(){if(this instanceof Q){var oe=O.apply(this,B.concat(i.call(arguments)));return Object(oe)===oe?oe:this}else return O.apply(P,B.concat(i.call(arguments)))},L=Math.max(0,O.length-B.length),R=[],V=0;V<L;V++)R.push("$"+V);var Q=Function("binder","return function ("+R.join(",")+"){ return binder.apply(this, arguments); }")(A);return O.prototype&&(x.prototype=O.prototype,Q.prototype=new x,x.prototype=null),Q}}),p(Array,{isArray:a});var w=Object("a"),k=w[0]!=="a"||!(0 in w),C=function(P){var O=!0,B=!0;return P&&(P.call("foo",function(A,L,R){typeof R!="object"&&(O=!1)}),P.call([1],function(){B=typeof this=="string"},"x")),!!P&&O&&B};p(n,{forEach:function(P){var O=g(this),B=k&&c(this)?this.split(""):O,A=arguments[1],L=-1,R=B.length>>>0;if(!s(P))throw new TypeError;for(;++L<R;)L in B&&P.call(A,B[L],L,O)}},!C(n.forEach));var M=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;p(n,{indexOf:function(P){var O=k&&c(this)?this.split(""):g(this),B=O.length>>>0;if(!B)return-1;var A=0;for(arguments.length>1&&(A=v(arguments[1])),A=A>=0?A:Math.max(0,B+A);A<B;A++)if(A in O&&O[A]===P)return A;return-1}},M);var T=r.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var I=/()??/.exec("")[1]===void 0;r.split=function(P,O){var B=this;if(P===void 0&&O===0)return[];if(o.call(P)!=="[object RegExp]")return T.call(this,P,O);var A=[],L=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.extended?"x":"")+(P.sticky?"y":""),R=0,V,Q,oe,q;for(P=new RegExp(P.source,L+"g"),B+="",I||(V=new RegExp("^"+P.source+"$(?!\\s)",L)),O=O===void 0?-1>>>0:b(O);(Q=P.exec(B))&&(oe=Q.index+Q[0].length,!(oe>R&&(A.push(B.slice(R,Q.index)),!I&&Q.length>1&&Q[0].replace(V,function(){for(var Y=1;Y<arguments.length-2;Y++)arguments[Y]===void 0&&(Q[Y]=void 0)}),Q.length>1&&Q.index<B.length&&n.push.apply(A,Q.slice(1)),q=Q[0].length,R=oe,A.length>=O)));)P.lastIndex===Q.index&&P.lastIndex++;return R===B.length?(q||!P.test(""))&&A.push(""):A.push(B.slice(R)),A.length>O?A.slice(0,O):A}}():"0".split(void 0,0).length&&(r.split=function(P,O){return P===void 0&&O===0?[]:T.call(this,P,O)});var D=r.substr,E="".substr&&"0b".substr(-1)!=="b";return p(r,{substr:function(P,O){return D.call(this,P<0&&(P=this.length+P)<0?0:P,O)}},E),eC}var iv,nC;function WH(){if(nC)return iv;nC=1;var n=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,e,t=function(r){var i,o={},s=[];for(i=0;i<65536;i++)s.push(String.fromCharCode(i));return r.lastIndex=0,s.join("").replace(r,function(a){return o[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),r.lastIndex=0,o};return iv={quote:function(r){var i=JSON.stringify(r);return n.lastIndex=0,n.test(i)?(e||(e=t(n)),i.replace(n,function(o){return e[o]})):i}},iv}var ov,rC;function VH(){if(rC)return ov;rC=1;var n=function(){};return ov=function(e){return{filterToEnabled:function(t,r){var i={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(o){if(o&&!(o.transportName==="websocket"&&r.websocket===!1)){if(t.length&&t.indexOf(o.transportName)===-1){n("not in whitelist",o.transportName);return}o.enabled(r)?(n("enabled",o.transportName),i.main.push(o),o.facadeTransport&&i.facade.push(o.facadeTransport)):n("disabled",o.transportName)}}),i}}},ov}var sv,iC;function qH(){if(iC)return sv;iC=1;var n={};return["log","debug","warn"].forEach(function(e){var t;try{t=window.console&&window.console[e]&&window.console[e].apply}catch{}n[e]=t?function(){return window.console[e].apply(window.console,arguments)}:e==="log"?function(){}:n.log}),sv=n,sv}var av,oC;function kb(){if(oC)return av;oC=1;function n(e){this.type=e}return n.prototype.initEvent=function(e,t,r){return this.type=e,this.bubbles=t,this.cancelable=r,this.timeStamp=+new Date,this},n.prototype.stopPropagation=function(){},n.prototype.preventDefault=function(){},n.CAPTURING_PHASE=1,n.AT_TARGET=2,n.BUBBLING_PHASE=3,av=n,av}var lv,sC;function sD(){return sC||(sC=1,lv=window.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),lv}var cv,aC;function YH(){if(aC)return cv;aC=1;var n=pt(),e=kb();function t(){e.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return n(t,e),cv=t,cv}var uv,lC;function GH(){if(lC)return uv;lC=1;var n=pt(),e=kb();function t(r){e.call(this),this.initEvent("message",!1,!1),this.data=r}return n(t,e),uv=t,uv}var dv,cC;function XH(){if(cC)return dv;cC=1;var n=Zn().EventEmitter,e=pt();function t(){var r=this;n.call(this),this.to=setTimeout(function(){r.emit("finish",200,"{}")},t.timeout)}return e(t,n),t.prototype.close=function(){clearTimeout(this.to)},t.timeout=2e3,dv=t,dv}var hv,uC;function aD(){if(uC)return hv;uC=1;var n=Zn().EventEmitter,e=pt(),t=Sb();function r(i,o){n.call(this);var s=this,a=+new Date;this.xo=new o("GET",i),this.xo.once("finish",function(c,h){var f,p;if(c===200){if(p=+new Date-a,h)try{f=JSON.parse(h)}catch{}t.isObject(f)||(f={})}s.emit("finish",f,p),s.removeAllListeners()})}return e(r,n),r.prototype.close=function(){this.removeAllListeners(),this.xo.close()},hv=r,hv}var fv,dC;function lD(){if(dC)return fv;dC=1;var n=pt(),e=Zn().EventEmitter,t=Vc(),r=aD();function i(o){var s=this;e.call(this),this.ir=new r(o,t),this.ir.once("finish",function(a,c){s.ir=null,s.emit("message",JSON.stringify([a,c]))})}return n(i,e),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},fv=i,fv}var pv,hC;function KH(){if(hC)return pv;hC=1;var n=Zn().EventEmitter,e=pt(),t=Jo(),r=oD(),i=lD();function o(s,a){var c=this;n.call(this);var h=function(){var f=c.ifr=new r(i.transportName,a,s);f.once("message",function(p){if(p){var g;try{g=JSON.parse(p)}catch{c.emit("finish"),c.close();return}var v=g[0],b=g[1];c.emit("finish",v,b)}c.close()}),f.once("close",function(){c.emit("finish"),c.close()})};window.document.body?h():t.attachEvent("load",h)}return e(o,n),o.enabled=function(){return r.enabled()},o.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},pv=o,pv}var mv,fC;function JH(){if(fC)return mv;fC=1;var n=Zn().EventEmitter,e=pt(),t=Zr(),r=wb(),i=Af(),o=Vc(),s=XH(),a=KH(),c=aD();function h(f,p){var g=this;n.call(this),setTimeout(function(){g.doXhr(f,p)},0)}return e(h,n),h._getReceiver=function(f,p,g){return g.sameOrigin?new c(p,o):i.enabled?new c(p,i):r.enabled&&g.sameScheme?new c(p,r):a.enabled()?new a(f,p):new c(p,s)},h.prototype.doXhr=function(f,p){var g=this,v=t.addPath(f,"/info");this.xo=h._getReceiver(f,v,p),this.timeoutRef=setTimeout(function(){g._cleanup(!1),g.emit("finish")},h.timeout),this.xo.once("finish",function(b,x){g._cleanup(!0),g.emit("finish",b,x)})},h.prototype._cleanup=function(f){clearTimeout(this.timeoutRef),this.timeoutRef=null,!f&&this.xo&&this.xo.close(),this.xo=null},h.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},h.timeout=8e3,mv=h,mv}var gv,pC;function QH(){if(pC)return gv;pC=1;var n=Yc();function e(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}return e.prototype._transportClose=function(t,r){n.postMessage("c",JSON.stringify([t,r]))},e.prototype._transportMessage=function(t){n.postMessage("t",t)},e.prototype._send=function(t){this._transport.send(t)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},gv=e,gv}var vv,mC;function ZH(){if(mC)return vv;mC=1;var n=Zr(),e=Jo(),t=QH(),r=lD(),i=Yc(),o=sD(),s=function(){};return vv=function(a,c){var h={};c.forEach(function(p){p.facadeTransport&&(h[p.facadeTransport.transportName]=p.facadeTransport)}),h[r.transportName]=r;var f;a.bootstrap_iframe=function(){var p;i.currentWindowId=o.hash.slice(1);var g=function(v){if(v.source===parent&&(typeof f>"u"&&(f=v.origin),v.origin===f)){var b;try{b=JSON.parse(v.data)}catch{s("bad json",v.data);return}if(b.windowId===i.currentWindowId)switch(b.type){case"s":var x;try{x=JSON.parse(b.data)}catch{s("bad json",b.data);break}var w=x[0],k=x[1],C=x[2],M=x[3];if(w!==a.version)throw new Error('Incompatible SockJS! Main site uses: "'+w+'", the iframe: "'+a.version+'".');if(!n.isOriginEqual(C,o.href)||!n.isOriginEqual(M,o.href))throw new Error("Can't connect to different domain from within an iframe. ("+o.href+", "+C+", "+M+")");p=new t(new h[k](C,M));break;case"m":p._send(b.data);break;case"c":p&&p._close(),p=null;break}}};e.attachEvent("message",g),i.postMessage("s")}},vv}var yv,gC;function e8(){if(gC)return yv;gC=1,$H();var n=Qj(),e=pt(),t=Ra(),r=WH(),i=Zr(),o=Jo(),s=VH(),a=Sb(),c=qc(),h=qH(),f=kb(),p=Zj(),g=sD(),v=YH(),b=GH(),x=JH(),w=function(){},k;function C(T,D,E){if(!(this instanceof C))return new C(T,D,E);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");p.call(this),this.readyState=C.CONNECTING,this.extensions="",this.protocol="",E=E||{},E.protocols_whitelist&&h.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=E.transports,this._transportOptions=E.transportOptions||{},this._timeout=E.timeout||0;var I=E.sessionId||8;if(typeof I=="function")this._generateSessionId=I;else if(typeof I=="number")this._generateSessionId=function(){return t.string(I)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=E.server||t.numberString(1e3);var P=new n(T);if(!P.host||!P.protocol)throw new SyntaxError("The URL '"+T+"' is invalid");if(P.hash)throw new SyntaxError("The URL must not contain a fragment");if(P.protocol!=="http:"&&P.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+P.protocol+"' is not allowed.");var O=P.protocol==="https:";if(g.protocol==="https:"&&!O&&!i.isLoopbackAddr(P.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");D?Array.isArray(D)||(D=[D]):D=[];var B=D.sort();B.forEach(function(L,R){if(!L)throw new SyntaxError("The protocols entry '"+L+"' is invalid.");if(R<B.length-1&&L===B[R+1])throw new SyntaxError("The protocols entry '"+L+"' is duplicated.")});var A=i.getOrigin(g.href);this._origin=A?A.toLowerCase():null,P.set("pathname",P.pathname.replace(/\/+$/,"")),this.url=P.href,w("using url",this.url),this._urlInfo={nullOrigin:!c.hasDomain(),sameOrigin:i.isOriginEqual(this.url,g.href),sameScheme:i.isSchemeEqual(this.url,g.href)},this._ir=new x(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}e(C,p);function M(T){return T===1e3||T>=3e3&&T<=4999}return C.prototype.close=function(T,D){if(T&&!M(T))throw new Error("InvalidAccessError: Invalid code");if(D&&D.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===C.CLOSING||this.readyState===C.CLOSED)){var E=!0;this._close(T||1e3,D||"Normal closure",E)}},C.prototype.send=function(T){if(typeof T!="string"&&(T=""+T),this.readyState===C.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===C.OPEN&&this._transport.send(r.quote(T))},C.version=iD(),C.CONNECTING=0,C.OPEN=1,C.CLOSING=2,C.CLOSED=3,C.prototype._receiveInfo=function(T,D){if(this._ir=null,!T){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(D),this._transUrl=T.base_url?T.base_url:this.url,T=a.extend(T,this._urlInfo);var E=k.filterToEnabled(this._transportsWhitelist,T);this._transports=E.main,w(this._transports.length+" enabled transports"),this._connect()},C.prototype._connect=function(){for(var T=this._transports.shift();T;T=this._transports.shift()){if(w("attempt",T.transportName),T.needBody&&(!window.document.body||typeof window.document.readyState<"u"&&window.document.readyState!=="complete"&&window.document.readyState!=="interactive")){this._transports.unshift(T),o.attachEvent("load",this._connect.bind(this));return}var D=Math.max(this._timeout,this._rto*T.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),D);var E=i.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),I=this._transportOptions[T.transportName],P=new T(E,this._transUrl,I);P.on("message",this._transportMessage.bind(this)),P.once("close",this._transportClose.bind(this)),P.transportName=T.transportName,this._transport=P;return}this._close(2e3,"All transports failed",!1)},C.prototype._transportTimeout=function(){this.readyState===C.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},C.prototype._transportMessage=function(T){var D=this,E=T.slice(0,1),I=T.slice(1),P;switch(E){case"o":this._open();return;case"h":this.dispatchEvent(new f("heartbeat")),w("heartbeat",this.transport);return}if(I)try{P=JSON.parse(I)}catch{}if(!(typeof P>"u"))switch(E){case"a":Array.isArray(P)&&P.forEach(function(O){w("message",D.transport),D.dispatchEvent(new b(O))});break;case"m":w("message",this.transport),this.dispatchEvent(new b(P));break;case"c":Array.isArray(P)&&P.length===2&&this._close(P[0],P[1],!0);break}},C.prototype._transportClose=function(T,D){if(w("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!M(T)&&T!==2e3&&this.readyState===C.CONNECTING){this._connect();return}this._close(T,D)},C.prototype._open=function(){w("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===C.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=C.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new f("open")),w("connected",this.transport)):this._close(1006,"Server lost session")},C.prototype._close=function(T,D,E){w("_close",this.transport,T,D,E,this.readyState);var I=!1;if(this._ir&&(I=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===C.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=C.CLOSING,setTimeout((function(){this.readyState=C.CLOSED,I&&this.dispatchEvent(new f("error"));var P=new v("close");P.wasClean=E||!1,P.code=T||1e3,P.reason=D,this.dispatchEvent(P),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},C.prototype.countRTO=function(T){return T>100?4*T:300+T},yv=function(T){return k=s(T),ZH()(C,T),C},yv}var bv,vC;function t8(){if(vC)return bv;vC=1;var n=UH();return bv=e8()(n),"_sockjs_onload"in window&&setTimeout(window._sockjs_onload,1),bv}var n8=t8();const r8=hf(n8);function i8(n,e){n.terminate=function(){const t=()=>{};this.onerror=t,this.onmessage=t,this.onopen=t;const r=new Date,i=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=s=>{const a=new Date().getTime()-r.getTime();e(`Discarded socket (#${i})  closed after ${a}ms, with code/reason: ${s.code}/${s.reason}`)},this.close(),o==null||o.call(n,{code:4001,reason:`Quick discarding socket (#${i}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Ql={LF:`
`,NULL:"\0"};class Oo{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(e){const{command:t,headers:r,body:i,binaryBody:o,escapeHeaderValues:s,skipContentLengthHeader:a}=e;this.command=t,this.headers=Object.assign({},r||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=i||"",this.isBinaryBody=!1),this.escapeHeaderValues=s||!1,this.skipContentLengthHeader=a||!1}static fromRawFrame(e,t){const r={},i=o=>o.replace(/^\s+|\s+$/g,"");for(const o of e.headers.reverse()){o.indexOf(":");const s=i(o[0]);let a=i(o[1]);t&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(a=Oo.hdrValueUnEscape(a)),r[s]=a}return new Oo({command:e.command,headers:r,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?Oo.toUnit8Array(e,this._binaryBody).buffer:e+this._body+Ql.NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const t of Object.keys(this.headers||{})){const r=this.headers[t];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${t}:${Oo.hdrValueEscape(`${r}`)}`):e.push(`${t}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(Ql.LF)+Ql.LF+Ql.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,t){const r=new TextEncoder().encode(e),i=new Uint8Array([0]),o=new Uint8Array(r.length+t.length+i.length);return o.set(r),o.set(t,r.length),o.set(i,r.length+t.length),o}static marshall(e){return new Oo(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const yC=0,Wd=10,Vd=13,o8=58;class s8{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let r;if(typeof e=="string"?r=this._encoder.encode(e):r=new Uint8Array(e),t&&r[r.length-1]!==0){const i=new Uint8Array(r.length+1);i.set(r,0),i[r.length]=0,r=i}for(let i=0;i<r.length;i++){const o=r[i];this._onByte(o)}}_collectFrame(e){if(e!==yC&&e!==Vd){if(e===Wd){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==Vd){if(e===Wd){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==Vd){if(e===Wd){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===o8){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==Vd){if(e===Wd){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(t=>t[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===yC){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Io;(function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED"})(Io||(Io={}));var di;(function(n){n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE"})(di||(di={}));var zh;(function(n){n[n.LINEAR=0]="LINEAR",n[n.EXPONENTIAL=1]="EXPONENTIAL"})(zh||(zh={}));var Cc;(function(n){n.Interval="interval",n.Worker="worker"})(Cc||(Cc={}));class a8{constructor(e,t=Cc.Interval,r){this._interval=e,this._strategy=t,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(e){this.stop(),this.shouldUseWorker()?this.runWorker(e):this.runInterval(e)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Cc.Worker}runWorker(e){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=t=>e(t.data))}runInterval(e){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const t=Date.now();this._timer=setInterval(()=>{e(Date.now()-t)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Jn{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}Jn.V1_0="1.0";Jn.V1_1="1.1";Jn.V1_2="1.2";Jn.default=new Jn([Jn.V1_2,Jn.V1_1,Jn.V1_0]);class l8{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,t,r){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:i=>{this.debug(`connected to server ${i.headers.server}`),this._connected=!0,this._connectedVersion=i.headers.version,this._connectedVersion===Jn.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(i.headers),this.onConnect(i)},MESSAGE:i=>{const o=i.headers.subscription,s=this._subscriptions[o]||this.onUnhandledMessage,a=i,c=this,h=this._connectedVersion===Jn.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(f={})=>c.ack(h,o,f),a.nack=(f={})=>c.nack(h,o,f),s(a)},RECEIPT:i=>{const o=this._receiptWatchers[i.headers["receipt-id"]];o?(o(i),delete this._receiptWatchers[i.headers["receipt-id"]]):this.onUnhandledReceipt(i)},ERROR:i=>{this.onStompError(i)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}start(){const e=new s8(t=>{const r=Oo.fromRawFrame(t,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=t.data instanceof ArrayBuffer?new TextDecoder().decode(t.data):t.data;this.debug(`<<< ${r}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=t=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(t)},this._webSocket.onerror=t=>{this.onWebSocketError(t)},this._webSocket.onopen=()=>{const t=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),t["accept-version"]=this.stompVersions.supportedVersions(),t["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:t})}}_setupHeartbeat(e){if(e.version!==Jn.V1_1&&e.version!==Jn.V1_2||!e["heart-beat"])return;const[t,r]=e["heart-beat"].split(",").map(i=>parseInt(i,10));if(this.heartbeatOutgoing!==0&&r!==0){const i=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${i}ms`),this._pinger=new a8(i,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Io.OPEN&&(this._webSocket.send(Ql.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&t!==0){const i=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${i}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>i*2&&(this.debug(`did not receive server activity for the last ${o}ms`),this._closeOrDiscardWebsocket())},i)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Io.CONNECTING||this._webSocket.readyState===Io.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&i8(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:t,headers:r,body:i,binaryBody:o,skipContentLengthHeader:s}=e,a=new Oo({command:t,headers:r,body:i,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:s});let c=a.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${a}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let h=c;for(;h.length>0;){const f=h.substring(0,this.maxWebSocketChunkSize);h=h.substring(this.maxWebSocketChunkSize),this._webSocket.send(f),this.debug(`chunk sent = ${f.length}, remaining = ${h.length}`)}}}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,t=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(t)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===Io.CONNECTING||this._webSocket.readyState===Io.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:t,headers:r,body:i,binaryBody:o,skipContentLengthHeader:s}=e,a=Object.assign({destination:t},r);this._transmit({command:"SEND",headers:a,body:i,binaryBody:o,skipContentLengthHeader:s})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=e,this._subscriptions[r.id]=t,this._transmit({command:"SUBSCRIBE",headers:r});const i=this;return{id:r.id,unsubscribe(o){return i.unsubscribe(r.id,o)}}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:t}});const r=this;return{id:t,commit(){r.commit(t)},abort(){r.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,r={}){r=Object.assign({},r),this._connectedVersion===Jn.V1_2?r.id=e:r["message-id"]=e,r.subscription=t,this._transmit({command:"ACK",headers:r})}nack(e,t,r={}){return r=Object.assign({},r),this._connectedVersion===Jn.V1_2?r.id=e:r["message-id"]=e,r.subscription=t,this._transmit({command:"NACK",headers:r})}}class c8{get webSocket(){var e;return(e=this._stompHandler)==null?void 0:e._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===di.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=Jn.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=zh.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Cc.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=di.INACTIVE;const t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(di.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===di.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new l8(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:t=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(t)},onDisconnect:t=>{this.onDisconnect(t)},onStompError:t=>{this.onStompError(t)},onWebSocketClose:t=>{this._stompHandler=void 0,this.state===di.DEACTIVATING&&this._changeState(di.INACTIVE),this.onWebSocketClose(t),this.active&&this._schedule_reconnect()},onWebSocketError:t=>{this.onWebSocketError(t)},onUnhandledMessage:t=>{this.onUnhandledMessage(t)},onUnhandledReceipt:t=>{this.onUnhandledReceipt(t)},onUnhandledFrame:t=>{this.onUnhandledFrame(t)}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===zh.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(e={}){var o;const t=e.force||!1,r=this.active;let i;if(this.state===di.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(di.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Io.CLOSED){const s=this._stompHandler.onWebSocketClose;i=new Promise((a,c)=>{this._stompHandler.onWebSocketClose=h=>{s(h),a()}})}else return this._changeState(di.INACTIVE),Promise.resolve();return t?(o=this._stompHandler)==null||o.discardWebsocket():r&&this._disposeStompHandler(),i}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,r={}){return this._checkConnection(),this._stompHandler.subscribe(e,t,r)}unsubscribe(e,t={}){this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t,r={}){this._checkConnection(),this._stompHandler.ack(e,t,r)}nack(e,t,r={}){this._checkConnection(),this._stompHandler.nack(e,t,r)}}const u8=({roomId:n="비로그인",userId:e="홍길동",nick:t="회원"})=>{const[r,i]=j.useState([]),[o,s]=j.useState(""),[a,c]=j.useState(!1),[h,f]=j.useState(""),[p,g]=j.useState([]),[v,b]=j.useState([]),[x,w]=j.useState(!1),[k,C]=j.useState(!1),M=Bt(),T=j.useRef(null),D=j.useRef(null),E={display:"block",width:"100%",padding:"8px 12px",background:"none",border:"none",textAlign:"left",cursor:"pointer"};j.useEffect(()=>{_e.get(to.CHAT.ROOM_DETAIL(n)).then(A=>{f(A.data.name),g(A.data.participants),b(A.data.admins||[])}).catch(()=>{f(n)})},[n]),j.useEffect(()=>{const A=new r8(WA),L=new c8({webSocketFactory:()=>A,reconnectDelay:5e3});return L.onConnect=()=>{c(!0),L.subscribe("/user/queue/history",R=>{const V=JSON.parse(R.body);i(V),_e.post(to.CHAT.MARK_READ(n),null,{params:{userId:e}}).catch(console.error)}),L.publish({destination:`/app/chat.history/${n}`}),L.subscribe(`/topic/room/${n}`,R=>{const V=JSON.parse(R.body);i(Q=>[...Q,V])})},L.activate(),T.current=L,()=>{L.deactivate()}},[n,e]),j.useEffect(()=>{var A;(A=D.current)==null||A.scrollIntoView({behavior:"smooth"})},[r]);const I=()=>{if(!a||!o.trim())return;const A={roomId:n,senderId:e,text:o};T.current.publish({destination:`/app/chat.sendMessage/${n}`,body:JSON.stringify(A)}),s("")},P=()=>{const A=window.prompt("새 채팅방 이름을 입력하세요",h);!A||!A.trim()||_e.put(to.CHAT.UPDATE_ROOM_NAME(n),null,{params:{name:A.trim()}}).then(L=>{f(L.data.name),alert("채팅방 이름이 변경되었습니다.")}).catch(L=>{console.error(L),alert("이름 변경에 실패했습니다.")})},O=()=>{window.confirm("채팅을 나가겠습니까?")&&_e.delete(to.CHAT.DELETE_ROOM(n),{withCredentials:!0}).then(()=>M("/dashboard/chatting/main")).catch(console.error)},B=A=>{_e.post(to.CHAT.GRANT_ADMIN(n),null,{params:{userId:A}}).then(()=>{alert(`${A}님에게 관리자 권한을 부여했습니다.`)}).catch(L=>{console.error(L),alert("권한 부여에 실패했습니다.")})};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"topArea",children:d.jsx("div",{className:"Title",children:d.jsxs("h3",{children:["안녕하세요, ",t,"님!"]})})}),d.jsxs("div",{className:"chatContainer",children:[d.jsxs("header",{className:"chat-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{className:"chat-title",children:["채팅방: ",h||n]}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx("span",{className:"chat-more-button",onClick:()=>w(A=>!A),style:{cursor:"pointer"},children:"더보기 ▾"}),x&&d.jsxs("div",{className:"chat-more-menu",style:{position:"absolute",top:"100%",right:0,background:"#fff",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",zIndex:10},children:[d.jsx("button",{className:"chat-more-item",onClick:O,style:{display:"block",width:"100%",padding:"8px 12px",background:"none",border:"none",textAlign:"left",cursor:"pointer"},children:"채팅방 나가기"}),v.includes(e)&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"chat-more-item",onClick:()=>C(A=>!A),style:E,children:"권한 부여 ▾"}),k&&p.filter(A=>A!==e).map(A=>d.jsx("button",{className:"chat-more-item",onClick:()=>B(A),style:E,children:A},A)),d.jsx("button",{className:"chat-more-item",onClick:P,style:{display:"block",width:"100%",padding:"8px 12px",background:"none",border:"none",textAlign:"left",cursor:"pointer"},children:"채팅방 이름 변경"})]})]})]})]}),d.jsxs("div",{className:"chat-messages",id:"messages",children:[r.map((A,L)=>{const R=A.senderId===e,V=p.reduce((Q,oe)=>{var q;return oe===e?Q:Q+((q=A.readBy)!=null&&q.includes(oe)?0:1)},0);return d.jsxs("div",{className:`chat-message ${R?"mine":"other"}`,children:[d.jsxs("div",{className:"message-meta",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[d.jsx("span",{className:"message-user",children:A.senderName??A.senderId}),d.jsx("span",{className:"message-time",children:new Date(A.timestamp).toLocaleTimeString()}),V>0&&d.jsxs("span",{className:"message-unread",style:{color:"red"},children:["(",V,")"]})]}),d.jsx("div",{className:"message-content",children:A.text})]},L)}),d.jsx("div",{ref:D,id:"bottom-anchor"})]}),d.jsxs("div",{className:"chat-input-area",children:[d.jsx("textarea",{className:"chat-input",id:"inputMessage",placeholder:a?"메시지를 입력하세요...":"연결 중...",value:o,onChange:A=>s(A.target.value),onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),I())},disabled:!a}),d.jsx("button",{className:"chat-send-button",id:"sendBtn",onClick:I,disabled:!a||!o.trim(),children:"전송"})]})]})]})},d8=()=>{const{roomId:n}=rT(),{username:e,nick:t}=$t(),r=e;return d.jsx("div",{className:"dashboardMainContent",id:"chattingroom",children:d.jsxs(sn,{children:[d.jsx(bi,{}),d.jsx("div",{className:"contentArea",id:"chat",children:d.jsx(u8,{roomId:n,userId:r,nick:t})})]})})},h8=({normalList:n=[],trashList:e=[],favoriteList:t=[],sharedList:r=[],onSelectPage:i})=>{console.log("🟦 [MyAside] sharedList:",r),console.log("🟦 [MyAside] sharedList:",r),console.log("🟦 [MyAside] sharedList:",r),console.log("🟦 [MyAside] sharedList:",r);const[o,s]=j.useState(!0),[a,c]=j.useState(!1),[h,f]=j.useState(!1),[p,g]=j.useState(!1);return d.jsx("aside",{children:d.jsxs("div",{className:"sidemenu",children:[d.jsx("div",{className:"sideTop",children:d.jsx("h3",{children:"MyPage"})}),d.jsxs("div",{className:"childArea",children:[d.jsxs("div",{className:"menuItem",onClick:()=>s(v=>!v),children:[d.jsx("img",{src:"/images/File text.svg",alt:"users"}),d.jsx("span",{children:"MyPage"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),o&&d.jsx("ul",{className:`subMenu ${o?"open":""}`,children:n.map(v=>d.jsx("li",{children:d.jsx("a",{href:"#",onClick:b=>{b.preventDefault(),i(v)},children:v.title})},v.id))}),d.jsxs("div",{className:"menuItem",onClick:()=>f(v=>!v),children:[d.jsx("img",{src:"/images/stars.svg",alt:"favorite"}),d.jsx("span",{children:"Favorites"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),h&&t.length>0&&d.jsx("ul",{className:`subMenu ${h?"open":""}`,children:t.map(v=>d.jsx("li",{children:d.jsx("a",{href:"#",onClick:b=>{b.preventDefault(),i(v)},children:v.title})},v.id))}),d.jsxs("div",{className:"menuItem",onClick:()=>g(v=>!v),children:[d.jsx("img",{src:"/images/Share.svg",alt:"shared"}),d.jsx("span",{children:"Shared"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),p&&r.length>0&&d.jsx("ul",{className:`subMenu ${p?"open":""}`,children:r.map(v=>d.jsx("li",{children:d.jsx("a",{href:"#",onClick:b=>{b.preventDefault(),i(v)},children:v.pageTitle||"[제목 없음]"})},v.id))}),d.jsxs("div",{className:"menuItem",onClick:()=>c(!a),children:[d.jsx("img",{src:"/images/Trash 3.svg",alt:"trash"}),d.jsx("span",{children:"Trash"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),a&&e.length>0&&d.jsx("ul",{className:`subMenu ${a?"open":""}`,children:e.map(v=>d.jsx("li",{children:d.jsx("a",{href:"#",onClick:b=>{b.preventDefault(),i(v)},children:v.title})},v.id))})]})]})})},xv=async n=>{try{return(await _e.post(vL,n,{withCredentials:!0,headers:{"Content-Type":"application/json"}})).data}catch(e){console.error(e)}},f8=async n=>{try{return(await _e.delete(xL(n),{withCredentials:!0})).data}catch(e){console.error(e)}},p8=async n=>{try{return(await _e.put(bL(n),null,{withCredentials:!0})).data}catch(e){console.error(e)}},m8=async n=>(await _e.get(yL(n),{withCredentials:!0})).data,g8=async n=>(await _e.get(wL(n),{withCredentials:!0})).data,v8=async n=>(await _e.get(SL(n),{withCredentials:!0})).data,y8=async({mypageId:n,targetUserIds:e,sharedBy:t})=>{try{return(await _e.post(kL,{mypageId:n,targetUserIds:e,sharedBy:t},{withCredentials:!0,headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error(r),r}},b8=async n=>{try{return(await _e.get(`${EL}?company=${encodeURIComponent(n)}`,{withCredentials:!0})).data}catch(e){return console.error(e),[]}},x8=async n=>{try{const e=await _e.get(CL(n),{withCredentials:!0});return console.log("🔗 fetchSharedPagesByUser 결과:",e.data),e.data}catch(e){return console.error(e),[]}};function w8({userGroups:n=[],selected:e=[],expandedDepartments:t={},handleToggleDepartment:r,handleSelectUser:i,handleRemoveUser:o,channelType:s="group"}){return d.jsxs("div",{className:"user-selectors",id:"userSelectors",children:[d.jsxs("div",{className:"available",children:[d.jsx("h3",{children:"초대 가능한 사용자"}),n.map(a=>a.users.length>0&&d.jsxs("div",{className:"department-group",children:[d.jsxs("h4",{onClick:()=>r(a.departmentName),style:{cursor:"pointer"},children:[a.departmentName,d.jsx("span",{style:{marginLeft:"10px"},children:t[a.departmentName]?"▼":"▶"})]}),t[a.departmentName]&&d.jsx("ul",{className:"user-list",children:a.users.map(c=>d.jsxs("li",{className:"user-item",children:[d.jsx("span",{onClick:()=>i(c),children:c.name}),d.jsx("button",{onClick:()=>i(c),children:"+"})]},c.uid))})]},a.departmentName))]}),d.jsxs("div",{className:"selected",children:[d.jsxs("h3",{children:["선택된 사용자 (",e.length,s==="private"?"/1":"",")"]}),d.jsx("ul",{className:"user-list",children:e.map(a=>d.jsxs("li",{className:"user-item",children:[d.jsx("span",{children:a.name}),d.jsx("button",{onClick:()=>o(a),children:"×"})]},a.uid))})]})]})}const S8=({editorRef:n,selectedPage:e,setSelectedPage:t,reloadLists:r,normalList:i=[],favoriteList:o=[],trashList:s=[],userGroups:a=[]})=>{const c=e==null?void 0:e.isDeleted,[h,f]=j.useState(!1),{username:p}=$t(),g=p;j.useEffect(()=>{f((e==null?void 0:e.isFavorite)||!1)},[e]);const v=async()=>{window.confirm("정말 영구 삭제하시겠습니까? 복구 불가합니다.")&&(await f8(e.id),t(null),r&&r(),window.location.reload())},b=async()=>{var R;if(n.current)try{const V=await n.current.save(),Q=V.blocks.find(le=>le.type==="header"),oe=((R=Q==null?void 0:Q.data)==null?void 0:R.text)||"제목 없음",{favorite:q,...Y}=e||{},re={...Y,userId:g,title:oe,content:JSON.stringify(V),isFavorite:(e==null?void 0:e.isFavorite)||!1,shared:!1};await xv(re),await r(),alert("저장 완료!"),window.location.reload()}catch(V){console.error("저장 실패",V),alert("저장 중 오류 발생")}},x=async()=>{if(e!=null&&e.id&&window.confirm("휴지통으로 이동할까요?"))try{await p8(e.id),t(null),await r(),alert("휴지통으로 이동 완료!"),window.location.reload()}catch(R){console.error("삭제 실패",R)}},w=async()=>{if(e)try{const R={...e,isFavorite:!e.isFavorite};await xv(R),await r()}catch{alert("즐겨찾기 변경 실패")}},k=async()=>{if(e)try{const R={...e,isDeleted:!1};await xv(R),t(R),await r(),alert("복원 완료!")}catch{alert("복원 실패")}},[C,M]=j.useState(!1),[T,D]=j.useState([]),[E,I]=j.useState({}),P="group",O=R=>I(V=>({...V,[R]:!V[R]})),B=R=>{D(V=>V.some(Q=>Q.uid===R.uid)?V:[...V,R])},A=R=>{D(V=>V.filter(Q=>Q.uid!==R.uid))},L=async()=>{if(!e){alert("공유할 페이지가 선택되지 않았습니다.");return}try{console.log("🔵 공유하기 요청 시도",e,T,g),console.log("🔵 공유하기 요청 시도",e,T,g),console.log("🔵 공유하기 요청 시도",e,T,g),console.log("🔵 공유하기 요청 시도",e,T,g),await y8({mypageId:e.id,targetUserIds:T.map(R=>R.uid),sharedBy:g}),alert("공유 완료!"),M(!1),D([]),I({})}catch{alert("공유 실패! 관리자에게 문의하세요.")}};return d.jsxs("div",{className:"topArea",children:[d.jsx("div",{className:"favoriteshare",children:c?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"restorebtn",onClick:k,children:d.jsx("img",{src:"/images/Refresh cw.svg",alt:"restore"})}),d.jsx("button",{className:"deletebtn",onClick:v,children:d.jsx("img",{src:"/images/remove.png",alt:"remove"})})]}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:x,children:d.jsx("img",{src:"/images/Trash 3 (1).svg",alt:"trash"})}),d.jsx("button",{onClick:w,children:d.jsx("img",{src:e!=null&&e.isFavorite?"/images/star_filled.svg":"/images/star.png",alt:"fav",style:{width:"20px",height:"20px"}})}),d.jsx("button",{className:"savebtn",onClick:b,children:"저장하기"}),d.jsx("button",{className:"sharebtn",onClick:()=>M(!0),children:d.jsx("p",{children:"공유하기"})})]})}),C&&d.jsx("div",{className:"modal-backdrop",onClick:()=>M(!1),children:d.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),style:{minWidth:480},children:[d.jsx("button",{className:"modal-close",onClick:()=>M(!1),children:"✕"}),d.jsx("h2",{children:"공유 대상 선택"}),d.jsx(w8,{userGroups:a,selected:T,expandedDepartments:E,handleToggleDepartment:O,handleSelectUser:B,handleRemoveUser:A,channelType:P}),d.jsxs("div",{className:"actions",children:[d.jsx("button",{className:"btn-secondary",onClick:()=>M(!1),children:"취소"}),d.jsx("button",{className:"btn-primary",disabled:T.length<1||!e,onClick:L,children:"공유하기"})]})]})})]})},k8="modulepreload",E8=function(n){return"/"+n},bC={},qd=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(t.map(h=>{if(h=E8(h),h in bC)return;bC[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":k8,f||(g.as="script"),g.crossOrigin="",g.href=h,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var _c=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function Lf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function C8(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}function wv(){}Object.assign(wv,{default:wv,register:wv,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){const e=(this.document||this.ownerDocument).querySelectorAll(n);let t=e.length;for(;--t>=0&&e.item(t)!==this;);return t>-1});Element.prototype.closest||(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(n){const e=document.createDocumentFragment();Array.isArray(n)||(n=[n]),n.forEach(t=>{const r=t instanceof Node;e.appendChild(r?t:document.createTextNode(t))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(n){n=arguments.length===0?!0:!!n;const e=this.parentNode,t=window.getComputedStyle(e,null),r=parseInt(t.getPropertyValue("border-top-width")),i=parseInt(t.getPropertyValue("border-left-width")),o=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,c=this.offsetLeft-e.offsetLeft+this.clientWidth-i>e.scrollLeft+e.clientWidth,h=o&&!s;(o||s)&&n&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||c)&&n&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-i+this.clientWidth/2),(o||s||a||c)&&!n&&this.scrollIntoView(h)});window.requestIdleCallback=window.requestIdleCallback||function(n){const e=Date.now();return setTimeout(function(){n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(n){clearTimeout(n)};let _8=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");var cD=(n=>(n.VERBOSE="VERBOSE",n.INFO="INFO",n.WARN="WARN",n.ERROR="ERROR",n))(cD||{});const Ye={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46},T8={LEFT:0};function Gc(n,e,t="log",r,i="color: inherit"){if(!("console"in window)||!window.console[t])return;const o=["info","log","warn","error"].includes(t),s=[];switch(Gc.logLevel){case"ERROR":if(t!=="error")return;break;case"WARN":if(!["error","warn"].includes(t))return;break;case"INFO":if(!o||n)return;break}r&&s.push(r);const a="Editor.js 2.31.0-rc.7";n&&(o?(s.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,i),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{o?r?console[t](`${e} %o`,...s):console[t](e,...s):console[t](e)}catch{}}Gc.logLevel="VERBOSE";function j8(n){Gc.logLevel=n}const vt=Gc.bind(window,!1),Gr=Gc.bind(window,!0);function Rs(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Ut(n){return Rs(n)==="function"||Rs(n)==="asyncfunction"}function _n(n){return Rs(n)==="object"}function oo(n){return Rs(n)==="string"}function D8(n){return Rs(n)==="boolean"}function xC(n){return Rs(n)==="number"}function wC(n){return Rs(n)==="undefined"}function Qr(n){return n?Object.keys(n).length===0&&n.constructor===Object:!0}function uD(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}async function M8(n,e=()=>{},t=()=>{}){async function r(i,o,s){try{await i.function(i.data),await o(wC(i.data)?{}:i.data)}catch{s(wC(i.data)?{}:i.data)}}return n.reduce(async(i,o)=>(await i,r(o,e,t)),Promise.resolve())}function dD(n){return Array.prototype.slice.call(n)}function Uh(n,e){return function(){const t=this,r=arguments;window.setTimeout(()=>n.apply(t,r),e)}}function P8(n){return n.name.split(".").pop()}function O8(n){return/^[-\w]+\/([-+\w]+|\*)$/.test(n)}function SC(n,e,t){let r;return(...i)=>{const o=this,s=()=>{r=null,n.apply(o,i)};window.clearTimeout(r),r=window.setTimeout(s,e)}}function ky(n,e,t=void 0){let r,i,o,s=null,a=0;t||(t={});const c=function(){a=t.leading===!1?0:Date.now(),s=null,o=n.apply(r,i),s||(r=i=null)};return function(){const h=Date.now();!a&&t.leading===!1&&(a=h);const f=e-(h-a);return r=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=h,o=n.apply(r,i),s||(r=i=null)):!s&&t.trailing!==!1&&(s=setTimeout(c,f)),o}}function I8(){const n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e&&(n[e]=!0),n}function $h(n){return n[0].toUpperCase()+n.slice(1)}function Ey(n,...e){if(!e.length)return n;const t=e.shift();if(_n(n)&&_n(t))for(const r in t)_n(t[r])?(n[r]||Object.assign(n,{[r]:{}}),Ey(n[r],t[r])):Object.assign(n,{[r]:t[r]});return Ey(n,...e)}function Eb(n){const e=I8();return n=n.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?n=n.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function N8(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function R8(){return _8(10)}function A8(n){window.open(n,"_blank")}function L8(n=""){return`${n}${Math.floor(Math.random()*1e8).toString(16)}`}function Cy(n,e,t){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${t}» instead.`;n&&Gr(r,"warn")}function La(n,e,t){const r=t.value?"value":"get",i=t[r],o=`#${e}Cache`;if(t[r]=function(...s){return this[o]===void 0&&(this[o]=i.apply(this,...s)),this[o]},r==="get"&&t.set){const s=t.set;t.set=function(a){delete n[o],s.apply(this,a)}}return t}const hD=650;function Ba(){return window.matchMedia(`(max-width: ${hD}px)`).matches}const _y=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function B8(n,e){const t=Array.isArray(n)||_n(n),r=Array.isArray(e)||_n(e);return t||r?JSON.stringify(n)===JSON.stringify(e):n===e}class ue{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,t=null,r={}){const i=document.createElement(e);if(Array.isArray(t)){const o=t.filter(s=>s!==void 0);i.classList.add(...o)}else t&&i.classList.add(t);for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o]);return i}static text(e){return document.createTextNode(e)}static append(e,t){Array.isArray(t)?t.forEach(r=>e.appendChild(r)):e.appendChild(t)}static prepend(e,t){Array.isArray(t)?(t=t.reverse(),t.forEach(r=>e.prepend(r))):e.prepend(t)}static swap(e,t){const r=document.createElement("div"),i=e.parentNode;i.insertBefore(r,e),i.insertBefore(e,t),i.insertBefore(t,r),i.removeChild(r)}static find(e=document,t){return e.querySelector(t)}static get(e){return document.getElementById(e)}static findAll(e=document,t){return e.querySelectorAll(t)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return dD(e.querySelectorAll(ue.allInputsSelector)).reduce((t,r)=>ue.isNativeInput(r)||ue.containsOnlyInlineElements(r)?[...t,r]:[...t,...ue.getDeepestBlockElements(r)],[])}static getDeepestNode(e,t=!1){const r=t?"lastChild":"firstChild",i=t?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let o=e[r];if(ue.isSingleTag(o)&&!ue.isNativeInput(o)&&!ue.isLineBreakTag(o))if(o[i])o=o[i];else if(o.parentNode[i])o=o.parentNode[i];else return o.parentNode;return this.getDeepestNode(o,t)}return e}static isElement(e){return xC(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return xC(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const t=["INPUT","TEXTAREA"];return e&&e.tagName?t.includes(e.tagName):!1}static canSetCaret(e){let t=!0;if(ue.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=ue.isContentEditable(e);return t}static isNodeEmpty(e,t){let r;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?r=e.value:r=e.textContent.replace("​",""),t&&(r=r.replace(new RegExp(t,"g"),"")),r.length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,t){const r=[e];for(;r.length>0;)if(e=r.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,t))return!1;e.childNodes&&r.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const t=ue.make("div");return t.innerHTML=e,t.childElementCount>0}static getContentLength(e){return ue.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let t;oo(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;const r=i=>!ue.blockElements.includes(i.tagName.toLowerCase())&&Array.from(i.children).every(r);return Array.from(t.children).every(r)}static getDeepestBlockElements(e){return ue.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((t,r)=>[...t,...ue.getDeepestBlockElements(r)],[])}static getHolder(e){return oo(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const t=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,o=t.top+i,s=t.left+r;return{top:o,left:s,bottom:o+t.height,right:s+t.width}}}function F8(n){return!/[^\t\n\r ]/.test(n)}function H8(n){const e=window.getComputedStyle(n),t=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||t*1.2,i=parseFloat(e.paddingTop),o=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=t*.8,c=(r-t)/2;return s+o+i+c+a}function fD(n){n.dataset.empty=ue.isEmpty(n)?"true":"false"}const z8={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},U8={Text:"",Link:"",Bold:"",Italic:""},$8={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},W8={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},pD={ui:z8,toolNames:U8,tools:$8,blockTunes:W8},mD=class pa{static ui(e,t){return pa._t(e,t)}static t(e,t){return pa._t(e,t)}static setDictionary(e){pa.currentDictionary=e}static _t(e,t){const r=pa.getNamespace(e);return!r||!r[t]?t:r[t]}static getNamespace(e){return e.split(".").reduce((t,r)=>!t||!Object.keys(t).length?{}:t[r],pa.currentDictionary)}};mD.currentDictionary=pD;let Qn=mD;class gD extends Error{}class Xc{constructor(){this.subscribers={}}on(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}once(e,t){e in this.subscribers||(this.subscribers[e]=[]);const r=i=>{const o=t(i),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),o};this.subscribers[e].push(r)}emit(e,t){Qr(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,i)=>{const o=i(r);return o!==void 0?o:r},t)}off(e,t){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===t){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}}function Qi(n){Object.setPrototypeOf(this,{get id(){return n.id},get name(){return n.name},get config(){return n.config},get holder(){return n.holder},get isEmpty(){return n.isEmpty},get selected(){return n.selected},set stretched(e){n.stretched=e},get stretched(){return n.stretched},get focusable(){return n.focusable},call(e,t){return n.call(e,t)},save(){return n.save()},validate(e){return n.validate(e)},dispatchChange(){n.dispatchChange()},getActiveToolboxEntry(){return n.getActiveToolboxEntry()}})}class Kc{constructor(){this.allListeners=[]}on(e,t,r,i=!1){const o=L8("l"),s={id:o,element:e,eventType:t,handler:r,options:i};if(!this.findOne(e,t,r))return this.allListeners.push(s),e.addEventListener(t,r,i),o}off(e,t,r,i){const o=this.findAll(e,t,r);o.forEach((s,a)=>{const c=this.allListeners.indexOf(o[a]);c>-1&&(this.allListeners.splice(c,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}findOne(e,t,r){const i=this.findAll(e,t,r);return i.length>0?i[0]:null}findAll(e,t,r){let i;const o=e?this.findByEventTarget(e):[];return e&&t&&r?i=o.filter(s=>s.eventType===t&&s.handler===r):e&&t?i=o.filter(s=>s.eventType===t):i=o,i}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(t=>{if(t.element===e)return t})}findByType(e){return this.allListeners.filter(t=>{if(t.eventType===e)return t})}findByHandler(e){return this.allListeners.filter(t=>{if(t.handler===e)return t})}findById(e){return this.allListeners.find(t=>t.id===e)}}class rt{constructor({config:e,eventsDispatcher:t}){if(this.nodes={},this.listeners=new Kc,this.readOnlyMutableListeners={on:(r,i,o,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,i,o,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===rt)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=t}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class Be{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const t=e.anchorNode;return t?ue.isElement(t)?t:t.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(Be.get())}static isSelectionAtEditor(e){if(!e)return!1;let t=e.anchorNode||e.focusNode;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let r=null;return t&&t instanceof Element&&(r=t.closest(`.${Be.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let t=e.startContainer;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let r=null;return t&&t instanceof Element&&(r=t.closest(`.${Be.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!Be.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,t,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,t=e.createRange(),r.x=t.boundingLeft,r.y=t.boundingTop,r.width=t.boundingWidth,r.height=t.boundingHeight,r;if(!window.getSelection)return vt("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return vt("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(t=e.getRangeAt(0).cloneRange(),t.getBoundingClientRect&&(r=t.getBoundingClientRect()),r.x===0&&r.y===0){const i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("​")),t.insertNode(i),r=i.getBoundingClientRect();const o=i.parentNode;o.removeChild(i),o.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,t=0){const r=document.createRange(),i=window.getSelection();return ue.isNativeInput(e)?ue.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()):void 0:(r.setStart(e,t),r.setEnd(e,t),i.removeAllRanges(),i.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const t=Be.range;return t===null?!1:e.contains(t.startContainer)}static addFakeCursor(){const e=Be.range;if(e===null)return;const t=ue.make("span","codex-editor__fake-cursor");t.dataset.mutationFree="true",e.collapse(),e.insertNode(t)}static isFakeCursorInsideContainer(e){return ue.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const t=ue.find(e,".codex-editor__fake-cursor");t&&t.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=Be.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t,r=10){const i=window.getSelection();let o=null;return!i||!i.anchorNode||!i.focusNode?null:([i.anchorNode,i.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(o=s,t&&s.classList&&!s.classList.contains(t)&&(o=null),o));)s=s.parentNode,a--}),o)}expandToTag(e){const t=window.getSelection();t.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),t.addRange(r)}}function V8(n,e){const{type:t,target:r,addedNodes:i,removedNodes:o}=n;return n.type==="attributes"&&n.attributeName==="data-empty"?!1:!!(e.contains(r)||t==="childList"&&(Array.from(i).some(s=>s===e)||Array.from(o).some(s=>s===e)))}const Ty="redactor dom changed",vD="block changed",yD="fake cursor is about to be toggled",bD="fake cursor have been set",Tc="editor mobile layout toggled";function jy(n,e){if(!n.conversionConfig)return!1;const t=n.conversionConfig[e];return Ut(t)||oo(t)}function Wh(n,e){return jy(n.tool,e)}function xD(n,e){return Object.entries(n).some(([t,r])=>e[t]&&B8(e[t],r))}async function wD(n,e){const t=(await n.save()).data,r=e.find(i=>i.name===n.name);return r!==void 0&&!jy(r,"export")?[]:e.reduce((i,o)=>{if(!jy(o,"import")||o.toolbox===void 0)return i;const s=o.toolbox.filter(a=>{if(Qr(a)||a.icon===void 0)return!1;if(a.data!==void 0){if(xD(a.data,t))return!1}else if(o.name===n.name)return!1;return!0});return i.push({...o,toolbox:s}),i},[])}function kC(n,e){return n.mergeable?n.name===e.name?!0:Wh(e,"export")&&Wh(n,"import"):!1}function q8(n,e){const t=e==null?void 0:e.export;return Ut(t)?t(n):oo(t)?n[t]:(t!==void 0&&vt("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function EC(n,e,t){const r=e==null?void 0:e.import;return Ut(r)?r(n,t):oo(r)?{[r]:n}:(r!==void 0&&vt("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var Nt=(n=>(n.Default="default",n.Separator="separator",n.Html="html",n))(Nt||{}),eo=(n=>(n.APPEND_CALLBACK="appendCallback",n.RENDERED="rendered",n.MOVED="moved",n.UPDATED="updated",n.REMOVED="removed",n.ON_PASTE="onPaste",n))(eo||{});class En extends Xc{constructor({id:e=R8(),data:t,tool:r,readOnly:i,tunesData:o},s){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(a=void 0)=>{const c=a===void 0,h=a instanceof InputEvent;!c&&!h&&this.detectToolRootChange(a);let f;c||h?f=!0:f=!(a.length>0&&a.every(p=>{const{addedNodes:g,removedNodes:v,target:b}=p;return[...Array.from(g),...Array.from(v),b].some(x=>(ue.isElement(x)||(x=x.parentElement),x&&x.closest('[data-mutation-free="true"]')!==null))})),f&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.editorEventBus=s||null,this.blockAPI=new Qi(this),this.tool=r,this.toolInstance=r.create(t,this.blockAPI,i),this.tunes=r.tunes,this.composeTunes(o),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=ue.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const t=this.inputs.findIndex(r=>r===e||r.contains(e));t!==-1&&(this.inputIndex=t)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Qr(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return Ut(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=ue.isEmpty(this.pluginsContent,"/"),t=!this.hasMedia;return e&&t}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var t,r;this.holder.classList.toggle(En.CSS.selected,e);const i=e===!0&&Be.isRangeInsideContainer(this.holder),o=e===!1&&Be.isFakeCursorInsideContainer(this.holder);(i||o)&&((t=this.editorEventBus)==null||t.emit(yD,{state:e}),i?Be.addFakeCursor():Be.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(bD,{state:e}))}get selected(){return this.holder.classList.contains(En.CSS.selected)}set stretched(e){this.holder.classList.toggle(En.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(En.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(En.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,t){if(Ut(this.toolInstance[e])){e==="appendCallback"&&vt("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(r){vt(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),t=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([o,s])=>{if(Ut(s.save))try{t[o]=s.save()}catch(a){vt(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let i;return Promise.resolve(e).then(o=>(i=window.performance.now(),{id:this.id,tool:this.name,data:o,tunes:t,time:i-r})).catch(o=>{vt(`Saving process for ${this.name} tool failed due to the ${o}`,"log","red")})}async validate(e){let t=!0;return this.toolInstance.validate instanceof Function&&(t=await this.toolInstance.validate(e)),t}getTunes(){const e=[],t=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return ue.isElement(r)?e.push({type:Nt.Html,element:r}):Array.isArray(r)?e.push(...r):e.push(r),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render()).forEach(i=>{ue.isElement(i)?t.push({type:Nt.Html,element:i}):Array.isArray(i)?t.push(...i):t.push(i)}),{toolTunes:e,commonTunes:t}}updateCurrentInput(){this.currentInput=ue.isNativeInput(document.activeElement)||!Be.anchorNode?document.activeElement:Be.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),Ut(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const t=await this.data,r=e;return r==null?void 0:r.find(i=>xD(i.data,t))}async exportDataAsString(){const e=await this.data;return q8(e,this.tool.conversionConfig)}compose(){const e=ue.make("div",En.CSS.wrapper),t=ue.make("div",En.CSS.content),r=this.toolInstance.render();e.setAttribute("data-cy","block-wrapper"),e.dataset.id=this.id,this.toolRenderedElement=r,t.appendChild(this.toolRenderedElement);let i=t;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(o=>{if(Ut(o.wrap))try{i=o.wrap(i)}catch(s){vt(`Tune ${o.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(i),e}composeTunes(e){Array.from(this.tunes.values()).forEach(t=>{(t.isInternal?this.defaultTunesInstances:this.tunesInstances).set(t.name,t.create(e[t.name],this.blockAPI))}),Object.entries(e).forEach(([t,r])=>{this.tunesInstances.has(t)||(this.unavailableTunesData[t]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),ue.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),ue.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=t=>{const{mutations:r}=t;r.some(i=>V8(i,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(Ty,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Ty,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(t=>{if(Array.from(t.removedNodes).includes(this.toolRenderedElement)){const r=t.addedNodes[t.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(fD)}}class Y8 extends rt{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,t={},r={},i,o,s,a)=>{const c=this.Editor.BlockManager.insert({id:a,tool:e,data:t,index:i,needToFocus:o,replace:s});return new Qi(c)},this.composeBlockData=async e=>{const t=this.Editor.Tools.blockTools.get(e);return new En({tool:t,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,t,r)=>{const{BlockManager:i}=this.Editor,o=i.getBlockById(e);if(o===void 0)throw new Error(`Block with id "${e}" not found`);const s=await i.update(o,t,r);return new Qi(s)},this.convert=async(e,t,r)=>{var i,o;const{BlockManager:s,Tools:a}=this.Editor,c=s.getBlockById(e);if(!c)throw new Error(`Block with id "${e}" not found`);const h=a.blockTools.get(c.name),f=a.blockTools.get(t);if(!f)throw new Error(`Block Tool with type "${t}" not found`);const p=((i=h==null?void 0:h.conversionConfig)==null?void 0:i.export)!==void 0,g=((o=f.conversionConfig)==null?void 0:o.import)!==void 0;if(p&&g){const v=await s.convert(c,t,r);return new Qi(v)}else{const v=[p?!1:$h(c.name),g?!1:$h(t)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${c.name}" to "${t}" is not possible. ${v} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,t=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(t);const r=e.map(({id:i,type:o,data:s})=>this.Editor.BlockManager.composeBlock({id:i,tool:o||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,t),r.map(i=>new Qi(i))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,t)=>this.swap(e,t),move:(e,t)=>this.move(e,t),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,t=!0)=>this.stretchBlock(e,t),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const t=this.Editor.BlockManager.getBlockById(e);if(!t){Gr("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(t)}getBlockByIndex(e){const t=this.Editor.BlockManager.getBlockByIndex(e);if(t===void 0){Gr("There is no block at index `"+e+"`","warn");return}return new Qi(t)}getById(e){const t=this.Editor.BlockManager.getBlockById(e);return t===void 0?(Gr("There is no block with id `"+e+"`","warn"),null):new Qi(t)}getBlockByElement(e){const t=this.Editor.BlockManager.getBlock(e);if(t===void 0){Gr("There is no block corresponding to element `"+e+"`","warn");return}return new Qi(t)}swap(e,t){vt("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}move(e,t){this.Editor.BlockManager.move(e,t)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const t=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(t)}catch(t){Gr(t,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,t=!0){Cy(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=t)}insertNewBlock(){vt("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}function G8(n,e){return typeof n=="number"?e.BlockManager.getBlockByIndex(n):typeof n=="string"?e.BlockManager.getBlockById(n):e.BlockManager.getBlockById(n.id)}class X8 extends rt{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,t),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,t),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,t),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,t),!0):!1,this.setToBlock=(e,t=this.Editor.Caret.positions.DEFAULT,r=0)=>{const i=G8(e,this.Editor);return i===void 0?!1:(this.Editor.Caret.setToBlock(i,t,r),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class K8 extends rt{get methods(){return{emit:(e,t)=>this.emit(e,t),off:(e,t)=>this.off(e,t),on:(e,t)=>this.on(e,t)}}on(e,t){this.eventsDispatcher.on(e,t)}emit(e,t){this.eventsDispatcher.emit(e,t)}off(e,t){this.eventsDispatcher.off(e,t)}}class Cb extends rt{static getNamespace(e,t){return t?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{Gr("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,t){return Object.assign(this.methods,{t:r=>Qn.t(Cb.getNamespace(e,t),r)})}}class J8 extends rt{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,t){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,t)})}}class Q8 extends rt{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class Z8 extends rt{get methods(){return{on:(e,t,r,i)=>this.on(e,t,r,i),off:(e,t,r,i)=>this.off(e,t,r,i),offById:e=>this.offById(e)}}on(e,t,r,i){return this.listeners.on(e,t,r,i)}off(e,t,r,i){this.listeners.off(e,t,r,i)}offById(e){this.listeners.offById(e)}}var SD={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var c in o)i.d(a,c,(function(h){return o[h]}).bind(null,c));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=0)}([function(t,r,i){i(1),t.exports=function(){var o=i(6),s="cdx-notify--bounce-in",a=null;return{show:function(c){if(c.message){(function(){if(a)return!0;a=o.getWrapper(),document.body.appendChild(a)})();var h=null,f=c.time||8e3;switch(c.type){case"confirm":h=o.confirm(c);break;case"prompt":h=o.prompt(c);break;default:h=o.alert(c),window.setTimeout(function(){h.remove()},f)}a.appendChild(h),h.classList.add(s)}}}}()},function(t,r,i){var o=i(2);typeof o=="string"&&(o=[[t.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(o,s),o.locals&&(t.exports=o.locals)},function(t,r,i){(t.exports=i(3)(!1)).push([t.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(t,r){t.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var a=function(c,h){var f=c[1]||"",p=c[3];if(!p)return f;if(h&&typeof btoa=="function"){var g=(b=p,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(b))))+" */"),v=p.sources.map(function(x){return"/*# sourceURL="+p.sourceRoot+x+" */"});return[f].concat(v).concat([g]).join(`
`)}var b;return[f].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},o.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var c={},h=0;h<this.length;h++){var f=this[h][0];typeof f=="number"&&(c[f]=!0)}for(h=0;h<s.length;h++){var p=s[h];typeof p[0]=="number"&&c[p[0]]||(a&&!p[2]?p[2]=a:a&&(p[2]="("+p[2]+") and ("+a+")"),o.push(p))}},o}},function(t,r,i){var o,s,a={},c=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),h=function(P){var O={};return function(B){if(typeof B=="function")return B();if(O[B]===void 0){var A=(function(L){return document.querySelector(L)}).call(this,B);if(window.HTMLIFrameElement&&A instanceof window.HTMLIFrameElement)try{A=A.contentDocument.head}catch{A=null}O[B]=A}return O[B]}}(),f=null,p=0,g=[],v=i(5);function b(P,O){for(var B=0;B<P.length;B++){var A=P[B],L=a[A.id];if(L){L.refs++;for(var R=0;R<L.parts.length;R++)L.parts[R](A.parts[R]);for(;R<A.parts.length;R++)L.parts.push(T(A.parts[R],O))}else{var V=[];for(R=0;R<A.parts.length;R++)V.push(T(A.parts[R],O));a[A.id]={id:A.id,refs:1,parts:V}}}}function x(P,O){for(var B=[],A={},L=0;L<P.length;L++){var R=P[L],V=O.base?R[0]+O.base:R[0],Q={css:R[1],media:R[2],sourceMap:R[3]};A[V]?A[V].parts.push(Q):B.push(A[V]={id:V,parts:[Q]})}return B}function w(P,O){var B=h(P.insertInto);if(!B)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var A=g[g.length-1];if(P.insertAt==="top")A?A.nextSibling?B.insertBefore(O,A.nextSibling):B.appendChild(O):B.insertBefore(O,B.firstChild),g.push(O);else if(P.insertAt==="bottom")B.appendChild(O);else{if(typeof P.insertAt!="object"||!P.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var L=h(P.insertInto+" "+P.insertAt.before);B.insertBefore(O,L)}}function k(P){if(P.parentNode===null)return!1;P.parentNode.removeChild(P);var O=g.indexOf(P);O>=0&&g.splice(O,1)}function C(P){var O=document.createElement("style");return P.attrs.type===void 0&&(P.attrs.type="text/css"),M(O,P.attrs),w(P,O),O}function M(P,O){Object.keys(O).forEach(function(B){P.setAttribute(B,O[B])})}function T(P,O){var B,A,L,R;if(O.transform&&P.css){if(!(R=O.transform(P.css)))return function(){};P.css=R}if(O.singleton){var V=p++;B=f||(f=C(O)),A=I.bind(null,B,V,!1),L=I.bind(null,B,V,!0)}else P.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(B=function(Q){var oe=document.createElement("link");return Q.attrs.type===void 0&&(Q.attrs.type="text/css"),Q.attrs.rel="stylesheet",M(oe,Q.attrs),w(Q,oe),oe}(O),A=(function(Q,oe,q){var Y=q.css,re=q.sourceMap,le=oe.convertToAbsoluteUrls===void 0&&re;(oe.convertToAbsoluteUrls||le)&&(Y=v(Y)),re&&(Y+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(re))))+" */");var W=new Blob([Y],{type:"text/css"}),Z=Q.href;Q.href=URL.createObjectURL(W),Z&&URL.revokeObjectURL(Z)}).bind(null,B,O),L=function(){k(B),B.href&&URL.revokeObjectURL(B.href)}):(B=C(O),A=(function(Q,oe){var q=oe.css,Y=oe.media;if(Y&&Q.setAttribute("media",Y),Q.styleSheet)Q.styleSheet.cssText=q;else{for(;Q.firstChild;)Q.removeChild(Q.firstChild);Q.appendChild(document.createTextNode(q))}}).bind(null,B),L=function(){k(B)});return A(P),function(Q){if(Q){if(Q.css===P.css&&Q.media===P.media&&Q.sourceMap===P.sourceMap)return;A(P=Q)}else L()}}t.exports=function(P,O){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(O=O||{}).attrs=typeof O.attrs=="object"?O.attrs:{},O.singleton||typeof O.singleton=="boolean"||(O.singleton=c()),O.insertInto||(O.insertInto="head"),O.insertAt||(O.insertAt="bottom");var B=x(P,O);return b(B,O),function(A){for(var L=[],R=0;R<B.length;R++){var V=B[R];(Q=a[V.id]).refs--,L.push(Q)}for(A&&b(x(A,O),O),R=0;R<L.length;R++){var Q;if((Q=L[R]).refs===0){for(var oe=0;oe<Q.parts.length;oe++)Q.parts[oe]();delete a[Q.id]}}}};var D,E=(D=[],function(P,O){return D[P]=O,D.filter(Boolean).join(`
`)});function I(P,O,B,A){var L=B?"":A.css;if(P.styleSheet)P.styleSheet.cssText=E(O,L);else{var R=document.createTextNode(L),V=P.childNodes;V[O]&&P.removeChild(V[O]),V.length?P.insertBefore(R,V[O]):P.appendChild(R)}}},function(t,r){t.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,a=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(c,h){var f,p=h.trim().replace(/^"(.*)"$/,function(g,v){return v}).replace(/^'(.*)'$/,function(g,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(p)?c:(f=p.indexOf("//")===0?p:p.indexOf("/")===0?s+p:a+p.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(t,r,i){var o,s,a,c,h,f,p,g,v;t.exports=(o="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",c="cdx-notify__button--confirm",h="cdx-notify__button--cancel",f="cdx-notify__input",p="cdx-notify__button",g="cdx-notify__btns-wrapper",{alert:v=function(b){var x=document.createElement("DIV"),w=document.createElement("DIV"),k=b.message,C=b.style;return x.classList.add(s),C&&x.classList.add(s+"--"+C),x.innerHTML=k,w.classList.add(a),w.addEventListener("click",x.remove.bind(x)),x.appendChild(w),x},confirm:function(b){var x=v(b),w=document.createElement("div"),k=document.createElement("button"),C=document.createElement("button"),M=x.querySelector("."+a),T=b.cancelHandler,D=b.okHandler;return w.classList.add(g),k.innerHTML=b.okText||"Confirm",C.innerHTML=b.cancelText||"Cancel",k.classList.add(p),C.classList.add(p),k.classList.add(c),C.classList.add(h),T&&typeof T=="function"&&(C.addEventListener("click",T),M.addEventListener("click",T)),D&&typeof D=="function"&&k.addEventListener("click",D),k.addEventListener("click",x.remove.bind(x)),C.addEventListener("click",x.remove.bind(x)),w.appendChild(k),w.appendChild(C),x.appendChild(w),x},prompt:function(b){var x=v(b),w=document.createElement("div"),k=document.createElement("button"),C=document.createElement("input"),M=x.querySelector("."+a),T=b.cancelHandler,D=b.okHandler;return w.classList.add(g),k.innerHTML=b.okText||"Ok",k.classList.add(p),k.classList.add(c),C.classList.add(f),b.placeholder&&C.setAttribute("placeholder",b.placeholder),b.default&&(C.value=b.default),b.inputType&&(C.type=b.inputType),T&&typeof T=="function"&&M.addEventListener("click",T),D&&typeof D=="function"&&k.addEventListener("click",function(){D(C.value)}),k.addEventListener("click",x.remove.bind(x)),w.appendChild(C),w.appendChild(k),x.appendChild(w),x},getWrapper:function(){var b=document.createElement("DIV");return b.classList.add(o),b}})}])})})(SD);var ez=SD.exports;const tz=Lf(ez);class nz{show(e){tz.show(e)}}class rz extends rt{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.notifier=new nz}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class iz extends rt{get methods(){const e=()=>this.isEnabled;return{toggle:t=>this.toggle(t),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var kD={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(_c,function(){function t(p){var g=p.tags,v=Object.keys(g),b=v.map(function(x){return typeof g[x]}).every(function(x){return x==="object"||x==="boolean"||x==="function"});if(!b)throw new Error("The configuration was invalid");this.config=p}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(p){return r.indexOf(p.nodeName)!==-1}var o=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(p){return o.indexOf(p.nodeName)!==-1}t.prototype.clean=function(p){const g=document.implementation.createHTMLDocument(),v=g.createElement("div");return v.innerHTML=p,this._sanitize(g,v),v.innerHTML},t.prototype._sanitize=function(p,g){var v=a(p,g),b=v.firstChild();if(b)do{if(b.nodeType===Node.TEXT_NODE)if(b.data.trim()===""&&(b.previousElementSibling&&i(b.previousElementSibling)||b.nextElementSibling&&i(b.nextElementSibling))){g.removeChild(b),this._sanitize(p,g);break}else continue;if(b.nodeType===Node.COMMENT_NODE){g.removeChild(b),this._sanitize(p,g);break}var x=s(b),w;x&&(w=Array.prototype.some.call(b.childNodes,i));var k=!!g.parentNode,C=i(g)&&i(b)&&k,M=b.nodeName.toLowerCase(),T=c(this.config,M,b),D=x&&w;if(D||h(b,T)||!this.config.keepNestedBlockElements&&C){if(!(b.nodeName==="SCRIPT"||b.nodeName==="STYLE"))for(;b.childNodes.length>0;)g.insertBefore(b.childNodes[0],b);g.removeChild(b),this._sanitize(p,g);break}for(var E=0;E<b.attributes.length;E+=1){var I=b.attributes[E];f(I,T,b)&&(b.removeAttribute(I.name),E=E-1)}this._sanitize(p,b)}while(b=v.nextSibling())};function a(p,g){return p.createTreeWalker(g,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function c(p,g,v){return typeof p.tags[g]=="function"?p.tags[g](v):p.tags[g]}function h(p,g){return typeof g>"u"?!0:typeof g=="boolean"?!g:!1}function f(p,g,v){var b=p.name.toLowerCase();return g===!0?!1:typeof g[b]=="function"?!g[b](p.value,v):typeof g[b]>"u"||g[b]===!1?!0:typeof g[b]=="string"?g[b]!==p.value:!1}return t})})(kD);var oz=kD.exports;const sz=Lf(oz);function _b(n,e){return n.map(t=>{const r=Ut(e)?e(t.tool):e;return Qr(r)||(t.data=Tb(t.data,r)),t})}function Pi(n,e={}){const t={tags:e};return new sz(t).clean(n)}function Tb(n,e){return Array.isArray(n)?az(n,e):_n(n)?lz(n,e):oo(n)?cz(n,e):n}function az(n,e){return n.map(t=>Tb(t,e))}function lz(n,e){const t={};for(const r in n){if(!Object.prototype.hasOwnProperty.call(n,r))continue;const i=n[r],o=uz(e[r])?e[r]:e;t[r]=Tb(i,o)}return t}function cz(n,e){return _n(e)?Pi(n,e):e===!1?Pi(n,{}):n}function uz(n){return _n(n)||D8(n)||Ut(n)}class dz extends rt{get methods(){return{clean:(e,t)=>this.clean(e,t)}}clean(e,t){return Pi(e,t)}}class hz extends rt{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Gr(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class fz extends rt{constructor(){super(...arguments),this.selectionUtils=new Be}get methods(){return{findParentTag:(e,t)=>this.findParentTag(e,t),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,t){return this.selectionUtils.findParentTag(e,t)}expandToTag(e){this.selectionUtils.expandToTag(e)}}class pz extends rt{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class mz extends rt{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class gz extends rt{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Gr("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Gr("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var ED={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var c in o)i.d(a,c,(function(h){return o[h]}).bind(null,c));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=0)}([function(t,r,i){t.exports=i(1)},function(t,r,i){i.r(r),i.d(r,"default",function(){return o});class o{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,c,h){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const f=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},h);if(f.hidingDelay&&(this.hidingDelay=f.hidingDelay),this.nodes.content.innerHTML="",typeof c=="string")this.nodes.content.appendChild(document.createTextNode(c));else{if(!(c instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof c+" given.");this.nodes.content.appendChild(c)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),f.placement){case"top":this.placeTop(a,f);break;case"left":this.placeLeft(a,f);break;case"right":this.placeRight(a,f);break;case"bottom":default:this.placeBottom(a,f)}f&&f.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},f.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,c,h){a.addEventListener("mouseenter",()=>{this.show(a,c,h)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const c=i(2),h=this.make("style",null,{textContent:c.toString(),id:a});this.prepend(document.head,h)}placeBottom(a,c){const h=a.getBoundingClientRect(),f=h.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,p=h.bottom+window.pageYOffset+this.offsetTop+c.marginTop;this.applyPlacement("bottom",f,p)}placeTop(a,c){const h=a.getBoundingClientRect(),f=h.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,p=h.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",f,p)}placeLeft(a,c){const h=a.getBoundingClientRect(),f=h.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-c.marginLeft,p=h.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",f,p)}placeRight(a,c){const h=a.getBoundingClientRect(),f=h.right+this.offsetRight+c.marginRight,p=h.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",f,p)}applyPlacement(a,c,h){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=c+"px",this.nodes.wrapper.style.top=h+"px"}make(a,c=null,h={}){const f=document.createElement(a);Array.isArray(c)?f.classList.add(...c):c&&f.classList.add(c);for(const p in h)h.hasOwnProperty(p)&&(f[p]=h[p]);return f}append(a,c){Array.isArray(c)?c.forEach(h=>a.appendChild(h)):a.appendChild(c)}prepend(a,c){Array.isArray(c)?(c=c.reverse()).forEach(h=>a.prepend(h)):a.prepend(c)}}},function(t,r){t.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(ED);var vz=ED.exports;const yz=Lf(vz);let mi=null;function jb(){mi||(mi=new yz)}function bz(n,e,t){jb(),mi==null||mi.show(n,e,t)}function Vh(n=!1){jb(),mi==null||mi.hide(n)}function qh(n,e,t){jb(),mi==null||mi.onHover(n,e,t)}function xz(){mi==null||mi.destroy(),mi=null}class wz extends rt{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t})}get methods(){return{show:(e,t,r)=>this.show(e,t,r),hide:()=>this.hide(),onHover:(e,t,r)=>this.onHover(e,t,r)}}show(e,t,r){bz(e,t,r)}hide(){Vh()}onHover(e,t,r){qh(e,t,r)}}class Sz extends rt{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function CD(n,e){const t={};return Object.entries(n).forEach(([r,i])=>{if(_n(i)){const o=e?`${e}.${r}`:r;Object.values(i).every(s=>oo(s))?t[r]=o:t[r]=CD(i,o);return}t[r]=i}),t}const Mr=CD(pD);function kz(n,e){const t={};return Object.keys(n).forEach(r=>{const i=e[r];i!==void 0?t[i]=n[r]:t[r]=n[r]}),t}const _D=class Zl{constructor(e,t){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=t}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(Zl.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Zl.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let t=this.cursor;return t===-1?t=e===Zl.directions.RIGHT?-1:0:this.items[t].classList.remove(this.focusedCssClass),e===Zl.directions.RIGHT?t=(t+1)%this.items.length:t=(this.items.length+t-1)%this.items.length,ue.canSetCaret(this.items[t])&&Uh(()=>Be.setCursor(this.items[t]),50)(),this.items[t].classList.add(this.focusedCssClass),t}};_D.directions={RIGHT:"right",LEFT:"left"};let Ll=_D;class As{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=t=>{if(this.isEventReadyForHandling(t))switch(As.usedKeys.includes(t.keyCode)&&t.preventDefault(),t.keyCode){case Ye.TAB:this.handleTabPress(t);break;case Ye.LEFT:case Ye.UP:this.flipLeft();break;case Ye.RIGHT:case Ye.DOWN:this.flipRight();break;case Ye.ENTER:this.handleEnterPress(t);break}},this.iterator=new Ll(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||As.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[Ye.TAB,Ye.LEFT,Ye.RIGHT,Ye.ENTER,Ye.UP,Ye.DOWN]}activate(e,t){this.activated=!0,e&&this.iterator.setItems(e),t!==void 0&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(t=>t!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?Ll.directions.LEFT:Ll.directions.RIGHT){case Ll.directions.RIGHT:this.flipRight();break;case Ll.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),Ut(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}const Ez='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',Cz='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',_z='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',Tz='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',jz='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',Dz='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',Mz='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',Pz='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',CC='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Oz='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Iz='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',TD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',Nz='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Rz='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Az='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',Lz="__",Bz="--";function Qo(n){return(e,t)=>[[n,e].filter(r=>!!r).join(Lz),t].filter(r=>!!r).join(Bz)}const Bl=Qo("ce-hint"),Fl={root:Bl(),alignedStart:Bl(null,"align-left"),alignedCenter:Bl(null,"align-center"),title:Bl("title"),description:Bl("description")};class Fz{constructor(e){this.nodes={root:ue.make("div",[Fl.root,e.alignment==="center"?Fl.alignedCenter:Fl.alignedStart]),title:ue.make("div",Fl.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=ue.make("div",Fl.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}class Db{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){Vh()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,t;this.params!==void 0&&"onActivate"in this.params&&((t=(e=this.params).onActivate)==null||t.call(e,this.params))}addHint(e,t){const r=new Fz(t);qh(e,r.getElement(),{placement:t.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}}const Cr=Qo("ce-popover-item"),Yt={container:Cr(),active:Cr(null,"active"),disabled:Cr(null,"disabled"),focused:Cr(null,"focused"),hidden:Cr(null,"hidden"),confirmationState:Cr(null,"confirmation"),noHover:Cr(null,"no-hover"),noFocus:Cr(null,"no-focus"),title:Cr("title"),secondaryTitle:Cr("secondary-title"),icon:Cr("icon"),iconTool:Cr("icon","tool"),iconChevronRight:Cr("icon","chevron-right"),wobbleAnimation:Qo("wobble")()};class Ts extends Db{constructor(e,t){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(Yt.noFocus)},this.removeSpecialHoverBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(Yt.noHover)},this.onErrorAnimationEnd=()=>{var r,i;(r=this.nodes.icon)==null||r.classList.remove(Yt.wobbleAnimation),(i=this.nodes.icon)==null||i.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,t)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(Yt.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var t;(t=this.nodes.root)==null||t.classList.toggle(Yt.active,e)}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(Yt.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,t){var r,i;const o=(t==null?void 0:t.wrapperTag)||"div",s=ue.make(o,Yt.container,{type:o==="button"?"button":void 0});return e.name&&(s.dataset.itemName=e.name),this.nodes.icon=ue.make("div",[Yt.icon,Yt.iconTool],{innerHTML:e.icon||Mz}),s.appendChild(this.nodes.icon),e.title!==void 0&&s.appendChild(ue.make("div",Yt.title,{innerHTML:e.title||""})),e.secondaryLabel&&s.appendChild(ue.make("div",Yt.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&s.appendChild(ue.make("div",[Yt.icon,Yt.iconChevronRight],{innerHTML:Tz})),this.isActive&&s.classList.add(Yt.active),e.isDisabled&&s.classList.add(Yt.disabled),e.hint!==void 0&&((r=t==null?void 0:t.hint)==null?void 0:r.enabled)!==!1&&this.addHint(s,{...e.hint,position:((i=t==null?void 0:t.hint)==null?void 0:i.position)||"right"}),s}enableConfirmationMode(e){if(this.nodes.root===null)return;const t={...this.params,...e,confirmation:"confirmation"in e?e.confirmation:void 0},r=this.make(t);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(Yt.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Yt.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,t,r;(e=this.nodes.root)==null||e.classList.add(Yt.noHover),(t=this.nodes.root)==null||t.classList.add(Yt.noFocus),(r=this.nodes.root)==null||r.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var t;if(!("confirmation"in e)||e.confirmation===void 0)try{(t=e.onActivate)==null||t.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,t,r;(e=this.nodes.icon)!=null&&e.classList.contains(Yt.wobbleAnimation)||((t=this.nodes.icon)==null||t.classList.add(Yt.wobbleAnimation),(r=this.nodes.icon)==null||r.addEventListener("animationend",this.onErrorAnimationEnd))}}const Sv=Qo("ce-popover-item-separator"),kv={container:Sv(),line:Sv("line"),hidden:Sv(null,"hidden")};class jD extends Db{constructor(){super(),this.nodes={root:ue.make("div",kv.container),line:ue.make("div",kv.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(kv.hidden,e)}}var Ni=(n=>(n.Closed="closed",n.ClosedOnActivate="closed-on-activate",n))(Ni||{});const Xn=Qo("ce-popover"),Zt={popover:Xn(),popoverContainer:Xn("container"),popoverOpenTop:Xn(null,"open-top"),popoverOpenLeft:Xn(null,"open-left"),popoverOpened:Xn(null,"opened"),search:Xn("search"),nothingFoundMessage:Xn("nothing-found-message"),nothingFoundMessageDisplayed:Xn("nothing-found-message","displayed"),items:Xn("items"),overlay:Xn("overlay"),overlayHidden:Xn("overlay","hidden"),popoverNested:Xn(null,"nested"),getPopoverNestedClass:n=>Xn(null,`nested-level-${n.toString()}`),popoverInline:Xn(null,"inline"),popoverHeader:Xn("header")};var wa=(n=>(n.NestingLevel="--nesting-level",n.PopoverHeight="--popover-height",n.InlinePopoverWidth="--inline-popover-width",n.TriggerItemLeft="--trigger-item-left",n.TriggerItemTop="--trigger-item-top",n))(wa||{});const _C=Qo("ce-popover-item-html"),TC={root:_C(),hidden:_C(null,"hidden")};class jc extends Db{constructor(e,t){var r,i;super(e),this.nodes={root:ue.make("div",TC.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((r=t==null?void 0:t.hint)==null?void 0:r.enabled)!==!1&&this.addHint(this.nodes.root,{...e.hint,position:((i=t==null?void 0:t.hint)==null?void 0:i.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(TC.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll(`button, ${ue.allInputsSelector}`);return Array.from(e)}}class DD extends Xc{constructor(e,t={}){super(),this.params=e,this.itemsRenderParams=t,this.listeners=new Kc,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages={...this.messages,...e.messages}),this.nodes={},this.nodes.popoverContainer=ue.make("div",[Zt.popoverContainer]),this.nodes.nothingFoundMessage=ue.make("div",[Zt.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=ue.make("div",[Zt.items]),this.items.forEach(r=>{const i=r.getElement();i!==null&&this.nodes.items.appendChild(i)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",r=>this.handleClick(r)),this.nodes.popover=ue.make("div",[Zt.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof Ts)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(Zt.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(Zt.popoverOpened),this.nodes.popover.classList.remove(Zt.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(Ni.Closed)}destroy(){var e;this.items.forEach(t=>t.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){const t=this.items.find(r=>r.name===e);this.handleItemClick(t)}buildItems(e){return e.map(t=>{switch(t.type){case Nt.Separator:return new jD;case Nt.Html:return new jc(t,this.itemsRenderParams[Nt.Html]);default:return new Ts(t,this.itemsRenderParams[Nt.Default])}})}getTargetItem(e){return this.items.filter(t=>t instanceof Ts||t instanceof jc).find(t=>{const r=t.getElement();return r===null?!1:e.composedPath().includes(r)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(t=>t!==e).forEach(t=>t.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(Ni.ClosedOnActivate))}}handleClick(e){const t=this.getTargetItem(e);t!==void 0&&this.handleItemClick(t)}toggleItemActivenessIfNeeded(e){if(e instanceof Ts&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){const t=this.itemsDefault.filter(r=>r.toggle===e.toggle);if(t.length===1){e.toggleActive();return}t.forEach(r=>{r.toggleActive(r===e)})}}}var Yh=(n=>(n.Search="search",n))(Yh||{});const Ev=Qo("cdx-search-field"),Cv={wrapper:Ev(),icon:Ev("icon"),input:Ev("input")};class Hz extends Xc{constructor({items:e,placeholder:t}){super(),this.listeners=new Kc,this.items=e,this.wrapper=ue.make("div",Cv.wrapper);const r=ue.make("div",Cv.icon,{innerHTML:Nz});this.input=ue.make("input",Cv.input,{placeholder:t,tabIndex:-1}),this.wrapper.appendChild(r),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(Yh.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(Yh.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var t,r;const i=((t=e.title)==null?void 0:t.toLowerCase())||"",o=(r=this.searchQuery)==null?void 0:r.toLowerCase();return o!==void 0?i.includes(o):!1}}var zz=Object.defineProperty,Uz=Object.getOwnPropertyDescriptor,$z=(n,e,t,r)=>{for(var i=Uz(e,t),o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=s(e,t,i)||i);return i&&zz(e,t,i),i};const MD=class PD extends DD{constructor(e,t){super(e,t),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var r;super.hide(),this.destroyNestedPopoverIfExists(),(r=this.flipper)==null||r.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const r=this.itemsDefault.find(i=>i.isFocused);r==null||r.onFocus()},this.onSearch=r=>{var i;const o=r.query==="",s=r.items.length===0;this.items.forEach(c=>{let h=!1;c instanceof Ts?h=!r.items.includes(c):(c instanceof jD||c instanceof jc)&&(h=s||!o),c.toggleHidden(h)}),this.toggleNothingFoundMessage(s);const a=r.query===""?this.flippableElements:r.items.map(c=>c.getElement());(i=this.flipper)!=null&&i.isActivated&&(this.flipper.deactivate(),this.flipper.activate(a))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(Zt.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",r=>this.handleHover(r)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new As({items:this.flippableElements,focusedItemClass:Yt.focused,allowedKeys:[Ye.TAB,Ye.UP,Ye.DOWN,Ye.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(wa.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(Zt.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(Zt.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const t=this.getTargetItem(e);t!==void 0&&this.previouslyHoveredItem!==t&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=t,t.hasChildren&&this.showNestedPopoverForItem(t))}setTriggerItemPosition(e,t){const r=t.getElement(),i=(r?r.offsetTop:0)-this.scrollTop,o=this.offsetTop+i;e.style.setProperty(wa.TriggerItemTop,o+"px")}destroyNestedPopoverIfExists(){var e,t;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(Ni.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(t=this.nestedPopoverTriggerItem)==null||t.onChildrenClose())}showNestedPopoverForItem(e){var t;this.nestedPopover=new PD({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(Ni.ClosedOnActivate,this.hide);const r=this.nestedPopover.getElement();return this.nodes.popover.appendChild(r),this.setTriggerItemPosition(r,e),r.style.setProperty(wa.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(t=this.flipper)==null||t.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),r=this.size.height,i=e.top+r,o=e.top-r,s=Math.min(window.innerHeight,t.bottom);return o<t.top||i<=s}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popover.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),r=this.size.width,i=e.right+r,o=e.left-r,s=Math.min(window.innerWidth,t.right);return o<t.left||i<=s}get size(){var e;const t={height:0,width:0};if(this.nodes.popover===null)return t;const r=this.nodes.popover.cloneNode(!0);r.style.visibility="hidden",r.style.position="absolute",r.style.top="-1000px",r.classList.add(Zt.popoverOpened),(e=r.querySelector("."+Zt.popoverNested))==null||e.remove(),document.body.appendChild(r);const i=r.querySelector("."+Zt.popoverContainer);return t.height=i.offsetHeight,t.width=i.offsetWidth,r.remove(),t}get flippableElements(){return this.items.map(e=>{if(e instanceof Ts)return e.getElement();if(e instanceof jc)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new Hz({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(Yh.Search,this.onSearch);const e=this.search.getElement();e.classList.add(Zt.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(Zt.nothingFoundMessageDisplayed,e)}};$z([La],MD.prototype,"size");let Mb=MD;class Wz extends Mb{constructor(e){const t=!Ba();super({...e,class:Zt.popoverInline},{[Nt.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:t}},[Nt.Html]:{hint:{position:"top",alignment:"center",enabled:t}}}),this.items.forEach(r=>{!(r instanceof Ts)&&!(r instanceof jc)||r.hasChildren&&r.isChildrenOpen&&this.showNestedItems(r)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(wa.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,t){const r=t.getElement(),i=r?r.offsetLeft:0,o=this.offsetLeft+i;e.style.setProperty(wa.TriggerItemLeft,o+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){const t=super.showNestedPopoverForItem(e);return t.getElement().classList.add(Zt.getPopoverNestedClass(t.nestingLevel)),t}handleItemClick(e){var t;e!==this.nestedPopoverTriggerItem&&((t=this.nestedPopoverTriggerItem)==null||t.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const OD=class ec{constructor(){this.scrollPosition=null}lock(){_y?this.lockHard():document.body.classList.add(ec.CSS.scrollLocked)}unlock(){_y?this.unlockHard():document.body.classList.remove(ec.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(ec.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(ec.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};OD.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let Vz=OD;const _v=Qo("ce-popover-header"),Tv={root:_v(),text:_v("text"),backButton:_v("back-button")};class qz{constructor({text:e,onBackButtonClick:t}){this.listeners=new Kc,this.text=e,this.onBackButtonClick=t,this.nodes={root:ue.make("div",[Tv.root]),backButton:ue.make("button",[Tv.backButton]),text:ue.make("div",[Tv.text])},this.nodes.backButton.innerHTML=_z,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class Yz{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}class ID extends DD{constructor(e){super(e,{[Nt.Default]:{hint:{enabled:!1}},[Nt.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new Vz,this.history=new Yz,this.isHidden=!0,this.nodes.overlay=ue.make("div",[Zt.overlay,Zt.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(Zt.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(Zt.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,t){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),t!==void 0){this.header=new qz({text:t,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const r=this.header.getElement();r!==null&&this.nodes.popoverContainer.insertBefore(r,this.nodes.popoverContainer.firstChild)}this.items.forEach(r=>{var i;return(i=r.getElement())==null?void 0:i.remove()}),this.items=this.buildItems(e),this.items.forEach(r=>{var i;const o=r.getElement();o!==null&&((i=this.nodes.items)==null||i.appendChild(o))})}}class Gz extends rt{constructor(){super(...arguments),this.opened=!1,this.selection=new Be,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,Be.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Ni.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=ue.make("div",[this.CSS.settings]),this.nodes.wrapper.setAttribute("data-cy","block-tunes"),this.eventsDispatcher.on(Tc,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(Tc,this.close)}async open(e=this.Editor.BlockManager.currentBlock){var t;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:r,commonTunes:i}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const o=Ba()?ID:Mb;this.popover=new o({searchable:!0,items:await this.getTunesItems(e,i,r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Qn.ui(Mr.ui.popover,"Nothing found"),search:Qn.ui(Mr.ui.popover,"Filter")}}),this.popover.on(Ni.Closed,this.onPopoverClose),(t=this.nodes.wrapper)==null||t.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,t,r){const i=[];r!==void 0&&r.length>0&&(i.push(...r),i.push({type:Nt.Separator}));const o=Array.from(this.Editor.Tools.blockTools.values()),s=(await wD(e,o)).reduce((a,c)=>(c.toolbox.forEach(h=>{a.push({icon:h.icon,title:Qn.t(Mr.toolNames,h.title),name:c.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:f,Caret:p,Toolbar:g}=this.Editor,v=await f.convert(e,c.name,h.data);g.close(),p.setToBlock(v,p.positions.END)}})}),a),[]);return s.length>0&&(i.push({icon:TD,name:"convert-to",title:Qn.ui(Mr.ui.popover,"Convert to"),children:{searchable:!0,items:s}}),i.push({type:Nt.Separator})),i.push(...t),i.map(a=>this.resolveTuneAliases(a))}resolveTuneAliases(e){if(e.type===Nt.Separator||e.type===Nt.Html)return e;const t=kz(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}}var ND={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var c in o)i.d(a,c,(function(h){return o[h]}).bind(null,c));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=0)}([function(t,r,i){function o(c,h){for(var f=0;f<h.length;f++){var p=h[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}function s(c,h,f){return h&&o(c.prototype,h),f&&o(c,f),c}i.r(r);var a=function(){function c(h){var f=this;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,c),this.commands={},this.keys={},this.name=h.name,this.parseShortcutName(h.name),this.element=h.on,this.callback=h.callback,this.executeShortcut=function(p){f.execute(p)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(c,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(c,[{key:"parseShortcutName",value:function(h){h=h.split("+");for(var f=0;f<h.length;f++){h[f]=h[f].toUpperCase();var p=!1;for(var g in c.supportedCommands)if(c.supportedCommands[g].includes(h[f])){p=this.commands[g]=!0;break}p||(this.keys[h[f]]=!0)}for(var v in c.supportedCommands)this.commands[v]||(this.commands[v]=!1)}},{key:"execute",value:function(h){var f,p={CMD:h.ctrlKey||h.metaKey,SHIFT:h.shiftKey,ALT:h.altKey},g=!0;for(f in this.commands)this.commands[f]!==p[f]&&(g=!1);var v,b=!0;for(v in this.keys)b=b&&h.keyCode===c.keyCodes[v];g&&b&&this.callback(h)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),c}();r.default=a}]).default})})(ND);var Xz=ND.exports;const Kz=Lf(Xz);class Jz{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const t=new Kz({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,t])}remove(e,t){const r=this.findShortcut(e,t);if(!r)return;r.remove();const i=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,i.filter(o=>o!==r))}findShortcut(e,t){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===t)}}const _a=new Jz;var Qz=Object.defineProperty,Zz=Object.getOwnPropertyDescriptor,RD=(n,e,t,r)=>{for(var i=Zz(e,t),o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=s(e,t,i)||i);return i&&Qz(e,t,i),i},vh=(n=>(n.Opened="toolbox-opened",n.Closed="toolbox-closed",n.BlockAdded="toolbox-block-added",n))(vh||{});const Pb=class AD extends Xc{constructor({api:e,tools:t,i18nLabels:r}){super(),this.opened=!1,this.listeners=new Kc,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=t,this.i18nLabels=r,this.enableShortcuts(),this.nodes={toolbox:ue.make("div",AD.CSS.toolbox)},this.initPopover(),this.nodes.toolbox.setAttribute("data-cy","toolbox"),this.api.events.on(Tc,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(Ni.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(Tc,this.handleMobileLayoutToggle)}toolButtonActivated(e,t){this.insertNewBlock(e,t)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const t=Ba()?ID:Mb;this.popover=new t({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Ni.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(Ni.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(t=>{t.toolbox&&e.push(t)}),e}get toolboxItemsToBeDisplayed(){const e=(t,r,i=!0)=>({icon:t.icon,title:Qn.t(Mr.toolNames,t.title||$h(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,t.data)},secondaryLabel:r.shortcut&&i?Eb(r.shortcut):""});return this.toolsToBeDisplayed.reduce((t,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach((i,o)=>{t.push(e(i,r,o===0))}):r.toolbox!==void 0&&t.push(e(r.toolbox,r)),t),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const t=e.shortcut;t&&this.enableShortcutForTool(e.name,t)})}enableShortcutForTool(e,t){_a.add({name:t,on:this.api.ui.nodes.redactor,handler:async r=>{r.preventDefault();const i=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(i);if(o)try{const s=await this.api.blocks.convert(o.id,e);this.api.caret.setToBlock(s,"end");return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const t=e.shortcut;t&&_a.remove(this.api.ui.nodes.redactor,t)})}async insertNewBlock(e,t){const r=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(r);if(!i)return;const o=i.isEmpty?r:r+1;let s;if(t){const c=await this.api.blocks.composeBlockData(e);s=Object.assign(c,t)}const a=this.api.blocks.insert(e,s,void 0,o,void 0,i.isEmpty);a.call(eo.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()}};RD([La],Pb.prototype,"toolsToBeDisplayed");RD([La],Pb.prototype,"toolboxItemsToBeDisplayed");let eU=Pb;const LD="block hovered";async function tU(n,e){const t=navigator.keyboard;if(!t)return e;try{return(await t.getLayoutMap()).get(n)||e}catch(r){return console.error(r),e}}class nU extends rt{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var t;(t=this.toolboxInstance)==null||t.close()},open:()=>{if(this.toolboxInstance===null){vt("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){vt("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var t;return(t=this.toolboxInstance)==null?void 0:t.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){vt("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const t=e.holder,{isMobile:r}=this.Editor.UI;let i;const o=20,s=e.firstInput,a=t.getBoundingClientRect(),c=s!==void 0?s.getBoundingClientRect():null,h=c!==null?c.top-a.top:null,f=h!==null?h>o:void 0;if(r)i=t.offsetTop+t.offsetHeight;else if(s===void 0||f){const p=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);i=t.offsetTop+p}else{const p=H8(s),g=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);i=t.offsetTop+p-g+8+h}this.nodes.wrapper.style.top=`${Math.floor(i)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,t;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(t=this.toolboxInstance)==null||t.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=ue.make("div",this.CSS.toolbar),["content","actions"].forEach(o=>{this.nodes[o]=ue.make("div",this.CSS[o])}),ue.append(this.nodes.wrapper,this.nodes.content),ue.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=ue.make("div",this.CSS.plusButton,{innerHTML:Iz}),ue.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Vh(!0),this.plusButtonClicked()},!1);const e=ue.make("div");e.appendChild(document.createTextNode(Qn.ui(Mr.ui.toolbar.toolbox,"Add"))),e.appendChild(ue.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),qh(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=ue.make("span",this.CSS.settingsToggler,{innerHTML:Oz}),ue.append(this.nodes.actions,this.nodes.settingsToggler);const t=ue.make("div"),r=ue.text(Qn.ui(Mr.ui.blockTunes.toggler,"Click to tune")),i=await tU("Slash","/");t.appendChild(r),t.appendChild(ue.make("div",this.CSS.plusButtonShortcut,{textContent:Eb(`CMD + ${i}`)})),qh(this.nodes.settingsToggler,t,{hidingDelay:400}),ue.append(this.nodes.actions,this.makeToolbox()),ue.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),ue.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new eU({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Qn.ui(Mr.ui.popover,"Filter"),nothingFound:Qn.ui(Mr.ui.popover,"Nothing found")}}),this.toolboxInstance.on(vh.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(vh.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(vh.BlockAdded,({block:e})=>{const{BlockManager:t,Caret:r}=this.Editor,i=t.getBlockById(e.id);i.inputs.length===0&&(i===t.lastBlock?(t.insertAtEnd(),r.setToBlock(t.lastBlock)):r.setToBlock(t.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var t;e.stopPropagation(),this.settingsTogglerClicked(),(t=this.toolboxInstance)!=null&&t.opened&&this.toolboxInstance.close(),Vh(!0)},!0),Ba()||this.eventsDispatcher.on(LD,e=>{var t;this.Editor.BlockSettings.opened||(t=this.toolboxInstance)!=null&&t.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var Ps=(n=>(n[n.Block=0]="Block",n[n.Inline=1]="Inline",n[n.Tune=2]="Tune",n))(Ps||{}),yh=(n=>(n.Shortcut="shortcut",n.Toolbox="toolbox",n.EnabledInlineTools="inlineToolbar",n.EnabledBlockTunes="tunes",n.Config="config",n))(yh||{}),BD=(n=>(n.Shortcut="shortcut",n.SanitizeConfig="sanitize",n))(BD||{}),ma=(n=>(n.IsEnabledLineBreaks="enableLineBreaks",n.Toolbox="toolbox",n.ConversionConfig="conversionConfig",n.IsReadOnlySupported="isReadOnlySupported",n.PasteConfig="pasteConfig",n))(ma||{}),Gh=(n=>(n.IsInline="isInline",n.Title="title",n.IsReadOnlySupported="isReadOnlySupported",n))(Gh||{}),Dy=(n=>(n.IsTune="isTune",n))(Dy||{});class Ob{constructor({name:e,constructable:t,config:r,api:i,isDefault:o,isInternal:s=!1,defaultPlaceholder:a}){this.api=i,this.name=e,this.constructable=t,this.config=r,this.isDefault=o,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(Ut(this.constructable.reset))return this.constructable.reset()}prepare(){if(Ut(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===Ps.Inline}isBlock(){return this.type===Ps.Block}isTune(){return this.type===Ps.Tune}}class rU extends rt{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=Ba()?20:6,this.tools=new Map,window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1){e&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,t;if(this.opened){for(const[r,i]of this.tools){const o=this.getToolShortcut(r.name);o!==void 0&&_a.remove(this.Editor.UI.nodes.redactor,o),Ut(i.clear)&&i.clear()}this.tools=new Map,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(t=this.popover)==null||t.destroy(),this.popover=null}}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=ue.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.wrapper.setAttribute("data-cy","inline-toolbar"),ue.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy(),this.createToolsInstances();const t=await this.getPopoverItems();this.popover=new Wz({items:t,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Qn.ui(Mr.ui.popover,"Nothing found"),search:Qn.ui(Mr.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()}move(e){const t=Be.rect,r=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),i={x:t.x-r.x,y:t.y+t.height-r.top+this.toolbarVerticalMargin};i.x+e+r.x>this.Editor.UI.contentRect.right&&(i.x=this.Editor.UI.contentRect.right-e-r.x),this.nodes.wrapper.style.left=Math.floor(i.x)+"px",this.nodes.wrapper.style.top=Math.floor(i.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],t=Be.get(),r=Be.text;if(!t||!t.anchorNode||t.isCollapsed||r.length<1)return!1;const i=ue.isElement(t.anchorNode)?t.anchorNode:t.anchorNode.parentElement;if(i===null||t!==null&&e.includes(i.tagName))return!1;const o=this.Editor.BlockManager.getBlock(t.anchorNode);return!o||this.getTools().some(s=>o.tool.inlineTools.has(s.name))===!1?!1:i.closest("[contenteditable]")!==null}getTools(){const e=this.Editor.BlockManager.currentBlock;return e?Array.from(e.tool.inlineTools.values()).filter(t=>!(this.Editor.ReadOnly.isEnabled&&t.isReadOnlySupported!==!0)):[]}createToolsInstances(){this.tools=new Map,this.getTools().forEach(e=>{const t=e.create();this.tools.set(e,t)})}async getPopoverItems(){const e=[];let t=0;for(const[r,i]of this.tools){const o=await i.render(),s=this.getToolShortcut(r.name);if(s!==void 0)try{this.enableShortcuts(r.name,s)}catch{}const a=s!==void 0?Eb(s):void 0,c=Qn.t(Mr.toolNames,r.title||$h(r.name));[o].flat().forEach(h=>{var f,p;const g={name:r.name,onActivate:()=>{this.toolClicked(i)},hint:{title:c,description:a}};if(ue.isElement(h)){const v={...g,element:h,type:Nt.Html};if(Ut(i.renderActions)){const b=i.renderActions();v.children={isOpen:(f=i.checkState)==null?void 0:f.call(i,Be.get()),isFlippable:!1,items:[{type:Nt.Html,element:b}]}}else(p=i.checkState)==null||p.call(i,Be.get());e.push(v)}else if(h.type===Nt.Html)e.push({...g,...h,type:Nt.Html});else if(h.type===Nt.Separator)e.push({type:Nt.Separator});else{const v={...g,...h,type:Nt.Default};"children"in v&&t!==0&&e.push({type:Nt.Separator}),e.push(v),"children"in v&&t<this.tools.size-1&&e.push({type:Nt.Separator})}}),t++}return e}getToolShortcut(e){const{Tools:t}=this.Editor,r=t.inlineTools.get(e),i=t.internal.inlineTools;return Array.from(i.keys()).includes(e)?this.inlineTools[e][BD.Shortcut]:r==null?void 0:r.shortcut}enableShortcuts(e,t){_a.add({name:t,handler:r=>{var i;const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),(i=this.popover)==null||i.activateItemByName(e))},on:document})}toolClicked(e){var t;const r=Be.range;(t=e.surround)==null||t.call(e,r),this.checkToolsState()}checkToolsState(){var e;(e=this.tools)==null||e.forEach(t=>{var r;(r=t.checkState)==null||r.call(t,Be.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t,r])=>{e[t]=r.create()}),e}}function FD(){const n=window.getSelection();if(n===null)return[null,0];let e=n.focusNode,t=n.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[t]?(e=e.childNodes[t],t=0):(e=e.childNodes[t-1],t=e.textContent.length)),[e,t])}function HD(n,e,t,r){const i=document.createRange();r==="left"?(i.setStart(n,0),i.setEnd(e,t)):(i.setStart(e,t),i.setEnd(n,n.childNodes.length));const o=i.cloneContents(),s=document.createElement("div");s.appendChild(o);const a=s.textContent||"";return F8(a)}function bh(n){const e=ue.getDeepestNode(n);if(e===null||ue.isEmpty(n))return!0;if(ue.isNativeInput(e))return e.selectionEnd===0;if(ue.isEmpty(n))return!0;const[t,r]=FD();return t===null?!1:HD(n,t,r,"left")}function xh(n){const e=ue.getDeepestNode(n,!0);if(e===null)return!0;if(ue.isNativeInput(e))return e.selectionEnd===e.value.length;const[t,r]=FD();return t===null?!1:HD(n,t,r,"right")}var zD={},Ib={},Bf={},Hs={},Nb={},Rb={};Object.defineProperty(Rb,"__esModule",{value:!0});Rb.allInputsSelector=iU;function iU(){var n=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+n.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.allInputsSelector=void 0;var e=Rb;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(Nb);var zs={},Ab={};Object.defineProperty(Ab,"__esModule",{value:!0});Ab.isNativeInput=oU;function oU(n){var e=["INPUT","TEXTAREA"];return n&&n.tagName?e.includes(n.tagName):!1}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNativeInput=void 0;var e=Ab;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(zs);var UD={},Lb={};Object.defineProperty(Lb,"__esModule",{value:!0});Lb.append=sU;function sU(n,e){Array.isArray(e)?e.forEach(function(t){n.appendChild(t)}):n.appendChild(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.append=void 0;var e=Lb;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return e.append}})})(UD);var Bb={},Fb={};Object.defineProperty(Fb,"__esModule",{value:!0});Fb.blockElements=aU;function aU(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.blockElements=void 0;var e=Fb;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Bb);var $D={},Hb={};Object.defineProperty(Hb,"__esModule",{value:!0});Hb.calculateBaseline=lU;function lU(n){var e=window.getComputedStyle(n),t=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||t*1.2,i=parseFloat(e.paddingTop),o=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=t*.8,c=(r-t)/2,h=s+o+i+c+a;return h}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateBaseline=void 0;var e=Hb;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})($D);var WD={},zb={},Ub={},$b={};Object.defineProperty($b,"__esModule",{value:!0});$b.isContentEditable=cU;function cU(n){return n.contentEditable==="true"}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isContentEditable=void 0;var e=$b;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(Ub);Object.defineProperty(zb,"__esModule",{value:!0});zb.canSetCaret=hU;var uU=zs,dU=Ub;function hU(n){var e=!0;if((0,uU.isNativeInput)(n))switch(n.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,dU.isContentEditable)(n);return e}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.canSetCaret=void 0;var e=zb;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(WD);var Ff={},Wb={};function fU(n,e,t){const r=t.value!==void 0?"value":"get",i=t[r],o=`#${e}Cache`;if(t[r]=function(...s){return this[o]===void 0&&(this[o]=i.apply(this,s)),this[o]},r==="get"&&t.set){const s=t.set;t.set=function(a){delete n[o],s.apply(this,a)}}return t}function VD(){const n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e!==void 0&&(n[e]=!0),n}function Vb(n){return n!=null&&n!==""&&(typeof n!="object"||Object.keys(n).length>0)}function pU(n){return!Vb(n)}const mU=()=>typeof window<"u"&&window.navigator!==null&&Vb(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function gU(n){const e=VD();return n=n.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e.mac?n=n.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function vU(n){return n[0].toUpperCase()+n.slice(1)}function yU(n){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=n,document.body.appendChild(e);const t=window.getSelection(),r=document.createRange();if(r.selectNode(e),t===null)throw new Error("Cannot copy text to clipboard");t.removeAllRanges(),t.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function bU(n,e,t){let r;return(...i)=>{const o=this,s=()=>{r=void 0,t!==!0&&n.apply(o,i)},a=t===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(s,e),a&&n.apply(o,i)}}function qo(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function xU(n){return qo(n)==="boolean"}function qD(n){return qo(n)==="function"||qo(n)==="asyncfunction"}function wU(n){return qD(n)&&/^\s*class\s+/.test(n.toString())}function SU(n){return qo(n)==="number"}function wh(n){return qo(n)==="object"}function kU(n){return Promise.resolve(n)===n}function EU(n){return qo(n)==="string"}function CU(n){return qo(n)==="undefined"}function My(n,...e){if(!e.length)return n;const t=e.shift();if(wh(n)&&wh(t))for(const r in t)wh(t[r])?(n[r]===void 0&&Object.assign(n,{[r]:{}}),My(n[r],t[r])):Object.assign(n,{[r]:t[r]});return My(n,...e)}function _U(n,e,t){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${t}» instead.`;n&&console.warn(r)}function TU(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function jU(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}const DU={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},MU={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};let PU=class{constructor(){this.completed=Promise.resolve()}add(n){return new Promise((e,t)=>{this.completed=this.completed.then(n).then(e).catch(t)})}};function OU(n,e,t=void 0){let r,i,o,s=null,a=0;t||(t={});const c=function(){a=t.leading===!1?0:Date.now(),s=null,o=n.apply(r,i),s===null&&(r=i=null)};return function(){const h=Date.now();!a&&t.leading===!1&&(a=h);const f=e-(h-a);return r=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=h,o=n.apply(r,i),s===null&&(r=i=null)):!s&&t.trailing!==!1&&(s=setTimeout(c,f)),o}}const IU=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:PU,beautifyShortcut:gU,cacheable:fU,capitalize:vU,copyTextToClipboard:yU,debounce:bU,deepMerge:My,deprecationAssert:_U,getUserOS:VD,getValidUrl:TU,isBoolean:xU,isClass:wU,isEmpty:pU,isFunction:qD,isIosDevice:mU,isNumber:SU,isObject:wh,isPrintableKey:jU,isPromise:kU,isString:EU,isUndefined:CU,keyCodes:DU,mouseButtons:MU,notEmpty:Vb,throttle:OU,typeOf:qo},Symbol.toStringTag,{value:"Module"})),qb=C8(IU);Object.defineProperty(Wb,"__esModule",{value:!0});Wb.containsOnlyInlineElements=AU;var NU=qb,RU=Bb;function AU(n){var e;(0,NU.isString)(n)?(e=document.createElement("div"),e.innerHTML=n):e=n;var t=function(r){return!(0,RU.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(t)};return Array.from(e.children).every(t)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.containsOnlyInlineElements=void 0;var e=Wb;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Ff);var YD={},Yb={},Hf={},Gb={};Object.defineProperty(Gb,"__esModule",{value:!0});Gb.make=LU;function LU(n,e,t){var r;e===void 0&&(e=null),t===void 0&&(t={});var i=document.createElement(n);if(Array.isArray(e)){var o=e.filter(function(a){return a!==void 0});(r=i.classList).add.apply(r,o)}else e!==null&&i.classList.add(e);for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s]);return i}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.make=void 0;var e=Gb;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return e.make}})})(Hf);Object.defineProperty(Yb,"__esModule",{value:!0});Yb.fragmentToString=FU;var BU=Hf;function FU(n){var e=(0,BU.make)("div");return e.appendChild(n),e.innerHTML}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fragmentToString=void 0;var e=Yb;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(YD);var GD={},Xb={};Object.defineProperty(Xb,"__esModule",{value:!0});Xb.getContentLength=zU;var HU=zs;function zU(n){var e,t;return(0,HU.isNativeInput)(n)?n.value.length:n.nodeType===Node.TEXT_NODE?n.length:(t=(e=n.textContent)===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getContentLength=void 0;var e=Xb;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(GD);var Kb={},Jb={},jC=_c&&_c.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Jb,"__esModule",{value:!0});Jb.getDeepestBlockElements=XD;var UU=Ff;function XD(n){return(0,UU.containsOnlyInlineElements)(n)?[n]:Array.from(n.children).reduce(function(e,t){return jC(jC([],e,!0),XD(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestBlockElements=void 0;var e=Jb;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(Kb);var KD={},Qb={},zf={},Zb={};Object.defineProperty(Zb,"__esModule",{value:!0});Zb.isLineBreakTag=$U;function $U(n){return["BR","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLineBreakTag=void 0;var e=Zb;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(zf);var Uf={},ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.isSingleTag=WU;function WU(n){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSingleTag=void 0;var e=ex;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Uf);Object.defineProperty(Qb,"__esModule",{value:!0});Qb.getDeepestNode=JD;var VU=zs,qU=zf,YU=Uf;function JD(n,e){e===void 0&&(e=!1);var t=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(n.nodeType===Node.ELEMENT_NODE&&n[t]){var i=n[t];if((0,YU.isSingleTag)(i)&&!(0,VU.isNativeInput)(i)&&!(0,qU.isLineBreakTag)(i))if(i[r])i=i[r];else if(i.parentNode!==null&&i.parentNode[r])i=i.parentNode[r];else return i.parentNode;return JD(i,e)}return n}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestNode=void 0;var e=Qb;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(KD);var QD={},tx={},Yd=_c&&_c.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(tx,"__esModule",{value:!0});tx.findAllInputs=QU;var GU=Ff,XU=Kb,KU=Nb,JU=zs;function QU(n){return Array.from(n.querySelectorAll((0,KU.allInputsSelector)())).reduce(function(e,t){return(0,JU.isNativeInput)(t)||(0,GU.containsOnlyInlineElements)(t)?Yd(Yd([],e,!0),[t],!1):Yd(Yd([],e,!0),(0,XU.getDeepestBlockElements)(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.findAllInputs=void 0;var e=tx;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(QD);var ZD={},nx={};Object.defineProperty(nx,"__esModule",{value:!0});nx.isCollapsedWhitespaces=ZU;function ZU(n){return!/[^\t\n\r ]/.test(n)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCollapsedWhitespaces=void 0;var e=nx;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(ZD);var rx={},ix={};Object.defineProperty(ix,"__esModule",{value:!0});ix.isElement=t$;var e$=qb;function t$(n){return(0,e$.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.ELEMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isElement=void 0;var e=ix;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(rx);var e2={},ox={},sx={},ax={};Object.defineProperty(ax,"__esModule",{value:!0});ax.isLeaf=n$;function n$(n){return n===null?!1:n.childNodes.length===0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLeaf=void 0;var e=ax;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(sx);var lx={},cx={};Object.defineProperty(cx,"__esModule",{value:!0});cx.isNodeEmpty=a$;var r$=zf,i$=rx,o$=zs,s$=Uf;function a$(n,e){var t="";return(0,s$.isSingleTag)(n)&&!(0,r$.isLineBreakTag)(n)?!1:((0,i$.isElement)(n)&&(0,o$.isNativeInput)(n)?t=n.value:n.textContent!==null&&(t=n.textContent.replace("​","")),e!==void 0&&(t=t.replace(new RegExp(e,"g"),"")),t.trim().length===0)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeEmpty=void 0;var e=cx;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(lx);Object.defineProperty(ox,"__esModule",{value:!0});ox.isEmpty=u$;var l$=sx,c$=lx;function u$(n,e){n.normalize();for(var t=[n];t.length>0;){var r=t.shift();if(r){if(n=r,(0,l$.isLeaf)(n)&&!(0,c$.isNodeEmpty)(n,e))return!1;t.push.apply(t,Array.from(n.childNodes))}}return!0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEmpty=void 0;var e=ox;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(e2);var t2={},ux={};Object.defineProperty(ux,"__esModule",{value:!0});ux.isFragment=h$;var d$=qb;function h$(n){return(0,d$.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isFragment=void 0;var e=ux;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(t2);var n2={},dx={};Object.defineProperty(dx,"__esModule",{value:!0});dx.isHTMLString=p$;var f$=Hf;function p$(n){var e=(0,f$.make)("div");return e.innerHTML=n,e.childElementCount>0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHTMLString=void 0;var e=dx;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(n2);var r2={},hx={};Object.defineProperty(hx,"__esModule",{value:!0});hx.offset=m$;function m$(n){var e=n.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,i=e.top+r,o=e.left+t;return{top:i,left:o,bottom:i+e.height,right:o+e.width}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.offset=void 0;var e=hx;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return e.offset}})})(r2);var i2={},fx={};Object.defineProperty(fx,"__esModule",{value:!0});fx.prepend=g$;function g$(n,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(t){return n.prepend(t)})):n.prepend(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=void 0;var e=fx;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(i2);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=n.offset=n.make=n.isLineBreakTag=n.isSingleTag=n.isNodeEmpty=n.isLeaf=n.isHTMLString=n.isFragment=n.isEmpty=n.isElement=n.isContentEditable=n.isCollapsedWhitespaces=n.findAllInputs=n.isNativeInput=n.allInputsSelector=n.getDeepestNode=n.getDeepestBlockElements=n.getContentLength=n.fragmentToString=n.containsOnlyInlineElements=n.canSetCaret=n.calculateBaseline=n.blockElements=n.append=void 0;var e=Nb;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var t=zs;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}});var r=UD;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return r.append}});var i=Bb;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return i.blockElements}});var o=$D;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return o.calculateBaseline}});var s=WD;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var a=Ff;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var c=YD;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return c.fragmentToString}});var h=GD;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return h.getContentLength}});var f=Kb;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return f.getDeepestBlockElements}});var p=KD;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return p.getDeepestNode}});var g=QD;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return g.findAllInputs}});var v=ZD;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return v.isCollapsedWhitespaces}});var b=Ub;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return b.isContentEditable}});var x=rx;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return x.isElement}});var w=e2;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return w.isEmpty}});var k=t2;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return k.isFragment}});var C=n2;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return C.isHTMLString}});var M=sx;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return M.isLeaf}});var T=lx;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return T.isNodeEmpty}});var D=zf;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return D.isLineBreakTag}});var E=Uf;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return E.isSingleTag}});var I=Hf;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return I.make}});var P=r2;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return P.offset}});var O=i2;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return O.prepend}})})(Hs);var $f={};Object.defineProperty($f,"__esModule",{value:!0});$f.getContenteditableSlice=y$;var v$=Hs;function y$(n,e,t,r,i){var o;i===void 0&&(i=!1);var s=document.createRange();if(r==="left"?(s.setStart(n,0),s.setEnd(e,t)):(s.setStart(e,t),s.setEnd(n,n.childNodes.length)),i===!0){var a=s.extractContents();return(0,v$.fragmentToString)(a)}var c=s.cloneContents(),h=document.createElement("div");h.appendChild(c);var f=(o=h.textContent)!==null&&o!==void 0?o:"";return f}Object.defineProperty(Bf,"__esModule",{value:!0});Bf.checkContenteditableSliceForEmptiness=w$;var b$=Hs,x$=$f;function w$(n,e,t,r){var i=(0,x$.getContenteditableSlice)(n,e,t,r);return(0,b$.isCollapsedWhitespaces)(i)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.checkContenteditableSliceForEmptiness=void 0;var e=Bf;Object.defineProperty(n,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(Ib);var o2={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getContenteditableSlice=void 0;var e=$f;Object.defineProperty(n,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(o2);var s2={},px={};Object.defineProperty(px,"__esModule",{value:!0});px.focus=k$;var S$=Hs;function k$(n,e){var t,r;if(e===void 0&&(e=!0),(0,S$.isNativeInput)(n)){n.focus();var i=e?0:n.value.length;n.setSelectionRange(i,i)}else{var o=document.createRange(),s=window.getSelection();if(!s)return;var a=function(g){var v=document.createTextNode("");g.appendChild(v),o.setStart(v,0),o.setEnd(v,0)},c=function(g){return g!=null},h=n.childNodes,f=e?h[0]:h[h.length-1];if(c(f)){for(;c(f)&&f.nodeType!==Node.TEXT_NODE;)f=e?f.firstChild:f.lastChild;if(c(f)&&f.nodeType===Node.TEXT_NODE){var p=(r=(t=f.textContent)===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0,i=e?0:p;o.setStart(f,i),o.setEnd(f,i)}else a(n)}else a(n);s.removeAllRanges(),s.addRange(o)}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.focus=void 0;var e=px;Object.defineProperty(n,"focus",{enumerable:!0,get:function(){return e.focus}})})(s2);var mx={},Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.getCaretNodeAndOffset=E$;function E$(){var n=window.getSelection();if(n===null)return[null,0];var e=n.focusNode,t=n.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[t]!==void 0?(e=e.childNodes[t],t=0):(e=e.childNodes[t-1],e.textContent!==null&&(t=e.textContent.length))),[e,t])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaretNodeAndOffset=void 0;var e=Wf;Object.defineProperty(n,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(mx);var a2={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.getRange=C$;function C$(){var n=window.getSelection();return n&&n.rangeCount?n.getRangeAt(0):null}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRange=void 0;var e=Vf;Object.defineProperty(n,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(a2);var l2={},gx={};Object.defineProperty(gx,"__esModule",{value:!0});gx.isCaretAtEndOfInput=j$;var DC=Hs,_$=mx,T$=Ib;function j$(n){var e=(0,DC.getDeepestNode)(n,!0);if(e===null)return!0;if((0,DC.isNativeInput)(e))return e.selectionEnd===e.value.length;var t=(0,_$.getCaretNodeAndOffset)(),r=t[0],i=t[1];return r===null?!1:(0,T$.checkContenteditableSliceForEmptiness)(n,r,i,"right")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCaretAtEndOfInput=void 0;var e=gx;Object.defineProperty(n,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(l2);var c2={},vx={};Object.defineProperty(vx,"__esModule",{value:!0});vx.isCaretAtStartOfInput=P$;var Gd=Hs,D$=Wf,M$=Bf;function P$(n){var e=(0,Gd.getDeepestNode)(n);if(e===null||(0,Gd.isEmpty)(n))return!0;if((0,Gd.isNativeInput)(e))return e.selectionEnd===0;if((0,Gd.isEmpty)(n))return!0;var t=(0,D$.getCaretNodeAndOffset)(),r=t[0],i=t[1];return r===null?!1:(0,M$.checkContenteditableSliceForEmptiness)(n,r,i,"left")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCaretAtStartOfInput=void 0;var e=vx;Object.defineProperty(n,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(c2);var u2={},yx={};Object.defineProperty(yx,"__esModule",{value:!0});yx.save=N$;var O$=Hs,I$=Vf;function N$(){var n=(0,I$.getRange)(),e=(0,O$.make)("span");if(e.id="cursor",e.hidden=!0,!!n)return n.insertNode(e),function(){var t=window.getSelection();t&&(n.setStartAfter(e),n.setEndAfter(e),t.removeAllRanges(),t.addRange(n),setTimeout(function(){e.remove()},150))}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.save=void 0;var e=yx;Object.defineProperty(n,"save",{enumerable:!0,get:function(){return e.save}})})(u2);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.save=n.isCaretAtStartOfInput=n.isCaretAtEndOfInput=n.getRange=n.getCaretNodeAndOffset=n.focus=n.getContenteditableSlice=n.checkContenteditableSliceForEmptiness=void 0;var e=Ib;Object.defineProperty(n,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var t=o2;Object.defineProperty(n,"getContenteditableSlice",{enumerable:!0,get:function(){return t.getContenteditableSlice}});var r=s2;Object.defineProperty(n,"focus",{enumerable:!0,get:function(){return r.focus}});var i=mx;Object.defineProperty(n,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return i.getCaretNodeAndOffset}});var o=a2;Object.defineProperty(n,"getRange",{enumerable:!0,get:function(){return o.getRange}});var s=l2;Object.defineProperty(n,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return s.isCaretAtEndOfInput}});var a=c2;Object.defineProperty(n,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return a.isCaretAtStartOfInput}});var c=u2;Object.defineProperty(n,"save",{enumerable:!0,get:function(){return c.save}})})(zD);class R$ extends rt{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case Ye.BACKSPACE:this.backspace(e);break;case Ye.DELETE:this.delete(e);break;case Ye.ENTER:this.enter(e);break;case Ye.DOWN:case Ye.RIGHT:this.arrowRightAndDown(e);break;case Ye.UP:case Ye.LEFT:this.arrowLeftAndUp(e);break;case Ye.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&uD(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!0}dragLeave(e){const t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!1}handleCommandC(e){const{BlockSelection:t}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:t,BlockManager:r,Caret:i}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e).then(()=>{const o=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(o,!0);i.setToBlock(s,i.positions.START),t.clearSelection(e)})}tabPressed(e){const{InlineToolbar:t,Caret:r}=this.Editor;t.opened||(e.shiftKey?r.navigatePrevious(!0):r.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:t,UI:r}=this.Editor,i=t.currentBlock;if(i===void 0||i.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey&&!_y)return;let o=i;i.currentInput!==void 0&&bh(i.currentInput)&&!i.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):i.currentInput&&xh(i.currentInput)?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:t,Caret:r}=this.Editor,{currentBlock:i,previousBlock:o}=t;if(!(i===void 0||!Be.isCollapsed||!i.currentInput||!bh(i.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.firstInput){r.navigatePrevious();return}if(o!==null){if(o.isEmpty){t.removeBlock(o);return}if(i.isEmpty){t.removeBlock(i);const s=t.currentBlock;r.setToBlock(s,r.positions.END);return}kC(o,i)?this.mergeBlocks(o,i):r.setToBlock(o,r.positions.END)}}}delete(e){const{BlockManager:t,Caret:r}=this.Editor,{currentBlock:i,nextBlock:o}=t;if(!(!Be.isCollapsed||!xh(i.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.lastInput){r.navigateNext();return}if(o!==null){if(o.isEmpty){t.removeBlock(o);return}if(i.isEmpty){t.removeBlock(i),r.setToBlock(o,r.positions.START);return}kC(i,o)?this.mergeBlocks(i,o):r.setToBlock(o,r.positions.START)}}}mergeBlocks(e,t){const{BlockManager:r,Toolbar:i}=this.Editor;e.lastInput!==void 0&&(zD.focus(e.lastInput,!1),r.mergeBlocks(e,t).then(()=>{i.close()}))}arrowRightAndDown(e){const t=As.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Ye.TAB);if(this.Editor.UI.someToolbarOpened&&t)return;this.Editor.Toolbar.close();const{currentBlock:r}=this.Editor.BlockManager,i=((r==null?void 0:r.currentInput)!==void 0?xh(r.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Ye.DOWN&&i){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===Ye.DOWN||e.keyCode===Ye.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}Uh(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(As.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Ye.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:t}=this.Editor.BlockManager,r=((t==null?void 0:t.currentInput)!==void 0?bh(t.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Ye.UP&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===Ye.UP||e.keyCode===Ye.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}Uh(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const t=e.keyCode===Ye.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===Ye.ENTER&&this.Editor.BlockSettings.opened,i=e.keyCode===Ye.ENTER&&this.Editor.InlineToolbar.opened,o=e.keyCode===Ye.TAB;return!(e.shiftKey||o||t||r||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class jv{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return dD(this.workingArea.children)}static set(e,t,r){return isNaN(Number(t))?(Reflect.set(e,t,r),!0):(e.insert(+t,r),!0)}static get(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,t){const r=this.blocks[t];ue.swap(this.blocks[e].holder,r.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=r}move(e,t){const r=this.blocks.splice(t,1)[0],i=e-1,o=Math.max(0,i),s=this.blocks[o];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});r.call(eo.MOVED,a)}insert(e,t,r=!1){if(!this.length){this.push(t);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(eo.REMOVED));const i=r?1:0;if(this.blocks.splice(e,i,t),e>0){const o=this.blocks[e-1];this.insertToDOM(t,"afterend",o)}else{const o=this.blocks[e+1];o?this.insertToDOM(t,"beforebegin",o):this.insertToDOM(t)}}replace(e,t){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(t.holder),this.blocks[e]=t}insertMany(e,t){const r=new DocumentFragment;for(const i of e)r.appendChild(i.holder);if(this.length>0){if(t>0){const i=Math.min(t-1,this.length-1);this.blocks[i].holder.after(r)}else t===0&&this.workingArea.prepend(r);this.blocks.splice(t,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(i=>i.call(eo.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(eo.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(eo.REMOVED)),this.blocks.length=0}insertAfter(e,t){const r=this.blocks.indexOf(e);this.insert(r+1,t)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,t,r){t?r.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(eo.RENDERED)}composeBlockEvent(e,t){return new CustomEvent(e,{detail:t})}}const MC="block-removed",PC="block-added",A$="block-moved",OC="block-changed";class L${constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,r)=>{this.completed=this.completed.then(e).then(t).catch(r)})}}class B$ extends rt{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new jv(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:jv.set,get:jv.get}),this.listeners.on(document,"copy",t=>this.Editor.BlockEvents.handleCommandC(t))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:t={},id:r=void 0,tunes:i={}}){const o=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new En({id:r,data:t,tool:s,api:this.Editor.API,readOnly:o,tunesData:i},this.eventsDispatcher);return o||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:t=this.config.defaultBlock,data:r={},index:i,needToFocus:o=!0,replace:s=!1,tunes:a={}}={}){let c=i;c===void 0&&(c=this.currentBlockIndex+(s?0:1));const h=this.composeBlock({id:e,tool:t,data:r,tunes:a});return s&&this.blockDidMutated(MC,this.getBlockByIndex(c),{index:c}),this._blocks.insert(c,h,s),this.blockDidMutated(PC,h,{index:c}),o?this.currentBlockIndex=c:c<=this.currentBlockIndex&&this.currentBlockIndex++,h}insertMany(e,t=0){this._blocks.insertMany(e,t)}async update(e,t,r){if(!t&&!r)return e;const i=await e.data,o=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},i,t??{}),tunes:r??e.tunes}),s=this.getBlockIndex(e);return this._blocks.replace(s,o),this.blockDidMutated(OC,o,{index:s}),o}replace(e,t,r){const i=this.getBlockIndex(e);return this.insert({tool:t,data:r,index:i,replace:!0})}paste(e,t,r=!1){const i=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{i.call(eo.ON_PASTE,t)})}catch(o){vt(`${e}: onPaste callback call is failed`,"error",o)}return i}insertDefaultBlockAtIndex(e,t=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(PC,r,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,t){let r;if(e.name===t.name&&e.mergeable){const i=await t.data;if(Qr(i)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[o]=_b([i],e.tool.sanitizeConfig);r=o}else if(e.mergeable&&Wh(t,"export")&&Wh(e,"import")){const i=await t.exportDataAsString(),o=Pi(i,e.tool.sanitizeConfig);r=EC(o,e.tool.conversionConfig)}r!==void 0&&(await e.mergeWith(r),this.removeBlock(t),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e,t=!0){return new Promise(r=>{const i=this._blocks.indexOf(e);if(!this.validateIndex(i))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(i),this.blockDidMutated(MC,e,{index:i}),this.currentBlockIndex>=i&&this.currentBlockIndex--,this.blocks.length?i===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),t&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(this.blocks[t]),e=t);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=ue.make("div");t.appendChild(e);const r={text:ue.isEmpty(t)?"":t.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(t=>t.id===e)}getBlock(e){ue.isElement(e)||(e=e.parentNode);const t=this._blocks.nodes,r=e.closest(`.${En.CSS.wrapper}`),i=t.indexOf(r);if(i>=0)return this._blocks[i]}setCurrentBlockByChildNode(e){ue.isElement(e)||(e=e.parentNode);const t=e.closest(`.${En.CSS.wrapper}`);if(!t)return;const r=t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;ue.isElement(e)||(e=e.parentNode);const t=e.closest(`.${En.CSS.wrapper}`);return this.blocks.find(r=>r.holder===t)}swap(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}move(e,t=this.currentBlockIndex){if(isNaN(e)||isNaN(t)){vt("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(t)){vt("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated(A$,this.currentBlock,{fromIndex:t,toIndex:e})}async convert(e,t,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const i=this.Editor.Tools.blockTools.get(t);if(!i)throw new Error(`Could not convert Block. Tool «${t}» not found.`);const o=await e.exportDataAsString(),s=Pi(o,i.sanitizeConfig);let a=EC(s,i.conversionConfig,i.settings);return r&&(a=Object.assign(a,r)),this.replace(e,i.name,a)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(e=!1){const t=new L$;this.blocks.forEach(r=>{t.add(async()=>{await this.removeBlock(r,!1)})}),await t.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:t}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{t.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{t.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{t.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{t.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(OC,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,t,r){const i=new CustomEvent(e,{detail:{target:new Qi(t),...r}});return this.eventsDispatcher.emit(vD,{event:i}),t}}class F$ extends rt{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(t=>t.selected===!0)}set allBlocksSelected(e){const{BlockManager:t}=this.Editor;t.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(t=>t.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new Be,_a.add({name:"CMD+A",handler:e=>{const{BlockManager:t,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}t.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){Be.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:t}=this.Editor;let r;isNaN(e)?r=t.currentBlock:r=t.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,t=!1){const{BlockManager:r,Caret:i,RectangleSelection:o}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&uD(e.keyCode);if(this.anyBlockSelected&&s&&a&&!Be.isSelectionExists){const c=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(c,!0),i.setToBlock(r.currentBlock),Uh(()=>{const h=e.key;i.insertContentAtCaretPosition(h.length>1?"":h)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||o.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}t&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const t=ue.make("div");this.selectedBlocks.forEach(o=>{const s=Pi(o.holder.innerHTML,this.sanitizerConfig),a=ue.make("p");a.innerHTML=s,t.appendChild(a)});const r=Array.from(t.childNodes).map(o=>o.textContent).join(`

`),i=t.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",i),Promise.all(this.selectedBlocks.map(o=>o.save())).then(o=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(o))}catch{}})}selectBlockByIndex(e){const{BlockManager:t}=this.Editor,r=t.getBlockByIndex(e);r!==void 0&&this.selectBlock(r)}selectBlock(e){this.selection.save(),Be.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){_a.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),ue.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const t=this.Editor.BlockManager.getBlock(e.target),r=t.inputs;if(r.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(r.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(t),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),Be.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Xh extends rt{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,t=this.positions.DEFAULT,r=0){var i;const{BlockManager:o,BlockSelection:s}=this.Editor;if(s.clearSelection(),!e.focusable){(i=window.getSelection())==null||i.removeAllRanges(),s.selectBlock(e),o.currentBlock=e;return}let a;switch(t){case this.positions.START:a=e.firstInput;break;case this.positions.END:a=e.lastInput;break;default:a=e.currentInput}if(!a)return;const c=ue.getDeepestNode(a,t===this.positions.END),h=ue.getContentLength(c);switch(!0){case t===this.positions.START:r=0;break;case t===this.positions.END:case r>h:r=h;break}this.set(c,r),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=a}setToInput(e,t=this.positions.DEFAULT,r=0){const{currentBlock:i}=this.Editor.BlockManager,o=ue.getDeepestNode(e);switch(t){case this.positions.START:this.set(o,0);break;case this.positions.END:this.set(o,ue.getContentLength(o));break;default:r&&this.set(o,r)}i.currentInput=e}set(e,t=0){const{top:r,bottom:i}=Be.setCursor(e,t),{innerHeight:o}=window;r<0?window.scrollBy(0,r-30):i>o&&window.scrollBy(0,i-o+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const t=this.Editor.BlockManager.insertAtEnd();this.setToBlock(t)}}extractFragmentFromCaretPosition(){const e=Be.get();if(e.rangeCount){const t=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),r)if(ue.isNativeInput(r)){const i=r,o=document.createDocumentFragment(),s=i.value.substring(0,i.selectionStart),a=i.value.substring(i.selectionStart);return o.textContent=a,i.value=s,o}else{const i=t.cloneRange();return i.selectNodeContents(r),i.setStart(t.endContainer,t.endOffset),i.extractContents()}}}navigateNext(e=!1){const{BlockManager:t}=this.Editor,{currentBlock:r,nextBlock:i}=t;if(r===void 0)return!1;const{nextInput:o,currentInput:s}=r,a=s!==void 0?xh(s):void 0;let c=i;const h=e||a||!r.focusable;if(o&&h)return this.setToInput(o,this.positions.START),!0;if(c===null){if(r.tool.isDefault||!h)return!1;c=t.insertAtEnd()}return h?(this.setToBlock(c,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:t,previousBlock:r}=this.Editor.BlockManager;if(!t)return!1;const{previousInput:i,currentInput:o}=t,s=o!==void 0?bh(o):void 0,a=e||s||!t.focusable;return i&&a?(this.setToInput(i,this.positions.END),!0):r!==null&&a?(this.setToBlock(r,this.positions.END),!0):!1}createShadow(e){const t=document.createElement("span");t.classList.add(Xh.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}restoreCaret(e){const t=e.querySelector(`.${Xh.CSS.shadowCaret}`);if(!t)return;new Be().expandToTag(t);const r=document.createRange();r.selectNode(t),r.extractContents()}insertContentAtCaretPosition(e){const t=document.createDocumentFragment(),r=document.createElement("div"),i=Be.get(),o=Be.range;r.innerHTML=e,Array.from(r.childNodes).forEach(h=>t.appendChild(h)),t.childNodes.length===0&&t.appendChild(new Text);const s=t.lastChild;o.deleteContents(),o.insertNode(t);const a=document.createRange(),c=s.nodeType===Node.TEXT_NODE?s:s.firstChild;c!==null&&c.textContent!==null&&a.setStart(c,c.textContent.length),i.removeAllRanges(),i.addRange(a)}}class H$ extends rt{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:t,BlockSelection:r}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const i=t.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,o=t.getBlockByChildNode(e.target);if(!(!i||!o)&&o!==i){if(i===this.firstSelectedBlock){Be.get().removeAllRanges(),i.selected=!0,o.selected=!0,r.clearCache();return}if(o===this.firstSelectedBlock){i.selected=!1,o.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(i,o),this.lastSelectedBlock=o}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==T8.LEFT)return;const{BlockManager:t}=this.Editor;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:t,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),Be.get().removeAllRanges());const i=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),o=t.blocks[i];o&&(this.lastSelectedBlock.selected!==o.selected?(o.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=o,this.Editor.InlineToolbar.close(),o.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:t,BlockSelection:r,Caret:i}=this.Editor,o=t.blocks.indexOf(this.firstSelectedBlock),s=t.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&o>-1&&s>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case Ye.DOWN:case Ye.RIGHT:i.setToBlock(t.blocks[Math.max(o,s)],i.positions.END);break;case Ye.UP:case Ye.LEFT:i.setToBlock(t.blocks[Math.min(o,s)],i.positions.START);break;default:i.setToBlock(t.blocks[Math.max(o,s)],i.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:t}=this.Editor;Be.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,t){const{BlockManager:r,BlockSelection:i}=this.Editor,o=r.blocks.indexOf(e),s=r.blocks.indexOf(t),a=e.selected!==t.selected;for(let c=Math.min(o,s);c<=Math.max(o,s);c++){const h=r.blocks[c];h!==this.firstSelectedBlock&&h!==(a?e:t)&&(r.blocks[c].selected=!r.blocks[c].selected,i.clearCache())}}}class z$ extends rt{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async t=>{await this.processDrop(t)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",t=>{this.processDragOver(t)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:t,Paste:r,Caret:i}=this.Editor;e.preventDefault(),t.blocks.forEach(s=>{s.dropTarget=!1}),Be.isAtEditor&&!Be.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const o=t.setCurrentBlockByChildNode(e.target);if(o)this.Editor.Caret.setToBlock(o,i.positions.END);else{const s=t.setCurrentBlockByChildNode(t.lastBlock.holder);this.Editor.Caret.setToBlock(s,i.positions.END)}await r.processDataTransfer(e.dataTransfer,!0)}processDragStart(){Be.isAtEditor&&!Be.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}const U$=180,$$=400;class W$ extends rt{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=$$,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(vD,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(yD,()=>{this.disable()}),this.eventsDispatcher.on(bD,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!Ut(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let t;this.batchingOnChangeQueue.size===1?t=this.batchingOnChangeQueue.values().next().value:t=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,t),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Ty,{mutations:e})}}const d2=class h2 extends rt{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const t=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!Ut(t.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(t){vt(`Paste handling for «${e.name}» Tool hasn't been set up because of the error`,"warn",t)}},this.handlePasteEvent=async e=>{const{BlockManager:t,Toolbar:r}=this.Editor,i=t.setCurrentBlockByChildNode(e.target);!i||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||i&&this.exceptionList.includes(i.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),r.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,t=!1){const{Tools:r}=this.Editor,i=e.types;if((i.includes?i.includes("Files"):i.contains("Files"))&&!Qr(this.toolsFiles)){await this.processFiles(e.files);return}const o=e.getData(this.MIME_TYPE),s=e.getData("text/plain");let a=e.getData("text/html");if(o)try{this.insertEditorJSData(JSON.parse(o));return}catch{}t&&s.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:s)+"</p>");const c=Object.keys(this.toolsTags).reduce((p,g)=>(p[g.toLowerCase()]=this.toolsTags[g].sanitizationConfig??{},p),{}),h=Object.assign({},c,r.getAllInlineToolsSanitizeConfig(),{br:{}}),f=Pi(a,h);!f.trim()||f.trim()===s||!ue.isHTMLString(f)?await this.processText(s):await this.processText(f,!0)}async processText(e,t=!1){const{Caret:r,BlockManager:i}=this.Editor,o=t?this.processHTML(e):this.processPlain(e);if(!o.length)return;if(o.length===1){o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop());return}const s=i.currentBlock&&i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty;o.map(async(a,c)=>this.insertBlock(a,c===0&&s)),i.currentBlock&&r.setToBlock(i.currentBlock,r.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return oo(e)?[e]:_n(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const t=e.pasteConfig.tags||[],r=[];t.forEach(i=>{const o=this.collectTagNames(i);r.push(...o),o.forEach(s=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,s)){vt(`Paste handler for «${e.name}» Tool on «${s}» tag is skipped because it is already used by «${this.toolsTags[s].tool.name}» Tool.`,"warn");return}const a=_n(i)?i[s]:null;this.toolsTags[s.toUpperCase()]={tool:e,sanitizationConfig:a}})}),this.tagsByTool[e.name]=r.map(i=>i.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:t={}}=e.pasteConfig;let{extensions:r,mimeTypes:i}=t;!r&&!i||(r&&!Array.isArray(r)&&(vt(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`),r=[]),i&&!Array.isArray(i)&&(vt(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`),i=[]),i&&(i=i.filter(o=>O8(o)?!0:(vt(`MIME type value «${o}» for the «${e.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:r||[],mimeTypes:i||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||Qr(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([t,r])=>{r instanceof RegExp||vt(`Pattern ${r} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:t,pattern:r,tool:e})})}isNativeBehaviour(e){return ue.isNativeInput(e)}async processFiles(e){const{BlockManager:t}=this.Editor;let r;r=await Promise.all(Array.from(e).map(o=>this.processFile(o))),r=r.filter(o=>!!o);const i=t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty;r.forEach((o,s)=>{t.paste(o.type,o.event,s===0&&i)})}async processFile(e){const t=P8(e),r=Object.entries(this.toolsFiles).find(([o,{mimeTypes:s,extensions:a}])=>{const[c,h]=e.type.split("/"),f=a.find(g=>g.toLowerCase()===t.toLowerCase()),p=s.find(g=>{const[v,b]=g.split("/");return v===c&&(b===h||b==="*")});return!!f||!!p});if(!r)return;const[i]=r;return{event:this.composePasteEvent("file",{file:e}),type:i}}processHTML(e){const{Tools:t}=this.Editor,r=ue.make("DIV");return r.innerHTML=e,this.getNodes(r).map(i=>{let o,s=t.defaultTool,a=!1;switch(i.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=ue.make("div"),o.appendChild(i);break;case Node.ELEMENT_NODE:o=i,a=!0,this.toolsTags[o.tagName]&&(s=this.toolsTags[o.tagName].tool);break}const{tags:c}=s.pasteConfig||{tags:[]},h=c.reduce((g,v)=>(this.collectTagNames(v).forEach(b=>{const x=_n(v)?v[b]:null;g[b.toLowerCase()]=x||{}}),g),{}),f=Object.assign({},h,s.baseSanitizeConfig);if(o.tagName.toLowerCase()==="table"){const g=Pi(o.outerHTML,f);o=ue.make("div",void 0,{innerHTML:g}).firstChild}else o.innerHTML=Pi(o.innerHTML,f);const p=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:a,tool:s.name,event:p}}).filter(i=>{const o=ue.isEmpty(i.content),s=ue.isSingleTag(i.content);return!o||s})}processPlain(e){const{defaultBlock:t}=this.config;if(!e)return[];const r=t;return e.split(/\r?\n/).filter(i=>i.trim()).map(i=>{const o=ue.make("div");o.textContent=i;const s=this.composePasteEvent("tag",{data:o});return{content:o,tool:r,isBlock:!1,event:s}})}async processSingleBlock(e){const{Caret:t,BlockManager:r}=this.Editor,{currentBlock:i}=r;if(!i||e.tool!==i.name||!ue.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(i==null?void 0:i.tool.isDefault)&&i.isEmpty);return}t.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:t,Caret:r}=this.Editor,{content:i}=e;if(t.currentBlock&&t.currentBlock.tool.isDefault&&i.textContent.length<h2.PATTERN_PROCESSING_MAX_LENGTH){const o=await this.processPattern(i.textContent);if(o){const s=t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty,a=t.paste(o.tool,o.event,s);r.setToBlock(a,r.positions.END);return}}if(t.currentBlock&&t.currentBlock.currentInput){const o=t.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Pi(i.innerHTML,o))}else this.insertBlock(e)}async processPattern(e){const t=this.toolsPatterns.find(r=>{const i=r.pattern.exec(e);return i?e===i.shift():!1});return t?{event:this.composePasteEvent("pattern",{key:t.key,data:e}),tool:t.tool.name}:void 0}insertBlock(e,t=!1){const{BlockManager:r,Caret:i}=this.Editor,{currentBlock:o}=r;let s;if(t&&o&&o.isEmpty){s=r.paste(e.tool,e.event,!0),i.setToBlock(s,i.positions.END);return}s=r.paste(e.tool,e.event),i.setToBlock(s,i.positions.END)}insertEditorJSData(e){const{BlockManager:t,Caret:r,Tools:i}=this.Editor;_b(e,o=>i.blockTools.get(o).sanitizeConfig).forEach(({tool:o,data:s},a)=>{let c=!1;a===0&&(c=t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty);const h=t.insert({tool:o,data:s,replace:c});r.setToBlock(h,r.positions.END)})}processElementNode(e,t,r){const i=Object.keys(this.toolsTags),o=e,{tool:s}=this.toolsTags[o.tagName]||{},a=this.tagsByTool[s==null?void 0:s.name]||[],c=i.includes(o.tagName),h=ue.blockElements.includes(o.tagName.toLowerCase()),f=Array.from(o.children).some(({tagName:g})=>i.includes(g)&&!a.includes(g)),p=Array.from(o.children).some(({tagName:g})=>ue.blockElements.includes(g.toLowerCase()));if(!h&&!c&&!f)return r.appendChild(o),[...t,r];if(c&&!f||h&&!p&&!f)return[...t,r,o]}getNodes(e){const t=Array.from(e.childNodes);let r;const i=(o,s)=>{if(ue.isEmpty(s)&&!ue.isSingleTag(s))return o;const a=o[o.length-1];let c=new DocumentFragment;switch(a&&ue.isFragment(a)&&(c=o.pop()),s.nodeType){case Node.ELEMENT_NODE:if(r=this.processElementNode(s,o,c),r)return r;break;case Node.TEXT_NODE:return c.appendChild(s),[...o,c];default:return[...o,c]}return[...o,...Array.from(s.childNodes).reduce(i,[])]};return t.reduce(i,[])}composePasteEvent(e,t){return new CustomEvent(e,{detail:t})}};d2.PATTERN_PROCESSING_MAX_LENGTH=450;let V$=d2;class q$ extends rt{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:t}=e,r=[];Array.from(t.entries()).forEach(([i,o])=>{o.isReadOnlySupported||r.push(i)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(e=!this.readOnlyEnabled,t=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const r=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(r===e)return this.readOnlyEnabled;if(t)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const i=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(i.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new gD(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class ac extends rt{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,t){const r=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const i=[`.${En.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],o=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=i.some(a=>!!r.closest(a));!o||s||(this.mousedown=!0,this.startX=e,this.startY=t)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",t=>{this.processMouseDown(t)},!1),this.listeners.on(document.body,"mousemove",ky(t=>{this.processMouseMove(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",ky(t=>{this.processScroll(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(ue.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=ue.make("div",ac.CSS.overlay,{}),i=ue.make("div",ac.CSS.overlayContainer,{}),o=ue.make("div",ac.CSS.rect,{});return i.appendChild(o),r.appendChild(i),t.appendChild(r),this.overlayRectangle=o,{container:t,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const t=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-t,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:t,leftPos:r,index:i}=this.genInfoForMouseSelection(),o=this.startX>t&&this.mouseX>t,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(o||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),i!==void 0&&(this.trySelectNextBlock(i),this.inverseSelection(),Be.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(t);if(!this.rectCrossesBlocks&&e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(t)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,t=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,t),i=this.Editor.BlockManager.getBlockByChildNode(r);let o;i!==void 0&&(o=this.Editor.BlockManager.blocks.findIndex(f=>f.holder===i.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+En.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,c=e-a,h=e+a;return{index:o,leftPos:c,rightPos:h}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const t=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,i=1,o=-1,s=0;if(t)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let c=s;r>1&&(c=a?i:o);const h=e>this.stackOfSelected[r-1]&&c===i,f=e<this.stackOfSelected[r-1]&&c===o,p=!(h||f||c===s);if(!p&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let b=this.stackOfSelected[r-1]+1||e;for(b;b<=e;b++)this.addBlockInSelection(b);return}if(!p&&e<this.stackOfSelected[r-1]){for(let b=this.stackOfSelected[r-1]-1;b>=e;b--)this.addBlockInSelection(b);return}if(!p)return;let g=r-1,v;for(e>this.stackOfSelected[r-1]?v=()=>e>this.stackOfSelected[g]:v=()=>e<this.stackOfSelected[g];v();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[g]),this.stackOfSelected.pop(),g--}}class Y$ extends rt{async render(e){return new Promise(t=>{const{Tools:r,BlockManager:i}=this.Editor;if(e.length===0)i.insert();else{const o=e.map(({type:s,data:a,tunes:c,id:h})=>{r.available.has(s)===!1&&(Gr(`Tool «${s}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,h),s=r.stubTool);let f;try{f=i.composeBlock({id:h,tool:s,data:a,tunes:c})}catch(p){vt(`Block «${s}» skipped because of plugins error`,"error",{data:a,error:p}),a=this.composeStubDataForTool(s,a,h),s=r.stubTool,f=i.composeBlock({id:h,tool:s,data:a,tunes:c})}return f});i.insertMany(o)}window.requestIdleCallback(()=>{t()},{timeout:2e3})})}composeStubDataForTool(e,t,r){const{Tools:i}=this.Editor;let o=e;if(i.unavailable.has(e)){const s=i.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(o=s[0].title)}return{savedData:{id:r,type:e,data:t},title:o}}}class G$ extends rt{async save(){const{BlockManager:e,Tools:t}=this.Editor,r=e.blocks,i=[];try{r.forEach(a=>{i.push(this.getSavedData(a))});const o=await Promise.all(i),s=await _b(o,a=>t.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(o){Gr("Saving failed due to the Error %o","error",o)}}async getSavedData(e){const t=await e.save(),r=t&&await e.validate(t.data);return{...t,isValid:r}}makeOutput(e){const t=[];return e.forEach(({id:r,tool:i,data:o,tunes:s,isValid:a})=>{if(!a){vt(`Block «${i}» skipped because saved data is invalid`);return}if(i===this.Editor.Tools.stubTool){t.push(o);return}const c={id:r,type:i,data:o,...!Qr(s)&&{tunes:s}};t.push(c)}),{time:+new Date,blocks:t,version:"2.31.0-rc.7"}}}(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const X$='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function K$(n){const e=document.createElement("div");e.innerHTML=n.trim();const t=document.createDocumentFragment();return t.append(...Array.from(e.childNodes)),t}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class bx{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:t,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=t.placeholder?t.placeholder:bx.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=t.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:t}=this._element;t===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const t=K$(e.text);this._element.appendChild(t),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const t={text:e.detail.data.innerHTML};this._data=t,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:X$,title:"Text"}}}class xx{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:Ez,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}xx.isInline=!0;xx.title="Bold";class wx{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Pz,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}wx.isInline=!0;wx.title="Italic";class Sx{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new Be}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=CC,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const t=this.selection.findParentTag("A");if(t){this.selection.expandToTag(t),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=Rz,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const t=e.getAttribute("href");this.nodes.input.value=t!=="null"?t:"",this.selection.save()}else this.nodes.button.innerHTML=CC,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const t=new Be;t.save(),this.selection.restore(),this.selection.removeFakeBackground(),t.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let t=this.nodes.input.value||"";if(!t.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(t)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),vt("Incorrect Link pasted","warn",t);return}t=this.prepareLink(t),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(t),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const t=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",i=/^\/\/[^/\s]/.test(e);return!t&&!r&&!i&&(e="http://"+e),e}insertLink(e){const t=this.selection.findParentTag("A");t&&this.selection.expandToTag(t),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Sx.isInline=!0;Sx.title="Link";class f2{constructor({api:e}){this.i18nAPI=e.i18n,this.blocksAPI=e.blocks,this.selectionAPI=e.selection,this.toolsAPI=e.tools,this.caretAPI=e.caret}async render(){const e=Be.get(),t=this.blocksAPI.getBlockByElement(e.anchorNode);if(t===void 0)return[];const r=this.toolsAPI.getBlockTools(),i=await wD(t,r);if(i.length===0)return[];const o=i.reduce((h,f)=>{var p;return(p=f.toolbox)==null||p.forEach(g=>{h.push({icon:g.icon,title:Qn.t(Mr.toolNames,g.title),name:f.name,closeOnActivate:!0,onActivate:async()=>{const v=await this.blocksAPI.convert(t.id,f.name,g.data);this.caretAPI.setToBlock(v,"end")}})}),h},[]),s=await t.getActiveToolboxEntry(),a=s!==void 0?s.icon:TD,c=!Ba();return{icon:a,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:c,items:o,onOpen:()=>{c&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{c&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}}f2.isInline=!0;class p2{constructor({data:e,api:t}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=t,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=ue.make("div",this.CSS.wrapper),t=Az,r=ue.make("div",this.CSS.info),i=ue.make("div",this.CSS.title,{textContent:this.title}),o=ue.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=t,r.appendChild(i),r.appendChild(o),e.appendChild(r),e}}p2.isReadOnlySupported=!0;class J$ extends Ob{constructor(){super(...arguments),this.type=Ps.Inline}get title(){return this.constructable[Gh.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Gh.IsReadOnlySupported]??!1}}class Q$ extends Ob{constructor(){super(...arguments),this.type=Ps.Tune}create(e,t){return new this.constructable({api:this.api,config:this.settings,block:t,data:e})}}class An extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isBlock());return new An(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInline());return new An(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,t])=>t.isTune());return new An(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInternal);return new An(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,t])=>!t.isInternal);return new An(e)}}var Z$=Object.defineProperty,e7=Object.getOwnPropertyDescriptor,m2=(n,e,t,r)=>{for(var i=e7(e,t),o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=s(e,t,i)||i);return i&&Z$(e,t,i),i};class kx extends Ob{constructor(){super(...arguments),this.type=Ps.Block,this.inlineTools=new An,this.tunes=new An}create(e,t,r){return new this.constructable({data:e,block:t,readOnly:r,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[ma.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[ma.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[ma.Toolbox],t=this.config[yh.Toolbox];if(!Qr(e)&&t!==!1)return t?Array.isArray(e)?Array.isArray(t)?t.map((r,i)=>{const o=e[i];return o?{...o,...r}:r}):[t]:Array.isArray(t)?t:[{...e,...t}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[ma.ConversionConfig]}get enabledInlineTools(){return this.config[yh.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[yh.EnabledBlockTunes]}get pasteConfig(){return this.constructable[ma.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,t=this.baseSanitizeConfig;if(Qr(e))return t;const r={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];_n(o)?r[i]=Object.assign({},t,o):r[i]=o}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),Array.from(this.tunes.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),e}}m2([La],kx.prototype,"sanitizeConfig");m2([La],kx.prototype,"baseSanitizeConfig");class t7{constructor(e,t,r){this.api=r,this.config=e,this.editorConfig=t}get(e){const{class:t,isInternal:r=!1,...i}=this.config[e],o=this.getConstructor(t),s=t[Dy.IsTune];return new o({name:e,constructable:t,config:i,api:this.api.getMethodsForTool(e,s),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[Gh.IsInline]:return J$;case e[Dy.IsTune]:return Q$;default:return kx}}}class g2{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:Cz,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e+1);if(!t)throw new Error("Unable to move Block down since it is already the last");const r=t.holder,i=r.getBoundingClientRect();let o=Math.abs(window.innerHeight-r.offsetHeight);i.top<window.innerHeight&&(o=window.scrollY+r.offsetHeight),window.scrollTo(0,o),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}g2.isTune=!0;class v2{constructor({api:e}){this.api=e}render(){return{icon:Dz,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}v2.isTune=!0;class y2{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:jz,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!t||!r)throw new Error("Unable to move Block up since it is already the first");const i=t.holder,o=r.holder,s=i.getBoundingClientRect(),a=o.getBoundingClientRect();let c;a.top>0?c=Math.abs(s.top)-Math.abs(a.top):c=Math.abs(s.top)+a.height,window.scrollBy(0,-1*c),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}y2.isTune=!0;var n7=Object.defineProperty,r7=Object.getOwnPropertyDescriptor,i7=(n,e,t,r)=>{for(var i=r7(e,t),o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=s(e,t,i)||i);return i&&n7(e,t,i),i};class b2 extends rt{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new An,this.toolsUnavailable=new An}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Ey({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new t7(e,this.config,this.Editor.API);const t=this.getListOfPrepareFunctions(e);if(t.length===0)return Promise.resolve();await M8(t,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>{Object.assign(e,t.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{Ut(e.reset)&&await e.reset()})}get internalTools(){return{convertTo:{class:f2,isInternal:!0},link:{class:Sx,isInternal:!0},bold:{class:xx,isInternal:!0},italic:{class:wx,isInternal:!0},paragraph:{class:bx,inlineToolbar:!0,isInternal:!0},stub:{class:p2,isInternal:!0},moveUp:{class:y2,isInternal:!0},delete:{class:v2,isInternal:!0},moveDown:{class:g2,isInternal:!0}}}toolPrepareMethodSuccess(e){const t=this.factory.get(e.toolName);if(t.isInline()){const r=["render"].filter(i=>!t.create()[i]);if(r.length){vt(`Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(t.name,t);return}}this.toolsAvailable.set(t.name,t)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const t=[];return Object.entries(e).forEach(([r,i])=>{t.push({function:Ut(i.class.prepare)?i.class.prepare:()=>{},data:{toolName:r,config:i.config}})}),t}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new An(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(t=>[t,this.inlineTools.get(t)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new An(["convertTo",...e.enabledInlineTools].map(t=>[t,this.inlineTools.get(t)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const t=new An(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new An([...t,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const t=new An(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new An([...t,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const t=this.config.tools[e];if(!Ut(t)&&!Ut(t.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const t in this.config.tools)_n(this.config.tools[t])?e[t]=this.config.tools[t]:e[t]={class:this.config.tools[t]};return e}}i7([La],b2.prototype,"getAllInlineToolsSanitizeConfig");const o7=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class s7 extends rt{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=null,this.resizeDebouncer=SC(()=>{this.windowResize()},200),this.selectionChangeDebounced=SC(()=>{this.selectionChanged()},U$),this.documentTouchedListener=e=>{this.documentTouched(e)}}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache!==null)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${En.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.unbindReadOnlySensitiveListeners():window.requestIdleCallback(()=>{this.bindReadOnlySensitiveListeners()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:t,InlineToolbar:r}=this.Editor;return!!(t.opened||r.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,t])=>t.flipper instanceof As).some(([e,t])=>t.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML="",this.unbindReadOnlyInsensitiveListeners()}closeAllToolbars(){const{Toolbar:e,BlockSettings:t,InlineToolbar:r}=this.Editor;t.close(),r.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<hD;e!==this.isMobile&&this.eventsDispatcher.emit(Tc,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=ue.getHolder(this.config.holder),this.nodes.wrapper=ue.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=ue.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper),this.bindReadOnlyInsensitiveListeners()}loadStyles(){const e="editor-js-styles";if(ue.get(e))return;const t=ue.make("style",null,{id:e,textContent:o7.toString()});this.config.style&&!Qr(this.config.style)&&this.config.style.nonce&&t.setAttribute("nonce",this.config.style.nonce),ue.prepend(document.head,t)}bindReadOnlyInsensitiveListeners(){this.listeners.on(document,"selectionchange",this.selectionChangeDebounced),this.listeners.on(window,"resize",this.resizeDebouncer,{passive:!0}),this.listeners.on(this.nodes.redactor,"mousedown",this.documentTouchedListener,{capture:!0,passive:!0}),this.listeners.on(this.nodes.redactor,"touchstart",this.documentTouchedListener,{capture:!0,passive:!0})}unbindReadOnlyInsensitiveListeners(){this.listeners.off(document,"selectionchange",this.selectionChangeDebounced),this.listeners.off(window,"resize",this.resizeDebouncer),this.listeners.off(this.nodes.redactor,"mousedown",this.documentTouchedListener),this.listeners.off(this.nodes.redactor,"touchstart",this.documentTouchedListener)}bindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",ky(t=>{const r=t.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(LD,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}unbindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case Ye.ENTER:this.enterPressed(e);break;case Ye.BACKSPACE:case Ye.DELETE:this.backspacePressed(e);break;case Ye.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:t}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(t!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||t&&i||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:t,BlockSelection:r,Caret:i}=this.Editor;if(r.anyBlockSelected&&!Be.isSelectionExists){const o=t.removeSelectedBlocks(),s=t.insertDefaultBlockAtIndex(o,!0);i.setToBlock(s,i.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:t,BlockSelection:r}=this.Editor;if(this.someToolbarOpened)return;const i=t.currentBlockIndex>=0;if(r.anyBlockSelected&&!Be.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&i&&e.target.tagName==="BODY"){const o=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var t,r;if(!e.isTrusted)return;const i=e.target;this.nodes.holder.contains(i)||Be.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const o=(t=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:t.contains(i),s=(r=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:r.contains(i),a=o||s;if(this.Editor.BlockSettings.opened&&!a){this.Editor.BlockSettings.close();const c=this.Editor.BlockManager.getBlockByChildNode(i);this.Editor.Toolbar.moveAndOpen(c)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let t=e.target;if(t===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,i=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(r,i)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.ReadOnly.isEnabled||this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!Be.isCollapsed)return;const t=e.target,r=e.metaKey||e.ctrlKey;if(ue.isAnchor(t)&&r){e.stopImmediatePropagation(),e.stopPropagation();const i=t.getAttribute("href"),o=N8(i);A8(o);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const t=this.Editor.BlockManager.getBlockByIndex(-1),r=ue.offset(t.holder).bottom,i=e.pageY,{BlockSelection:o}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!o.anyBlockSelected&&r<i){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:s,Caret:a,Toolbar:c}=this.Editor;(!s.lastBlock.tool.isDefault||!s.lastBlock.isEmpty)&&s.insertAtEnd(),a.setToTheLastBlock(),c.moveAndOpen(s.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:t}=this.Editor,r=Be.anchorElement;if(e.isCrossBlockSelectionStarted&&t.anyBlockSelected&&Be.get().removeAllRanges(),!r){Be.range||this.Editor.InlineToolbar.close();return}const i=r.closest(`.${En.CSS.content}`);(i===null||i.closest(`.${Be.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(t){const r=t.target;fD(r)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}const a7={BlocksAPI:Y8,CaretAPI:X8,EventsAPI:K8,I18nAPI:Cb,API:J8,InlineToolbarAPI:Q8,ListenersAPI:Z8,NotifierAPI:rz,ReadOnlyAPI:iz,SanitizerAPI:dz,SaverAPI:hz,SelectionAPI:fz,ToolsAPI:pz,StylesAPI:mz,ToolbarAPI:gz,TooltipAPI:wz,UiAPI:Sz,BlockSettings:Gz,Toolbar:nU,InlineToolbar:rU,BlockEvents:R$,BlockManager:B$,BlockSelection:F$,Caret:Xh,CrossBlockSelection:H$,DragNDrop:z$,ModificationsObserver:W$,Paste:V$,ReadOnly:q$,RectangleSelection:ac,Renderer:Y$,Saver:G$,Tools:b2,UI:s7};class l7{constructor(e){this.moduleInstances={},this.eventsDispatcher=new Xc;let t,r;this.isReady=new Promise((i,o)=>{t=i,r=o}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:i,Caret:o,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus===!0&&this.configuration.readOnly!==!0&&o.setToBlock(i.blocks[0],o.positions.START),t()}).catch(i=>{vt(`Editor.js is not ready because of ${i}`,"error"),r(i)})}set configuration(e){var t,r;_n(e)?this.config={...e}:this.config={holder:e},Cy(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=cD.VERBOSE),j8(this.config.logLevel),Cy(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Qr(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,(t=this.config.i18n)!=null&&t.messages&&Qn.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:t}=this.config;if(e&&t)throw Error("«holderId» and «holder» param can't assign at the same time.");if(oo(t)&&!ue.get(t))throw Error(`element with ID «${t}» is missing. Pass correct holder's ID.`);if(t&&_n(t)&&!ue.isElement(t))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,t)=>e.then(async()=>{try{await this.moduleInstances[t].prepare()}catch(r){if(r instanceof gD)throw new Error(r.message);vt(`Module ${t} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(a7).forEach(([e,t])=>{try{this.moduleInstances[e]=new t({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){vt("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const t={};for(const r in this.moduleInstances)r!==e&&(t[r]=this.moduleInstances[r]);return t}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class c7{static get version(){return"2.31.0-rc.7"}constructor(e){let t=()=>{};_n(e)&&Ut(e.onReady)&&(t=e.onReady);const r=new l7(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),t()})}exportAPI(e){const t=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(i=>{Ut(i.destroy)&&i.destroy(),i.listeners.removeAll()}),xz(),e=null;for(const i in this)Object.prototype.hasOwnProperty.call(this,i)&&delete this[i];Object.setPrototypeOf(this,null)};t.forEach(i=>{this[i]=e[i]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([i,o])=>{Object.entries(o).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[i][s]})})}}class u7{static get isInline(){return!0}static get sanitize(){return{span:{class:!0,style:!0}}}constructor({api:e}){this.api=e,this.button=null,this.tag="SPAN",this.className="cdx-inline-color",this.colors=["#FF1300","#4CAF50","#2196F3","#FFC107"]}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.innerHTML="🎨",this.button.classList.add(this.api.styles.inlineToolButton),this.button.addEventListener("click",()=>{const e=prompt(`색상 코드 입력 (예: #FF0000)
아니면 아래 중 선택: ${this.colors.join(", ")}`,this.colors[0]);e&&(this.chosenColor=e,this.api.inlineToolbar.close())}),this.button}surround(e){if(!e||e.collapsed)return;const t=e.extractContents(),r=document.createElement(this.tag);r.classList.add(this.className),r.style.color=this.chosenColor||"#FF1300",r.appendChild(t),e.insertNode(r)}checkState(e){const t=this.api.selection.findParentTag(this.tag,this.className);this.button.classList.toggle(this.api.styles.inlineToolButtonActive,!!t)}clear(){this.chosenColor=null}}const d7=({editorRef:n,onEditorChange:e,selectedPage:t})=>{const[r,i]=j.useState(null);return j.useEffect(()=>((async()=>{const s=(await qd(async()=>{const{default:p}=await import("./header-B174FzUh.js");return{default:p}},[])).default,a=(await qd(async()=>{const{default:p}=await import("./editorjs-list-BJ0i19f4.js");return{default:p}},[])).default,c=(await qd(async()=>{const{default:p}=await import("./paragraph-ClT3_yd8.js");return{default:p}},[])).default,h=(await qd(async()=>{const{default:p}=await import("./checklist-CNH_pK8s.js");return{default:p}},[])).default,f=new c7({holder:"editorjs",autofocus:!0,tools:{header:{class:s,inlineToolbar:!0,config:{placeholder:"제목을 입력하세요",levels:[1,2,3],defaultLevel:1}},list:a,paragraph:c,checklist:h,color:{class:u7}},data:{blocks:[{type:"header",data:{text:"",level:1}}]},onReady:()=>{n.current=f,i(f)},onChange:async()=>{const p=await f.save();e&&e(p)}})})(),()=>{n.current&&(n.current.destroy(),n.current=null)}),[]),j.useEffect(()=>{if(!r||!t)return;(async()=>{try{const s=JSON.parse(t.content||'{"blocks": []}');await r.isReady,await r.clear(),await r.render(s)}catch(s){console.error("페이지 렌더 실패",s)}})()},[t,r]),d.jsx("div",{className:"midArea",id:"editorjs"})},h7=()=>{const n=j.useRef(null),[e,t]=j.useState([]),[r,i]=j.useState([]),[o,s]=j.useState(null),[a,c]=j.useState([]),[h,f]=j.useState([]),{username:p,company:g}=$t(),v=p,b=E=>E===!0||E===1||E==="1",[x,w]=j.useState([]),k=async()=>{try{const E=await m8(v),I=await g8(v),P=await v8(v),O=(E||[]).map(L=>({...L,isFavorite:b(L.isFavorite)})),B=(I||[]).map(L=>({...L,isFavorite:b(L.isFavorite)})),A=(P||[]).map(L=>({...L,isFavorite:!0}));t(O),i(B),c(A)}catch(E){console.error("페이지 로딩 실패",E)}},C=E=>E&&E.includes(":")?E.split(":")[1]:E;j.useEffect(()=>{if(!g)return;const E=C(g);console.log("회사명(companyName):",E),b8(E).then(I=>{console.log("⭐️ 받아온 userGroups:",I),f(I)})},[g]),j.useEffect(()=>{v&&k()},[v]),j.useEffect(()=>{if(!o)return;const I=[...e,...a,...r].find(P=>P.id===o.id);I&&I.isFavorite!==o.isFavorite&&s(I)},[e,a,r]);const M=async E=>{if(!n.current||!E)return;const P=[...e,...a,...r].find(O=>O.id===E.id)||E;try{await n.current.isReady;const O=JSON.parse(P.content||'{"blocks": []}');O.blocks||(O.blocks=[]),await n.current.render(O),s(P)}catch(O){console.error("Editor 렌더 실패",O)}},T=E=>{var A;if(!o)return;const I=E.blocks.find(L=>L.type==="header"),P=((A=I==null?void 0:I.data)==null?void 0:A.text)||"제목 없음",O={...o,title:P},B=e.map(L=>L.id===O.id?O:L);s(O),t(B)};j.useEffect(()=>{v&&D()},[v]);const D=async()=>{try{if(!v)return;const E=await x8(v);w(E||[])}catch(E){console.error("공유받은 페이지 로딩 실패",E)}};return d.jsx("div",{id:"MyPage",children:d.jsxs(sn,{children:[d.jsx(h8,{normalList:e,trashList:r,favoriteList:a,sharedList:x,onSelectPage:M}),d.jsxs("div",{className:"contentArea",children:[d.jsx(S8,{editorRef:n,selectedPage:o,setSelectedPage:s,reloadLists:k,normalList:e,favoriteList:a,trashList:r,userGroups:h}),d.jsx(d7,{editorRef:n,selectedPage:o,onEditorChange:T})]})]})})},f7=()=>d.jsx("div",{className:"board-main",children:d.jsxs("div",{className:"board-main_1",children:[d.jsx("div",{className:"board-top",children:d.jsx("h3",{children:"공지사항"})}),d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"제목"}),d.jsx("th",{children:"작성자"}),d.jsx("th",{children:"작성일"}),d.jsx("th",{children:"조회"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{className:"title",children:"[공지사항] 사내 워크숍 일정 안내"}),d.jsx("td",{children:"홍길동"}),d.jsx("td",{children:"2025.06.04"}),d.jsx("td",{children:"17"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"title",children:"사내 회식 일정(자율)"}),d.jsx("td",{children:"홍길동"}),d.jsx("td",{children:"2025.05.24"}),d.jsx("td",{children:"1924"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"title",children:"사내 네트워크 조율"}),d.jsx("td",{children:"홍길동"}),d.jsx("td",{children:"2025.05.24"}),d.jsx("td",{children:"1924"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"title",children:"금주 식단 안내"}),d.jsx("td",{children:"홍길동"}),d.jsx("td",{children:"2025.05.24"}),d.jsx("td",{children:"1924"})]})]})]}),d.jsx("div",{className:"pagination",children:d.jsx("a",{href:"#",children:"MORE"})})]})}),p7=()=>d.jsx("div",{className:"board-left",children:d.jsxs("div",{className:"board-main_1",children:[d.jsxs("div",{className:"board-top_1",children:[d.jsx("h3",{children:"사내게시판"}),d.jsx("a",{className:"add_menu",onClick:"removeBoard(this)",children:"🗑"})]}),d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"제목"}),d.jsx("th",{children:"작성자"}),d.jsx("th",{children:"작성일"}),d.jsx("th",{children:"조회"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{className:"title",children:"[중요]사내 일정 공유드립니다."}),d.jsx("td",{children:"홍길동"}),d.jsx("td",{children:"2025.05.24"}),d.jsx("td",{children:"17"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"title",children:"[중요]사내 일정 공유드립니다."}),d.jsx("td",{children:"홍길동"}),d.jsx("td",{children:"2025.05.24"}),d.jsx("td",{children:"17"})]})]})]}),d.jsx("div",{className:"pagination",children:d.jsx("a",{href:"#",children:"MORE"})})]})}),m7=()=>d.jsx("div",{className:"board-right",children:d.jsxs("div",{className:"board-main_1",children:[d.jsxs("div",{className:"board-top_1",children:[d.jsx("h3",{children:"익명게시판"}),d.jsx("a",{className:"add_menu",onclick:"removeBoard(this)",children:"🗑"})]}),d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"제목"}),d.jsx("th",{children:"작성자"}),d.jsx("th",{children:"작성일"}),d.jsx("th",{children:"조회"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{className:"title",children:"[중요]사내 일정 공유드립니다."}),d.jsx("td",{children:"홍길동"}),d.jsx("td",{children:"2025.05.24"}),d.jsx("td",{children:"17"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"title",children:"[중요]사내 일정 공유드립니다."}),d.jsx("td",{children:"홍길동"}),d.jsx("td",{children:"2025.05.24"}),d.jsx("td",{children:"17"})]})]})]}),d.jsx("div",{className:"pagination",children:d.jsx("a",{href:"#",children:"MORE"})})]})}),g7=()=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"line"}),d.jsx(f7,{}),d.jsxs("div",{className:"board-sub",children:[d.jsx(p7,{}),d.jsx(m7,{})]})]}),v7=()=>d.jsx("div",{className:"dashboardMainContent",id:"board",children:d.jsxs(sn,{children:[d.jsx(bi,{}),d.jsx("div",{className:"contentArea",children:d.jsx(g7,{})})]})}),y7=({onClose:n,categoryId:e})=>{const t=j.useRef(null),{username:r}=$t(),[i,o]=j.useState(""),[s,a]=j.useState(""),c=f=>{t.current&&f.target===t.current&&n()};j.useEffect(()=>(window.addEventListener("click",c),()=>{window.removeEventListener("click",c)}),[]);const h=async()=>{if(!i.trim()||!s.trim()){alert("제목과 내용을 모두 입력하세요.");return}try{await _e.post(gL,{title:i,content:s,fixed:!1,category:{id:e}},{withCredentials:!0}),alert("게시글이 등록되었습니다."),n(),window.location.reload()}catch(f){console.error("등록 실패:",f),alert("게시글 등록에 실패했습니다.")}};return d.jsx("div",{className:"modal-overlay",ref:t,style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:999},children:d.jsx("div",{className:"",children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"close-btn",onClick:n,children:"×"}),d.jsx("div",{className:"modal-header",children:"게시글 작성"}),d.jsx("div",{className:"modal-title",children:"새 글쓰기"}),d.jsx("div",{className:"form-group",children:d.jsx("input",{type:"text",placeholder:"제목을 입력하세요",value:i,onChange:f=>o(f.target.value)})}),d.jsxs("div",{className:"form-group editor-toolbar",children:[d.jsx("button",{onClick:()=>document.execCommand("bold"),children:"B"}),d.jsxs("select",{onChange:f=>document.execCommand("fontName",!1,f.target.value),children:[d.jsx("option",{value:"Arial",children:"Arial"}),d.jsx("option",{value:"Georgia",children:"Georgia"}),d.jsx("option",{value:"Courier New",children:"Courier"})]}),d.jsxs("select",{onChange:f=>document.execCommand("fontSize",!1,f.target.value),children:[d.jsx("option",{value:"1",children:"크기 1"}),d.jsx("option",{value:"2",children:"크기 2"}),d.jsx("option",{value:"3",children:"크기 3"}),d.jsx("option",{value:"4",children:"크기 4"}),d.jsx("option",{value:"5",children:"크기 5"})]}),d.jsx("input",{type:"color",onChange:f=>document.execCommand("foreColor",!1,f.target.value)})]}),d.jsx("div",{className:"form-group",children:d.jsx("div",{className:"editor-area",contentEditable:!0,onInput:f=>a(f.currentTarget.innerHTML),style:{border:"1px solid #ccc",padding:"8px",minHeight:"120px",backgroundColor:"#fff"}})}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"파일 첨부"}),d.jsx("input",{type:"file"})]}),d.jsx("div",{className:"modal-footer",children:d.jsx("span",{className:"next-button",onClick:h,children:"등록"})})]})})})},b7=()=>{const[n,e]=j.useState(!1),[t,r]=j.useState([]),{company:i}=$t(),s=vr().pathname.split("/")[4],[a,c]=j.useState(""),[h,f]=j.useState("전체"),p=async()=>{if(!i)return;const E=i.split(":")[0];try{const I=await _e.get(fL(s,E));r(I.data)}catch(I){console.error("게시글 불러오기 실패",I)}},[g,v]=j.useState(1),b=8,x=t.filter(E=>{var P,O;const I=a.toLowerCase();return h==="전체"?E.title&&E.title.toLowerCase().includes(I)||E.createdBy&&E.createdBy.toLowerCase().includes(I)||((P=E.writer)==null?void 0:P.name)&&E.writer.name.toLowerCase().includes(I):h==="제목"?E.title&&E.title.toLowerCase().includes(I):h==="글쓴이"?E.createdBy&&E.createdBy.toLowerCase().includes(I)||((O=E.writer)==null?void 0:O.name)&&E.writer.name.toLowerCase().includes(I):!0}),w=g*b,k=w-b,C=x.slice(k,w),M=Math.ceil(x.length/b),T=E=>{v(E)};j.useEffect(()=>{i&&(p(),v(1))},[s,i]),j.useEffect(()=>{v(1)},[a,h]);const D=E=>{r(I=>[E,...I])};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"line"}),d.jsxs("div",{className:"board-main",children:[d.jsxs("div",{className:"board-top",children:[d.jsxs("select",{children:[d.jsx("option",{children:"공지사항"}),d.jsx("option",{children:"사내게시판"}),d.jsx("option",{children:"익명게시판"})]}),d.jsxs("div",{children:[d.jsxs("select",{value:h,onChange:E=>f(E.target.value),children:[d.jsx("option",{value:"전체",children:"전체"}),d.jsx("option",{value:"제목",children:"제목"}),d.jsx("option",{value:"글쓴이",children:"글쓴이"})]}),d.jsx("input",{type:"text",placeholder:"검색어를 입력하세요",style:{width:"180px",margin:"0 5px"},value:a,onChange:E=>c(E.target.value)}),d.jsx("button",{onClick:()=>v(1),children:"검색"})," "]})]}),d.jsx("div",{className:"board-click",children:d.jsx("button",{onClick:()=>e(!0),children:"글쓰기"})}),d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:d.jsx("input",{type:"checkbox",id:"selectAll"})}),d.jsx("th",{children:"제목"}),d.jsx("th",{children:"작성자"}),d.jsx("th",{children:"작성일"}),d.jsx("th",{children:"조회"})]})}),d.jsx("tbody",{children:Array.isArray(C)&&C.length>0?C.map(E=>{var I;return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("input",{type:"checkbox",className:"rowCheckbox"})}),d.jsx("td",{className:"title",children:d.jsx(gt,{to:`/dashboard/board/view/${E.id}`,children:E.title||"제목 없음"})}),d.jsx("td",{children:E.createdBy||((I=E.writer)==null?void 0:I.name)||"작성자 없음"}),d.jsx("td",{children:E.createdAt?E.createdAt.substring(0,10):"-"}),d.jsx("td",{children:E.hit??0})]},E.id)}):d.jsx("tr",{children:d.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"20px"},children:"게시글이 없습니다."})})})]}),d.jsx("div",{id:"pagination",className:"pagination"})]}),d.jsx("div",{className:"pagination",children:Array.from({length:M},(E,I)=>I+1).map(E=>d.jsx("button",{onClick:()=>T(E),style:{margin:"0 5px",padding:"5px 10px",backgroundColor:g===E?"#007bff":"#fff",color:g===E?"#fff":"#000",border:"1px solid #ccc",borderRadius:"4px"},children:E},E))}),n&&d.jsx(y7,{onClose:()=>e(!1),categoryId:s,onPostCreated:D})]})},IC=()=>d.jsx("div",{className:"dashboardMainContent",id:"boardlist",children:d.jsxs(sn,{children:[d.jsx(bi,{}),d.jsx("div",{className:"contentArea",children:d.jsx(b7,{})})]})}),x7=()=>{var A;const{id:n}=rT(),e=Bt(),{authUser:t}=$t(),[r,i]=j.useState(null),[o,s]=j.useState([]),[a,c]=j.useState(""),[h,f]=j.useState(!1),[p,g]=j.useState(""),[v,b]=j.useState(""),[x,w]=j.useState(null),[k,C]=j.useState(""),M=async()=>{try{const L=await _e.get(`http://localhost:8080/api/boards/${n}`,{withCredentials:!0});i(L.data);const R=await _e.get(`http://localhost:8080/api/boards/${n}/comments`,{withCredentials:!0});s(R.data||[])}catch(L){console.error("게시글 또는 댓글 불러오기 실패",L)}};j.useEffect(()=>{M()},[n]),j.useEffect(()=>{console.log("authUser 내용:",t)},[t]),j.useEffect(()=>{r&&h&&(g(r.title),b(r.content))},[r,h]);const T=async()=>{if(window.confirm("정말 삭제하시겠습니까?"))try{await _e.delete(`http://localhost:8080/api/boards/${n}`,{withCredentials:!0}),alert("게시글이 삭제되었습니다."),e("/dashboard/board/main")}catch(L){console.error("게시글 삭제 실패",L),L.response&&L.response.status===403?alert("게시글을 삭제할 권한이 없습니다."):alert("삭제에 실패했습니다.")}},D=async()=>{try{const L=await _e.put(`http://localhost:8080/api/boards/${n}`,{title:p,content:v},{withCredentials:!0});i(L.data),f(!1),alert("게시글 수정 완료")}catch(L){console.error("게시글 수정 실패",L),L.response&&L.response.status===403?alert("게시글을 수정할 권한이 없습니다."):alert("게시글 수정 실패.")}},E=async L=>{if(L.preventDefault(),!a.trim()){alert("댓글 내용을 입력해주세요.");return}try{const R=await _e.post(`http://localhost:8080/api/boards/${n}/comments`,{content:a},{withCredentials:!0});s(V=>[...V,R.data]),c(""),alert("댓글이 등록되었습니다.")}catch(R){console.error("댓글 등록 실패",R),R.response&&R.response.status===403?alert("댓글을 작성할 권한이 없습니다. 로그인 상태를 확인해주세요."):alert("댓글 등록에 실패했습니다.")}},I=L=>{w(L.id),C(L.content)},P=async L=>{if(!k.trim()){alert("수정할 댓글 내용을 입력해주세요.");return}try{const R=await _e.put(`http://localhost:8080/api/boards/${n}/comments/${L}`,{content:k},{withCredentials:!0});s(V=>V.map(Q=>Q.id===L?R.data:Q)),w(null),C(""),alert("댓글이 수정되었습니다.")}catch(R){console.error("댓글 수정 실패",R),R.response&&R.response.status===403?alert("댓글을 수정할 권한이 없습니다."):alert("댓글 수정에 실패했습니다.")}};j.useEffect(()=>{console.log("👤 로그인 사용자 정보:",t)},[t]);const O=()=>{w(null),C("")},B=async L=>{if(window.confirm("정말 이 댓글을 삭제하시겠습니까?"))try{await _e.delete(`http://localhost:8080/api/boards/${n}/comments/${L}`,{withCredentials:!0}),s(R=>R.filter(V=>V.id!==L)),alert("댓글이 삭제되었습니다.")}catch(R){console.error("댓글 삭제 실패",R),R.response&&R.response.status===403?alert("댓글을 삭제할 권한이 없습니다."):alert("댓글 삭제에 실패했습니다.")}};return r?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"line"}),d.jsxs("div",{className:"contents-main",children:[d.jsxs("div",{className:"post-header",children:[d.jsx("div",{className:"post-title",children:h?d.jsx("input",{type:"text",value:p,onChange:L=>g(L.target.value)}):r.title||"제목 없음"}),d.jsxs("div",{className:"post-meta",children:["작성자: ",((A=r.writer)==null?void 0:A.name)||"작성자 없음"," | 작성일:"," ",r.createdAt?r.createdAt.substring(0,10):"-"," | 조회수:"," ",r.hit??0]})]}),h?d.jsx("textarea",{value:v,onChange:L=>b(L.target.value),style:{width:"100%",minHeight:"200px",margin:"20px 0"}}):d.jsx("div",{className:"post-content",children:r.content}),r.attachments&&r.attachments.length>0&&d.jsxs("div",{className:"post-attachments",children:[d.jsx("h4",{children:"첨부파일"}),d.jsx("ul",{children:r.attachments.map((L,R)=>d.jsx("li",{children:d.jsx("a",{href:`http://localhost:8080${L.savedPath}`,download:L.fileName,children:L.fileName})},R))})]}),d.jsx("div",{className:"comment-form",style:{marginTop:"20px"},children:h?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"memo-button",onClick:D,children:"저장"}),d.jsx("button",{className:"memo-button",onClick:()=>f(!1),children:"취소"})]}):d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"memo-button",onClick:T,children:"삭제"}),d.jsx("button",{className:"memo-button",onClick:()=>f(!0),children:"수정"})]})}),d.jsxs("div",{className:"comment-section",children:[d.jsx("h3",{children:"댓글"}),d.jsxs("form",{className:"comment-form",onSubmit:E,children:[d.jsx("textarea",{placeholder:"댓글을 입력하세요...",value:a,onChange:L=>c(L.target.value)}),d.jsx("button",{type:"submit",children:"등록"})]}),d.jsx("div",{className:"comment-list",children:o.length>0?o.map(L=>{var R,V;return d.jsxs("div",{className:"comment",children:[d.jsxs("div",{className:"comment-meta",children:[d.jsx("span",{className:"comment-author",children:((R=L.writer)==null?void 0:R.name)||"익명"}),d.jsx("span",{className:"comment-date",children:L.createdAt?L.createdAt.substring(0,10):""}),t&&t.uid===((V=L.writer)==null?void 0:V.uid)&&d.jsx("div",{className:"comment-actions",children:x===L.id?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"memo-button",onClick:()=>P(L.id),children:"저장"}),d.jsx("button",{className:"memo-button",onClick:O,children:"취소"})]}):d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"memo-button",onClick:()=>I(L),children:"수정"}),d.jsx("button",{className:"memo-button",onClick:()=>B(L.id),children:"삭제"})]})})]}),d.jsx("div",{className:"comment-content",children:x===L.id?d.jsx("textarea",{value:k,onChange:Q=>C(Q.target.value),style:{width:"100%",minHeight:"60px"}}):L.content})]},L.id)}):d.jsx("p",{children:"아직 댓글이 없습니다."})})]})]})]}):d.jsx("div",{children:"로딩 중..."})},NC=()=>d.jsx("div",{className:"dashboardMainContent",id:"boardview",children:d.jsxs(sn,{children:[d.jsx(bi,{}),d.jsx("div",{className:"contentArea",children:d.jsx(x7,{})})]})}),w7=({onNewProject:n})=>{const[e,t]=j.useState(!1),[r,i]=j.useState(""),o=Bt(),s=async()=>{if(r.trim()&&n){const a=await n({name:r,status:"in progress"});t(!1),i(""),o("/dashboard/project/projectRegister",{state:{projectName:a.name,projectId:a.id,mode:"create"}})}};return d.jsxs(d.Fragment,{children:[d.jsx("aside",{children:d.jsxs("div",{className:"sidemenu",children:[d.jsxs("div",{className:"sideTop",children:[d.jsx("h3",{children:"Project"}),d.jsx("div",{className:"addcl",children:d.jsxs("button",{type:"button",onClick:()=>t(!0),children:[d.jsx("img",{src:"/images/Plus.svg",alt:"plus"}),d.jsx("span",{children:"New Project"})]})})]}),d.jsxs("div",{className:"childArea",children:[d.jsxs("div",{className:"menuItem",children:[d.jsx("img",{src:"/images/File text.svg",alt:"users"}),d.jsx("span",{children:"진행중인 프로젝트"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("div",{className:"menuItem",children:[d.jsx("img",{src:"/images/File text.svg",alt:"users"}),d.jsx("span",{children:"완료된 프로젝트"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]})]})]})}),e&&d.jsx("div",{className:"modalOverlay",children:d.jsxs("div",{className:"modalContent",children:[d.jsx("h3",{children:"새 프로젝트 생성"}),d.jsx("input",{type:"text",placeholder:"프로젝트 이름 입력",value:r,onChange:a=>i(a.target.value),onKeyDown:a=>a.key==="Enter"&&s()}),d.jsxs("div",{className:"modalButtons",children:[d.jsx("button",{className:"configbtn",onClick:s,children:"생성"}),d.jsx("button",{className:"cancelbtn",onClick:()=>t(!1),children:"취소"})]})]})})]})},S7=({projects:n=[],onRemoveProject:e})=>{const t=Bt();return d.jsx("div",{className:"midArea",children:n.length===0?d.jsx("div",{className:"projectcontent empty",children:d.jsx("span",{children:"등록된 프로젝트가 없습니다."})}):n.map(r=>d.jsxs("div",{className:"projectcontent",style:{cursor:"pointer"},onClick:()=>t("/dashboard/project/projectRegister",{state:{projectId:r.id,projectName:r.name,mode:"edit"}}),children:[d.jsx("img",{src:"/images/Layers.svg",alt:"layericon"}),d.jsxs("div",{className:"contenttext",children:[d.jsx("span",{children:r.name}),d.jsx("br",{}),d.jsx("p",{children:r.status??"in progress"})]}),d.jsx("button",{onClick:i=>{i.stopPropagation(),e==null||e(r.id)},children:d.jsx("img",{src:"/images/Trash 2.svg",alt:"trash"})})]},r.id))})},k7=async n=>{try{return(await _e.post(Uc.CREATE,n,{withCredentials:!0,headers:{"Content-Type":"application/json"}})).data}catch(e){throw console.error("createProject error:",e),e}},E7=async n=>{try{return(await _e.get(Uc.LIST(n),{withCredentials:!0})).data}catch(e){throw console.error("fetchMyProjects error:",e),e}},C7=async n=>{try{return(await _e.get(Uc.DETAIL(n),{withCredentials:!0})).data}catch(e){throw console.error("fetchProjectDetail error:",e),e}},_7=async(n,e)=>{try{return(await _e.put(Uc.UPDATE(n),e,{withCredentials:!0,headers:{"Content-Type":"application/json"}})).data}catch(t){throw console.error("updateProject error:",t),t}},T7=async n=>{try{return(await _e.delete(Uc.DELETE(n),{withCredentials:!0})).data}catch(e){throw console.error("deleteProject error:",e),e}},j7=async(n,e)=>{try{return(await _e.post(_L.BULK_SAVE(n),e,{withCredentials:!0,headers:{"Content-Type":"application/json"}})).data}catch(t){throw console.error("saveSectionsBulk error:",t),t}},D7=()=>{const[n,e]=j.useState([]),{username:t,company:r}=$t(),i=t,[o,s]=j.useState([]);j.useEffect(()=>{if(!i){console.log("❌ userId 없음");return}E7(i).then(h=>{console.log("📦 fetchMyProjects 결과:",h),s(h)})},[i]);const a=async h=>{await T7(h),s(f=>f.filter(p=>p.id!==h))},c=async h=>{const f=await k7({name:h.name,createdBy:i,description:""});s(p=>[...p,f])};return d.jsx("div",{id:"ProjectPage",children:d.jsxs(sn,{children:[d.jsx(w7,{onNewProject:c}),d.jsxs("div",{className:"contentArea",children:[d.jsx(Na,{title:"My Project"}),d.jsx(S7,{projects:o,onRemoveProject:a})]})]})})},M7=()=>d.jsx("aside",{children:d.jsxs("div",{className:"sidemenu",children:[d.jsx("div",{className:"sideTop",children:d.jsx("h3",{children:"Project"})}),d.jsxs("div",{className:"childArea",children:[d.jsxs("div",{className:"menuItem",children:[d.jsx("img",{src:"/images/File text.svg",alt:"users"}),d.jsx("a",{href:"#",children:"진행중인 프로젝트"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("ul",{className:"subMenu",children:[d.jsx("li",{children:d.jsx("a",{href:"#",children:"더미더미더미"})}),d.jsx("li",{children:d.jsx("a",{href:"#",children:"더미더미더미"})})]}),d.jsxs("div",{className:"menuItem",children:[d.jsx("img",{src:"/images/File text.svg",alt:"users"}),d.jsx("a",{href:"#",children:"완료된 프로젝트"}),d.jsx("img",{src:"/images/Vector.svg",alt:"vector"})]}),d.jsxs("ul",{className:"subMenu",children:[d.jsx("li",{children:d.jsx("a",{href:"#",children:"더미더미더미"})}),d.jsx("li",{children:d.jsx("a",{href:"#",children:"더미더미더미"})})]})]})]})}),P7=({title:n,setTitle:e,mode:t,onSave:r})=>d.jsxs("div",{className:"topArea",children:[d.jsxs("div",{className:"Title",children:[d.jsx("h3",{children:d.jsx("input",{type:"text",value:n,onChange:i=>e(i.target.value),placeholder:"프로젝트명을 입력하세요"})}),d.jsx("button",{type:"button",className:"savebtn",onClick:r,children:d.jsx("img",{src:"/images/Save.svg",alt:"저장"})}),d.jsx("button",{type:"button",id:"openInviteModalBtn",children:d.jsx("img",{src:"/images/user-add.svg",alt:"초대"})})]}),t==="edit"&&d.jsx("span",{className:"editLabel",children:"수정 모드"}),t==="create"&&d.jsx("span",{className:"editLabel",children:"신규 등록 모드"})]});function O7(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return j.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const qf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fa(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function Ex(n){return"nodeType"in n}function er(n){var e,t;return n?Fa(n)?n:Ex(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Cx(n){const{Document:e}=er(n);return n instanceof e}function Jc(n){return Fa(n)?!1:n instanceof er(n).HTMLElement}function x2(n){return n instanceof er(n).SVGElement}function Ha(n){return n?Fa(n)?n.document:Ex(n)?Cx(n)?n:Jc(n)||x2(n)?n.ownerDocument:document:document:document}const gi=qf?j.useLayoutEffect:j.useEffect;function Yf(n){const e=j.useRef(n);return gi(()=>{e.current=n}),j.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function I7(){const n=j.useRef(null),e=j.useCallback((r,i)=>{n.current=setInterval(r,i)},[]),t=j.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function Dc(n,e){e===void 0&&(e=[n]);const t=j.useRef(n);return gi(()=>{t.current!==n&&(t.current=n)},e),t}function Qc(n,e){const t=j.useRef();return j.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function Kh(n){const e=Yf(n),t=j.useRef(null),r=j.useCallback(i=>{i!==t.current&&(e==null||e(i,t.current)),t.current=i},[]);return[t,r]}function Jh(n){const e=j.useRef();return j.useEffect(()=>{e.current=n},[n]),e.current}let Dv={};function Zc(n,e){return j.useMemo(()=>{if(e)return e;const t=Dv[n]==null?0:Dv[n]+1;return Dv[n]=t,n+"-"+t},[n,e])}function w2(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>{const a=Object.entries(s);for(const[c,h]of a){const f=o[c];f!=null&&(o[c]=f+n*h)}return o},{...e})}}const Sa=w2(1),Qh=w2(-1);function N7(n){return"clientX"in n&&"clientY"in n}function Gf(n){if(!n)return!1;const{KeyboardEvent:e}=er(n.target);return e&&n instanceof e}function R7(n){if(!n)return!1;const{TouchEvent:e}=er(n.target);return e&&n instanceof e}function Zh(n){if(R7(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return N7(n)?{x:n.clientX,y:n.clientY}:null}const Yo=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Yo.Translate.toString(n),Yo.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),RC="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function A7(n){return n.matches(RC)?n:n.querySelector(RC)}const L7={display:"none"};function B7(n){let{id:e,value:t}=n;return ze.createElement("div",{id:e,style:L7},t)}function F7(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ze.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function H7(){const[n,e]=j.useState("");return{announce:j.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const S2=j.createContext(null);function z7(n){const e=j.useContext(S2);j.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function U7(){const[n]=j.useState(()=>new Set),e=j.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[j.useCallback(r=>{let{type:i,event:o}=r;n.forEach(s=>{var a;return(a=s[i])==null?void 0:a.call(s,o)})},[n]),e]}const $7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},W7={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function V7(n){let{announcements:e=W7,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=$7}=n;const{announce:o,announcement:s}=H7(),a=Zc("DndLiveRegion"),[c,h]=j.useState(!1);if(j.useEffect(()=>{h(!0)},[]),z7(j.useMemo(()=>({onDragStart(p){let{active:g}=p;o(e.onDragStart({active:g}))},onDragMove(p){let{active:g,over:v}=p;e.onDragMove&&o(e.onDragMove({active:g,over:v}))},onDragOver(p){let{active:g,over:v}=p;o(e.onDragOver({active:g,over:v}))},onDragEnd(p){let{active:g,over:v}=p;o(e.onDragEnd({active:g,over:v}))},onDragCancel(p){let{active:g,over:v}=p;o(e.onDragCancel({active:g,over:v}))}}),[o,e])),!c)return null;const f=ze.createElement(ze.Fragment,null,ze.createElement(B7,{id:r,value:i.draggable}),ze.createElement(F7,{id:a,announcement:s}));return t?No.createPortal(f,t):f}var dn;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(dn||(dn={}));function ef(){}function q7(n,e){return j.useMemo(()=>({sensor:n,options:{}}),[n,e])}function Y7(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return j.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const vi=Object.freeze({x:0,y:0});function G7(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function X7(n,e){const t=Zh(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function K7(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function J7(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function Q7(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function AC(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const Z7=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=AC(e,e.left,e.top),o=[];for(const s of r){const{id:a}=s,c=t.get(a);if(c){const h=G7(AC(c),i);o.push({id:a,data:{droppableContainer:s,value:h}})}}return o.sort(K7)};function eW(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),i=Math.min(e.left+e.width,n.left+n.width),o=Math.min(e.top+e.height,n.top+n.height),s=i-r,a=o-t;if(r<i&&t<o){const c=e.width*e.height,h=n.width*n.height,f=s*a,p=f/(c+h-f);return Number(p.toFixed(4))}return 0}const tW=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=[];for(const o of r){const{id:s}=o,a=t.get(s);if(a){const c=eW(a,e);c>0&&i.push({id:s,data:{droppableContainer:o,value:c}})}}return i.sort(J7)};function nW(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function k2(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:vi}function rW(n){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,a)=>({...s,top:s.top+n*a.y,bottom:s.bottom+n*a.y,left:s.left+n*a.x,right:s.right+n*a.x}),{...t})}}const iW=rW(1);function E2(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function oW(n,e,t){const r=E2(e);if(!r)return n;const{scaleX:i,scaleY:o,x:s,y:a}=r,c=n.left-s-(1-i)*parseFloat(t),h=n.top-a-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),f=i?n.width/i:n.width,p=o?n.height/o:n.height;return{width:f,height:p,top:h,right:c+f,bottom:h+p,left:c}}const sW={ignoreTransform:!1};function za(n,e){e===void 0&&(e=sW);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:f}=er(n).getComputedStyle(n);h&&(t=oW(t,h,f))}const{top:r,left:i,width:o,height:s,bottom:a,right:c}=t;return{top:r,left:i,width:o,height:s,bottom:a,right:c}}function LC(n){return za(n,{ignoreTransform:!0})}function aW(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function lW(n,e){return e===void 0&&(e=er(n).getComputedStyle(n)),e.position==="fixed"}function cW(n,e){e===void 0&&(e=er(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=e[i];return typeof o=="string"?t.test(o):!1})}function _x(n,e){const t=[];function r(i){if(e!=null&&t.length>=e||!i)return t;if(Cx(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!Jc(i)||x2(i)||t.includes(i))return t;const o=er(n).getComputedStyle(i);return i!==n&&cW(i,o)&&t.push(i),lW(i,o)?t:r(i.parentNode)}return n?r(n):t}function C2(n){const[e]=_x(n,1);return e??null}function Mv(n){return!qf||!n?null:Fa(n)?n:Ex(n)?Cx(n)||n===Ha(n).scrollingElement?window:Jc(n)?n:null:null}function _2(n){return Fa(n)?n.scrollX:n.scrollLeft}function T2(n){return Fa(n)?n.scrollY:n.scrollTop}function Py(n){return{x:_2(n),y:T2(n)}}var vn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(vn||(vn={}));function j2(n){return!qf||!n?!1:n===document.scrollingElement}function D2(n){const e={x:0,y:0},t=j2(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},i=n.scrollTop<=e.y,o=n.scrollLeft<=e.x,s=n.scrollTop>=r.y,a=n.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:s,isRight:a,maxScroll:r,minScroll:e}}const uW={x:.2,y:.2};function dW(n,e,t,r,i){let{top:o,left:s,right:a,bottom:c}=t;r===void 0&&(r=10),i===void 0&&(i=uW);const{isTop:h,isBottom:f,isLeft:p,isRight:g}=D2(n),v={x:0,y:0},b={x:0,y:0},x={height:e.height*i.y,width:e.width*i.x};return!h&&o<=e.top+x.height?(v.y=vn.Backward,b.y=r*Math.abs((e.top+x.height-o)/x.height)):!f&&c>=e.bottom-x.height&&(v.y=vn.Forward,b.y=r*Math.abs((e.bottom-x.height-c)/x.height)),!g&&a>=e.right-x.width?(v.x=vn.Forward,b.x=r*Math.abs((e.right-x.width-a)/x.width)):!p&&s<=e.left+x.width&&(v.x=vn.Backward,b.x=r*Math.abs((e.left+x.width-s)/x.width)),{direction:v,speed:b}}function hW(n){if(n===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:e,left:t,right:r,bottom:i}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:i,width:n.clientWidth,height:n.clientHeight}}function M2(n){return n.reduce((e,t)=>Sa(e,Py(t)),vi)}function fW(n){return n.reduce((e,t)=>e+_2(t),0)}function pW(n){return n.reduce((e,t)=>e+T2(t),0)}function P2(n,e){if(e===void 0&&(e=za),!n)return;const{top:t,left:r,bottom:i,right:o}=e(n);C2(n)&&(i<=0||o<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const mW=[["x",["left","right"],fW],["y",["top","bottom"],pW]];class Tx{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=_x(t),i=M2(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,s,a]of mW)for(const c of s)Object.defineProperty(this,c,{get:()=>{const h=a(r),f=i[o]-h;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class lc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var i;(i=this.target)==null||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function gW(n){const{EventTarget:e}=er(n);return n instanceof e?n:Ha(n)}function Pv(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var Yr;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Yr||(Yr={}));function BC(n){n.preventDefault()}function vW(n){n.stopPropagation()}var ft;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(ft||(ft={}));const O2={start:[ft.Space,ft.Enter],cancel:[ft.Esc],end:[ft.Space,ft.Enter,ft.Tab]},yW=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case ft.Right:return{...t,x:t.x+25};case ft.Left:return{...t,x:t.x-25};case ft.Down:return{...t,y:t.y+25};case ft.Up:return{...t,y:t.y-25}}};class I2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new lc(Ha(t)),this.windowListeners=new lc(er(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Yr.Resize,this.handleCancel),this.windowListeners.add(Yr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Yr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&P2(r),t(vi)}handleKeyDown(e){if(Gf(e)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:o=O2,coordinateGetter:s=yW,scrollBehavior:a="smooth"}=i,{code:c}=e;if(o.end.includes(c)){this.handleEnd(e);return}if(o.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:h}=r.current,f=h?{x:h.left,y:h.top}:vi;this.referenceCoordinates||(this.referenceCoordinates=f);const p=s(e,{active:t,context:r.current,currentCoordinates:f});if(p){const g=Qh(p,f),v={x:0,y:0},{scrollableAncestors:b}=r.current;for(const x of b){const w=e.code,{isTop:k,isRight:C,isLeft:M,isBottom:T,maxScroll:D,minScroll:E}=D2(x),I=hW(x),P={x:Math.min(w===ft.Right?I.right-I.width/2:I.right,Math.max(w===ft.Right?I.left:I.left+I.width/2,p.x)),y:Math.min(w===ft.Down?I.bottom-I.height/2:I.bottom,Math.max(w===ft.Down?I.top:I.top+I.height/2,p.y))},O=w===ft.Right&&!C||w===ft.Left&&!M,B=w===ft.Down&&!T||w===ft.Up&&!k;if(O&&P.x!==p.x){const A=x.scrollLeft+g.x,L=w===ft.Right&&A<=D.x||w===ft.Left&&A>=E.x;if(L&&!g.y){x.scrollTo({left:A,behavior:a});return}L?v.x=x.scrollLeft-A:v.x=w===ft.Right?x.scrollLeft-D.x:x.scrollLeft-E.x,v.x&&x.scrollBy({left:-v.x,behavior:a});break}else if(B&&P.y!==p.y){const A=x.scrollTop+g.y,L=w===ft.Down&&A<=D.y||w===ft.Up&&A>=E.y;if(L&&!g.x){x.scrollTo({top:A,behavior:a});return}L?v.y=x.scrollTop-A:v.y=w===ft.Down?x.scrollTop-D.y:x.scrollTop-E.y,v.y&&x.scrollBy({top:-v.y,behavior:a});break}}this.handleMove(e,Sa(Qh(p,this.referenceCoordinates),v))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}I2.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=O2,onActivation:i}=e,{active:o}=t;const{code:s}=n.nativeEvent;if(r.start.includes(s)){const a=o.activatorNode.current;return a&&n.target!==a?!1:(n.preventDefault(),i==null||i({event:n.nativeEvent}),!0)}return!1}}];function FC(n){return!!(n&&"distance"in n)}function HC(n){return!!(n&&"delay"in n)}class jx{constructor(e,t,r){var i;r===void 0&&(r=gW(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:s}=o;this.props=e,this.events=t,this.document=Ha(s),this.documentListeners=new lc(this.document),this.listeners=new lc(r),this.windowListeners=new lc(er(s)),this.initialCoordinates=(i=Zh(o))!=null?i:vi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Yr.Resize,this.handleCancel),this.windowListeners.add(Yr.DragStart,BC),this.windowListeners.add(Yr.VisibilityChange,this.handleCancel),this.windowListeners.add(Yr.ContextMenu,BC),this.documentListeners.add(Yr.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(HC(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(FC(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Yr.Click,vW,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Yr.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!i)return;const c=(t=Zh(e))!=null?t:vi,h=Qh(i,c);if(!r&&a){if(FC(a)){if(a.tolerance!=null&&Pv(h,a.tolerance))return this.handleCancel();if(Pv(h,a.distance))return this.handleStart()}if(HC(a)&&Pv(h,a.tolerance))return this.handleCancel();this.handlePending(a,h);return}e.cancelable&&e.preventDefault(),s(c)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===ft.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const bW={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Dx extends jx{constructor(e){const{event:t}=e,r=Ha(t.target);super(e,bW,r)}}Dx.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const xW={move:{name:"mousemove"},end:{name:"mouseup"}};var Oy;(function(n){n[n.RightClick=2]="RightClick"})(Oy||(Oy={}));class wW extends jx{constructor(e){super(e,xW,Ha(e.event.target))}}wW.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===Oy.RightClick?!1:(r==null||r({event:t}),!0)}}];const Ov={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class SW extends jx{constructor(e){super(e,Ov)}static setup(){return window.addEventListener(Ov.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ov.move.name,e)};function e(){}}}SW.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:i}=t;return i.length>1?!1:(r==null||r({event:t}),!0)}}];var cc;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(cc||(cc={}));var tf;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(tf||(tf={}));function kW(n){let{acceleration:e,activator:t=cc.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:a=tf.TreeOrder,pointerCoordinates:c,scrollableAncestors:h,scrollableAncestorRects:f,delta:p,threshold:g}=n;const v=CW({delta:p,disabled:!o}),[b,x]=I7(),w=j.useRef({x:0,y:0}),k=j.useRef({x:0,y:0}),C=j.useMemo(()=>{switch(t){case cc.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case cc.DraggableRect:return i}},[t,i,c]),M=j.useRef(null),T=j.useCallback(()=>{const E=M.current;if(!E)return;const I=w.current.x*k.current.x,P=w.current.y*k.current.y;E.scrollBy(I,P)},[]),D=j.useMemo(()=>a===tf.TreeOrder?[...h].reverse():h,[a,h]);j.useEffect(()=>{if(!o||!h.length||!C){x();return}for(const E of D){if((r==null?void 0:r(E))===!1)continue;const I=h.indexOf(E),P=f[I];if(!P)continue;const{direction:O,speed:B}=dW(E,P,C,e,g);for(const A of["x","y"])v[A][O[A]]||(B[A]=0,O[A]=0);if(B.x>0||B.y>0){x(),M.current=E,b(T,s),w.current=B,k.current=O;return}}w.current={x:0,y:0},k.current={x:0,y:0},x()},[e,T,r,x,o,s,JSON.stringify(C),JSON.stringify(v),b,h,D,f,JSON.stringify(g)])}const EW={x:{[vn.Backward]:!1,[vn.Forward]:!1},y:{[vn.Backward]:!1,[vn.Forward]:!1}};function CW(n){let{delta:e,disabled:t}=n;const r=Jh(e);return Qc(i=>{if(t||!r||!i)return EW;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[vn.Backward]:i.x[vn.Backward]||o.x===-1,[vn.Forward]:i.x[vn.Forward]||o.x===1},y:{[vn.Backward]:i.y[vn.Backward]||o.y===-1,[vn.Forward]:i.y[vn.Forward]||o.y===1}}},[t,e,r])}function _W(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Qc(i=>{var o;return e==null?null:(o=r??i)!=null?o:null},[r,e])}function TW(n,e){return j.useMemo(()=>n.reduce((t,r)=>{const{sensor:i}=r,o=i.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,r)}));return[...t,...o]},[]),[n,e])}var Mc;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Mc||(Mc={}));var Iy;(function(n){n.Optimized="optimized"})(Iy||(Iy={}));const zC=new Map;function jW(n,e){let{dragging:t,dependencies:r,config:i}=e;const[o,s]=j.useState(null),{frequency:a,measure:c,strategy:h}=i,f=j.useRef(n),p=w(),g=Dc(p),v=j.useCallback(function(k){k===void 0&&(k=[]),!g.current&&s(C=>C===null?k:C.concat(k.filter(M=>!C.includes(M))))},[g]),b=j.useRef(null),x=Qc(k=>{if(p&&!t)return zC;if(!k||k===zC||f.current!==n||o!=null){const C=new Map;for(let M of n){if(!M)continue;if(o&&o.length>0&&!o.includes(M.id)&&M.rect.current){C.set(M.id,M.rect.current);continue}const T=M.node.current,D=T?new Tx(c(T),T):null;M.rect.current=D,D&&C.set(M.id,D)}return C}return k},[n,o,t,p,c]);return j.useEffect(()=>{f.current=n},[n]),j.useEffect(()=>{p||v()},[t,p]),j.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),j.useEffect(()=>{p||typeof a!="number"||b.current!==null||(b.current=setTimeout(()=>{v(),b.current=null},a))},[a,p,v,...r]),{droppableRects:x,measureDroppableContainers:v,measuringScheduled:o!=null};function w(){switch(h){case Mc.Always:return!1;case Mc.BeforeDragging:return t;default:return!t}}}function Mx(n,e){return Qc(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function DW(n,e){return Mx(n,e)}function MW(n){let{callback:e,disabled:t}=n;const r=Yf(e),i=j.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,t]);return j.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Xf(n){let{callback:e,disabled:t}=n;const r=Yf(e),i=j.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[t]);return j.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function PW(n){return new Tx(za(n),n)}function UC(n,e,t){e===void 0&&(e=PW);const[r,i]=j.useState(null);function o(){i(c=>{if(!n)return null;if(n.isConnected===!1){var h;return(h=c??t)!=null?h:null}const f=e(n);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const s=MW({callback(c){if(n)for(const h of c){const{type:f,target:p}=h;if(f==="childList"&&p instanceof HTMLElement&&p.contains(n)){o();break}}}}),a=Xf({callback:o});return gi(()=>{o(),n?(a==null||a.observe(n),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),s==null||s.disconnect())},[n]),r}function OW(n){const e=Mx(n);return k2(n,e)}const $C=[];function IW(n){const e=j.useRef(n),t=Qc(r=>n?r&&r!==$C&&n&&e.current&&n.parentNode===e.current.parentNode?r:_x(n):$C,[n]);return j.useEffect(()=>{e.current=n},[n]),t}function NW(n){const[e,t]=j.useState(null),r=j.useRef(n),i=j.useCallback(o=>{const s=Mv(o.target);s&&t(a=>a?(a.set(s,Py(s)),new Map(a)):null)},[]);return j.useEffect(()=>{const o=r.current;if(n!==o){s(o);const a=n.map(c=>{const h=Mv(c);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,Py(h)]):null}).filter(c=>c!=null);t(a.length?new Map(a):null),r.current=n}return()=>{s(n),s(o)};function s(a){a.forEach(c=>{const h=Mv(c);h==null||h.removeEventListener("scroll",i)})}},[i,n]),j.useMemo(()=>n.length?e?Array.from(e.values()).reduce((o,s)=>Sa(o,s),vi):M2(n):vi,[n,e])}function WC(n,e){e===void 0&&(e=[]);const t=j.useRef(null);return j.useEffect(()=>{t.current=null},e),j.useEffect(()=>{const r=n!==vi;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?Qh(n,t.current):vi}function RW(n){j.useEffect(()=>{if(!qf)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function AW(n,e){return j.useMemo(()=>n.reduce((t,r)=>{let{eventName:i,handler:o}=r;return t[i]=s=>{o(s,e)},t},{}),[n,e])}function N2(n){return j.useMemo(()=>n?aW(n):null,[n])}const VC=[];function LW(n,e){e===void 0&&(e=za);const[t]=n,r=N2(t?er(t):null),[i,o]=j.useState(VC);function s(){o(()=>n.length?n.map(c=>j2(c)?r:new Tx(e(c),c)):VC)}const a=Xf({callback:s});return gi(()=>{a==null||a.disconnect(),s(),n.forEach(c=>a==null?void 0:a.observe(c))},[n]),i}function R2(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Jc(e)?e:n}function BW(n){let{measure:e}=n;const[t,r]=j.useState(null),i=j.useCallback(h=>{for(const{target:f}of h)if(Jc(f)){r(p=>{const g=e(f);return p?{...p,width:g.width,height:g.height}:g});break}},[e]),o=Xf({callback:i}),s=j.useCallback(h=>{const f=R2(h);o==null||o.disconnect(),f&&(o==null||o.observe(f)),r(f?e(f):null)},[e,o]),[a,c]=Kh(s);return j.useMemo(()=>({nodeRef:a,rect:t,setRef:c}),[t,a,c])}const FW=[{sensor:Dx,options:{}},{sensor:I2,options:{}}],HW={current:{}},Sh={draggable:{measure:LC},droppable:{measure:LC,strategy:Mc.WhileDragging,frequency:Iy.Optimized},dragOverlay:{measure:za}};class uc extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const zW={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new uc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ef},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Sh,measureDroppableContainers:ef,windowRect:null,measuringScheduled:!1},A2={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ef,draggableNodes:new Map,over:null,measureDroppableContainers:ef},eu=j.createContext(A2),L2=j.createContext(zW);function UW(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new uc}}}function $W(n,e){switch(e.type){case dn.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case dn.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case dn.DragEnd:case dn.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case dn.RegisterDroppable:{const{element:t}=e,{id:r}=t,i=new uc(n.droppable.containers);return i.set(r,t),{...n,droppable:{...n.droppable,containers:i}}}case dn.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=e,o=n.droppable.containers.get(t);if(!o||r!==o.key)return n;const s=new uc(n.droppable.containers);return s.set(t,{...o,disabled:i}),{...n,droppable:{...n.droppable,containers:s}}}case dn.UnregisterDroppable:{const{id:t,key:r}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const o=new uc(n.droppable.containers);return o.delete(t),{...n,droppable:{...n.droppable,containers:o}}}default:return n}}function WW(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:i}=j.useContext(eu),o=Jh(r),s=Jh(t==null?void 0:t.id);return j.useEffect(()=>{if(!e&&!r&&o&&s!=null){if(!Gf(o)||document.activeElement===o.target)return;const a=i.get(s);if(!a)return;const{activatorNode:c,node:h}=a;if(!c.current&&!h.current)return;requestAnimationFrame(()=>{for(const f of[c.current,h.current]){if(!f)continue;const p=A7(f);if(p){p.focus();break}}})}},[r,e,i,s,o]),null}function B2(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((i,o)=>o({transform:i,...r}),t):t}function VW(n){return j.useMemo(()=>({draggable:{...Sh.draggable,...n==null?void 0:n.draggable},droppable:{...Sh.droppable,...n==null?void 0:n.droppable},dragOverlay:{...Sh.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function qW(n){let{activeNode:e,measure:t,initialRect:r,config:i=!0}=n;const o=j.useRef(!1),{x:s,y:a}=typeof i=="boolean"?{x:i,y:i}:i;gi(()=>{if(!s&&!a||!e){o.current=!1;return}if(o.current||!r)return;const h=e==null?void 0:e.node.current;if(!h||h.isConnected===!1)return;const f=t(h),p=k2(f,r);if(s||(p.x=0),a||(p.y=0),o.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const g=C2(h);g&&g.scrollBy({top:p.y,left:p.x})}},[e,s,a,r,t])}const Kf=j.createContext({...vi,scaleX:1,scaleY:1});var Mo;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Mo||(Mo={}));const YW=j.memo(function(e){var t,r,i,o;let{id:s,accessibility:a,autoScroll:c=!0,children:h,sensors:f=FW,collisionDetection:p=tW,measuring:g,modifiers:v,...b}=e;const x=j.useReducer($W,void 0,UW),[w,k]=x,[C,M]=U7(),[T,D]=j.useState(Mo.Uninitialized),E=T===Mo.Initialized,{draggable:{active:I,nodes:P,translate:O},droppable:{containers:B}}=w,A=I!=null?P.get(I):null,L=j.useRef({initial:null,translated:null}),R=j.useMemo(()=>{var St;return I!=null?{id:I,data:(St=A==null?void 0:A.data)!=null?St:HW,rect:L}:null},[I,A]),V=j.useRef(null),[Q,oe]=j.useState(null),[q,Y]=j.useState(null),re=Dc(b,Object.values(b)),le=Zc("DndDescribedBy",s),W=j.useMemo(()=>B.getEnabled(),[B]),Z=VW(g),{droppableRects:pe,measureDroppableContainers:be,measuringScheduled:ke}=jW(W,{dragging:E,dependencies:[O.x,O.y],config:Z.droppable}),me=_W(P,I),Ie=j.useMemo(()=>q?Zh(q):null,[q]),we=Xt(),Pe=DW(me,Z.draggable.measure);qW({activeNode:I!=null?P.get(I):null,config:we.layoutShiftCompensation,initialRect:Pe,measure:Z.draggable.measure});const Ee=UC(me,Z.draggable.measure,Pe),Ke=UC(me?me.parentElement:null),at=j.useRef({activatorEvent:null,active:null,activeNode:me,collisionRect:null,collisions:null,droppableRects:pe,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),wt=B.getNodeFor((t=at.current.over)==null?void 0:t.id),lt=BW({measure:Z.dragOverlay.measure}),_t=(r=lt.nodeRef.current)!=null?r:me,an=E?(i=lt.rect)!=null?i:Ee:null,Tn=!!(lt.nodeRef.current&&lt.rect),Nr=OW(Tn?null:Ee),nn=N2(_t?er(_t):null),Wt=IW(E?wt??me:null),zn=LW(Wt),ln=B2(v,{transform:{x:O.x-Nr.x,y:O.y-Nr.y,scaleX:1,scaleY:1},activatorEvent:q,active:R,activeNodeRect:Ee,containerNodeRect:Ke,draggingNodeRect:an,over:at.current.over,overlayNodeRect:lt.rect,scrollableAncestors:Wt,scrollableAncestorRects:zn,windowRect:nn}),Un=Ie?Sa(Ie,O):null,ei=NW(Wt),yr=WC(ei),$n=WC(ei,[Ee]),Ft=Sa(ln,yr),jn=an?iW(an,ln):null,Wn=R&&jn?p({active:R,collisionRect:jn,droppableRects:pe,droppableContainers:W,pointerCoordinates:Un}):null,Rr=Q7(Wn,"id"),[Tt,xi]=j.useState(null),Bi=Tn?ln:Sa(ln,$n),Fi=nW(Bi,(o=Tt==null?void 0:Tt.rect)!=null?o:null,Ee),dt=j.useRef(null),br=j.useCallback((St,Kt)=>{let{sensor:F,options:z}=Kt;if(V.current==null)return;const K=P.get(V.current);if(!K)return;const ie=St.nativeEvent,H=new F({active:V.current,activeNode:K,event:ie,options:z,context:at,onAbort(X){if(!P.get(X))return;const{onDragAbort:de}=re.current,ce={id:X};de==null||de(ce),C({type:"onDragAbort",event:ce})},onPending(X,ee,de,ce){if(!P.get(X))return;const{onDragPending:ge}=re.current,Te={id:X,constraint:ee,initialCoordinates:de,offset:ce};ge==null||ge(Te),C({type:"onDragPending",event:Te})},onStart(X){const ee=V.current;if(ee==null)return;const de=P.get(ee);if(!de)return;const{onDragStart:ce}=re.current,he={activatorEvent:ie,active:{id:ee,data:de.data,rect:L}};No.unstable_batchedUpdates(()=>{ce==null||ce(he),D(Mo.Initializing),k({type:dn.DragStart,initialCoordinates:X,active:ee}),C({type:"onDragStart",event:he}),oe(dt.current),Y(ie)})},onMove(X){k({type:dn.DragMove,coordinates:X})},onEnd:U(dn.DragEnd),onCancel:U(dn.DragCancel)});dt.current=H;function U(X){return async function(){const{active:de,collisions:ce,over:he,scrollAdjustedTranslate:ge}=at.current;let Te=null;if(de&&ge){const{cancelDrop:je}=re.current;Te={activatorEvent:ie,active:de,collisions:ce,delta:ge,over:he},X===dn.DragEnd&&typeof je=="function"&&await Promise.resolve(je(Te))&&(X=dn.DragCancel)}V.current=null,No.unstable_batchedUpdates(()=>{k({type:X}),D(Mo.Uninitialized),xi(null),oe(null),Y(null),dt.current=null;const je=X===dn.DragEnd?"onDragEnd":"onDragCancel";if(Te){const He=re.current[je];He==null||He(Te),C({type:je,event:Te})}})}}},[P]),tr=j.useCallback((St,Kt)=>(F,z)=>{const K=F.nativeEvent,ie=P.get(z);if(V.current!==null||!ie||K.dndKit||K.defaultPrevented)return;const H={active:ie};St(F,Kt.options,H)===!0&&(K.dndKit={capturedBy:Kt.sensor},V.current=z,br(F,Kt))},[P,br]),ti=TW(f,tr);RW(f),gi(()=>{Ee&&T===Mo.Initializing&&D(Mo.Initialized)},[Ee,T]),j.useEffect(()=>{const{onDragMove:St}=re.current,{active:Kt,activatorEvent:F,collisions:z,over:K}=at.current;if(!Kt||!F)return;const ie={active:Kt,activatorEvent:F,collisions:z,delta:{x:Ft.x,y:Ft.y},over:K};No.unstable_batchedUpdates(()=>{St==null||St(ie),C({type:"onDragMove",event:ie})})},[Ft.x,Ft.y]),j.useEffect(()=>{const{active:St,activatorEvent:Kt,collisions:F,droppableContainers:z,scrollAdjustedTranslate:K}=at.current;if(!St||V.current==null||!Kt||!K)return;const{onDragOver:ie}=re.current,H=z.get(Rr),U=H&&H.rect.current?{id:H.id,rect:H.rect.current,data:H.data,disabled:H.disabled}:null,X={active:St,activatorEvent:Kt,collisions:F,delta:{x:K.x,y:K.y},over:U};No.unstable_batchedUpdates(()=>{xi(U),ie==null||ie(X),C({type:"onDragOver",event:X})})},[Rr]),gi(()=>{at.current={activatorEvent:q,active:R,activeNode:me,collisionRect:jn,collisions:Wn,droppableRects:pe,draggableNodes:P,draggingNode:_t,draggingNodeRect:an,droppableContainers:B,over:Tt,scrollableAncestors:Wt,scrollAdjustedTranslate:Ft},L.current={initial:an,translated:jn}},[R,me,Wn,jn,P,_t,an,pe,B,Tt,Wt,Ft]),kW({...we,delta:O,draggingRect:jn,pointerCoordinates:Un,scrollableAncestors:Wt,scrollableAncestorRects:zn});const nr=j.useMemo(()=>({active:R,activeNode:me,activeNodeRect:Ee,activatorEvent:q,collisions:Wn,containerNodeRect:Ke,dragOverlay:lt,draggableNodes:P,droppableContainers:B,droppableRects:pe,over:Tt,measureDroppableContainers:be,scrollableAncestors:Wt,scrollableAncestorRects:zn,measuringConfiguration:Z,measuringScheduled:ke,windowRect:nn}),[R,me,Ee,q,Wn,Ke,lt,P,B,pe,Tt,be,Wt,zn,Z,ke,nn]),ni=j.useMemo(()=>({activatorEvent:q,activators:ti,active:R,activeNodeRect:Ee,ariaDescribedById:{draggable:le},dispatch:k,draggableNodes:P,over:Tt,measureDroppableContainers:be}),[q,ti,R,Ee,k,le,P,Tt,be]);return ze.createElement(S2.Provider,{value:M},ze.createElement(eu.Provider,{value:ni},ze.createElement(L2.Provider,{value:nr},ze.createElement(Kf.Provider,{value:Fi},h)),ze.createElement(WW,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ze.createElement(V7,{...a,hiddenTextDescribedById:le}));function Xt(){const St=(Q==null?void 0:Q.autoScrollEnabled)===!1,Kt=typeof c=="object"?c.enabled===!1:c===!1,F=E&&!St&&!Kt;return typeof c=="object"?{...c,enabled:F}:{enabled:F}}}),GW=j.createContext(null),qC="button",XW="Draggable";function KW(n){let{id:e,data:t,disabled:r=!1,attributes:i}=n;const o=Zc(XW),{activators:s,activatorEvent:a,active:c,activeNodeRect:h,ariaDescribedById:f,draggableNodes:p,over:g}=j.useContext(eu),{role:v=qC,roleDescription:b="draggable",tabIndex:x=0}=i??{},w=(c==null?void 0:c.id)===e,k=j.useContext(w?Kf:GW),[C,M]=Kh(),[T,D]=Kh(),E=AW(s,e),I=Dc(t);gi(()=>(p.set(e,{id:e,key:o,node:C,activatorNode:T,data:I}),()=>{const O=p.get(e);O&&O.key===o&&p.delete(e)}),[p,e]);const P=j.useMemo(()=>({role:v,tabIndex:x,"aria-disabled":r,"aria-pressed":w&&v===qC?!0:void 0,"aria-roledescription":b,"aria-describedby":f.draggable}),[r,v,x,w,b,f.draggable]);return{active:c,activatorEvent:a,activeNodeRect:h,attributes:P,isDragging:w,listeners:r?void 0:E,node:C,over:g,setNodeRef:M,setActivatorNodeRef:D,transform:k}}function F2(){return j.useContext(L2)}const JW="Droppable",QW={timeout:25};function H2(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:i}=n;const o=Zc(JW),{active:s,dispatch:a,over:c,measureDroppableContainers:h}=j.useContext(eu),f=j.useRef({disabled:t}),p=j.useRef(!1),g=j.useRef(null),v=j.useRef(null),{disabled:b,updateMeasurementsFor:x,timeout:w}={...QW,...i},k=Dc(x??r),C=j.useCallback(()=>{if(!p.current){p.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{h(Array.isArray(k.current)?k.current:[k.current]),v.current=null},w)},[w]),M=Xf({callback:C,disabled:b||!s}),T=j.useCallback((P,O)=>{M&&(O&&(M.unobserve(O),p.current=!1),P&&M.observe(P))},[M]),[D,E]=Kh(T),I=Dc(e);return j.useEffect(()=>{!M||!D.current||(M.disconnect(),p.current=!1,M.observe(D.current))},[D,M]),j.useEffect(()=>(a({type:dn.RegisterDroppable,element:{id:r,key:o,disabled:t,node:D,rect:g,data:I}}),()=>a({type:dn.UnregisterDroppable,key:o,id:r})),[r]),j.useEffect(()=>{t!==f.current.disabled&&(a({type:dn.SetDroppableDisabled,id:r,key:o,disabled:t}),f.current.disabled=t)},[r,o,t,a]),{active:s,rect:g,isOver:(c==null?void 0:c.id)===r,node:D,over:c,setNodeRef:E}}function ZW(n){let{animation:e,children:t}=n;const[r,i]=j.useState(null),[o,s]=j.useState(null),a=Jh(t);return!t&&!r&&a&&i(a),gi(()=>{if(!o)return;const c=r==null?void 0:r.key,h=r==null?void 0:r.props.id;if(c==null||h==null){i(null);return}Promise.resolve(e(h,o)).then(()=>{i(null)})},[e,r,o]),ze.createElement(ze.Fragment,null,t,r?j.cloneElement(r,{ref:s}):null)}const e9={x:0,y:0,scaleX:1,scaleY:1};function t9(n){let{children:e}=n;return ze.createElement(eu.Provider,{value:A2},ze.createElement(Kf.Provider,{value:e9},e))}const n9={position:"fixed",touchAction:"none"},r9=n=>Gf(n)?"transform 250ms ease":void 0,i9=j.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:i,children:o,className:s,rect:a,style:c,transform:h,transition:f=r9}=n;if(!a)return null;const p=i?h:{...h,scaleX:1,scaleY:1},g={...n9,width:a.width,height:a.height,top:a.top,left:a.left,transform:Yo.Transform.toString(p),transformOrigin:i&&r?X7(r,a):void 0,transition:typeof f=="function"?f(r):f,...c};return ze.createElement(t,{className:s,style:g,ref:e},o)}),o9=n=>e=>{let{active:t,dragOverlay:r}=e;const i={},{styles:o,className:s}=n;if(o!=null&&o.active)for(const[a,c]of Object.entries(o.active))c!==void 0&&(i[a]=t.node.style.getPropertyValue(a),t.node.style.setProperty(a,c));if(o!=null&&o.dragOverlay)for(const[a,c]of Object.entries(o.dragOverlay))c!==void 0&&r.node.style.setProperty(a,c);return s!=null&&s.active&&t.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[c,h]of Object.entries(i))t.node.style.setProperty(c,h);s!=null&&s.active&&t.node.classList.remove(s.active)}},s9=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:Yo.Transform.toString(e)},{transform:Yo.Transform.toString(t)}]},a9={duration:250,easing:"ease",keyframes:s9,sideEffects:o9({styles:{active:{opacity:"0"}}})};function l9(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:i}=n;return Yf((o,s)=>{if(e===null)return;const a=t.get(o);if(!a)return;const c=a.node.current;if(!c)return;const h=R2(s);if(!h)return;const{transform:f}=er(s).getComputedStyle(s),p=E2(f);if(!p)return;const g=typeof e=="function"?e:c9(e);return P2(c,i.draggable.measure),g({active:{id:o,data:a.data,node:c,rect:i.draggable.measure(c)},draggableNodes:t,dragOverlay:{node:s,rect:i.dragOverlay.measure(h)},droppableContainers:r,measuringConfiguration:i,transform:p})})}function c9(n){const{duration:e,easing:t,sideEffects:r,keyframes:i}={...a9,...n};return o=>{let{active:s,dragOverlay:a,transform:c,...h}=o;if(!e)return;const f={x:a.rect.left-s.rect.left,y:a.rect.top-s.rect.top},p={scaleX:c.scaleX!==1?s.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?s.rect.height*c.scaleY/a.rect.height:1},g={x:c.x-f.x,y:c.y-f.y,...p},v=i({...h,active:s,dragOverlay:a,transform:{initial:c,final:g}}),[b]=v,x=v[v.length-1];if(JSON.stringify(b)===JSON.stringify(x))return;const w=r==null?void 0:r({active:s,dragOverlay:a,...h}),k=a.node.animate(v,{duration:e,easing:t,fill:"forwards"});return new Promise(C=>{k.onfinish=()=>{w==null||w(),C()}})}}let YC=0;function u9(n){return j.useMemo(()=>{if(n!=null)return YC++,YC},[n])}const d9=ze.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:i,transition:o,modifiers:s,wrapperElement:a="div",className:c,zIndex:h=999}=n;const{activatorEvent:f,active:p,activeNodeRect:g,containerNodeRect:v,draggableNodes:b,droppableContainers:x,dragOverlay:w,over:k,measuringConfiguration:C,scrollableAncestors:M,scrollableAncestorRects:T,windowRect:D}=F2(),E=j.useContext(Kf),I=u9(p==null?void 0:p.id),P=B2(s,{activatorEvent:f,active:p,activeNodeRect:g,containerNodeRect:v,draggingNodeRect:w.rect,over:k,overlayNodeRect:w.rect,scrollableAncestors:M,scrollableAncestorRects:T,transform:E,windowRect:D}),O=Mx(g),B=l9({config:r,draggableNodes:b,droppableContainers:x,measuringConfiguration:C}),A=O?w.setRef:void 0;return ze.createElement(t9,null,ze.createElement(ZW,{animation:B},p&&I?ze.createElement(i9,{key:I,id:p.id,ref:A,as:a,activatorEvent:f,adjustScale:e,className:c,transition:o,rect:O,style:{zIndex:h,...i},transform:P},t):null))});function z2(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function h9(n,e){return n.reduce((t,r,i)=>{const o=e.get(r);return o&&(t[i]=o),t},Array(n.length))}function Xd(n){return n!==null&&n>=0}function f9(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function p9(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const U2=n=>{let{rects:e,activeIndex:t,overIndex:r,index:i}=n;const o=z2(e,r,t),s=e[i],a=o[i];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},Kd={scaleX:1,scaleY:1},m9=n=>{var e;let{activeIndex:t,activeNodeRect:r,index:i,rects:o,overIndex:s}=n;const a=(e=o[t])!=null?e:r;if(!a)return null;if(i===t){const h=o[s];return h?{x:0,y:t<s?h.top+h.height-(a.top+a.height):h.top-a.top,...Kd}:null}const c=g9(o,i,t);return i>t&&i<=s?{x:0,y:-a.height-c,...Kd}:i<t&&i>=s?{x:0,y:a.height+c,...Kd}:{x:0,y:0,...Kd}};function g9(n,e,t){const r=n[e],i=n[e-1],o=n[e+1];return r?t<e?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const $2="Sortable",W2=ze.createContext({activeIndex:-1,containerId:$2,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:U2,disabled:{draggable:!1,droppable:!1}});function v9(n){let{children:e,id:t,items:r,strategy:i=U2,disabled:o=!1}=n;const{active:s,dragOverlay:a,droppableRects:c,over:h,measureDroppableContainers:f}=F2(),p=Zc($2,t),g=a.rect!==null,v=j.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),b=s!=null,x=s?v.indexOf(s.id):-1,w=h?v.indexOf(h.id):-1,k=j.useRef(v),C=!f9(v,k.current),M=w!==-1&&x===-1||C,T=p9(o);gi(()=>{C&&b&&f(v)},[C,v,b,f]),j.useEffect(()=>{k.current=v},[v]);const D=j.useMemo(()=>({activeIndex:x,containerId:p,disabled:T,disableTransforms:M,items:v,overIndex:w,useDragOverlay:g,sortedRects:h9(v,c),strategy:i}),[x,p,T.draggable,T.droppable,M,v,w,c,g,i]);return ze.createElement(W2.Provider,{value:D},e)}const y9=n=>{let{id:e,items:t,activeIndex:r,overIndex:i}=n;return z2(t,r,i).indexOf(e)},b9=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:i,items:o,newIndex:s,previousItems:a,previousContainerId:c,transition:h}=n;return!h||!r||a!==o&&i===s?!1:t?!0:s!==i&&e===c},x9={duration:200,easing:"ease"},V2="transform",w9=Yo.Transition.toString({property:V2,duration:0,easing:"linear"}),S9={roleDescription:"sortable"};function k9(n){let{disabled:e,index:t,node:r,rect:i}=n;const[o,s]=j.useState(null),a=j.useRef(t);return gi(()=>{if(!e&&t!==a.current&&r.current){const c=i.current;if(c){const h=za(r.current,{ignoreTransform:!0}),f={x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height};(f.x||f.y)&&s(f)}}t!==a.current&&(a.current=t)},[e,t,r,i]),j.useEffect(()=>{o&&s(null)},[o]),o}function E9(n){let{animateLayoutChanges:e=b9,attributes:t,disabled:r,data:i,getNewIndex:o=y9,id:s,strategy:a,resizeObserverConfig:c,transition:h=x9}=n;const{items:f,containerId:p,activeIndex:g,disabled:v,disableTransforms:b,sortedRects:x,overIndex:w,useDragOverlay:k,strategy:C}=j.useContext(W2),M=C9(r,v),T=f.indexOf(s),D=j.useMemo(()=>({sortable:{containerId:p,index:T,items:f},...i}),[p,i,T,f]),E=j.useMemo(()=>f.slice(f.indexOf(s)),[f,s]),{rect:I,node:P,isOver:O,setNodeRef:B}=H2({id:s,data:D,disabled:M.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...c}}),{active:A,activatorEvent:L,activeNodeRect:R,attributes:V,setNodeRef:Q,listeners:oe,isDragging:q,over:Y,setActivatorNodeRef:re,transform:le}=KW({id:s,data:D,attributes:{...S9,...t},disabled:M.draggable}),W=O7(B,Q),Z=!!A,pe=Z&&!b&&Xd(g)&&Xd(w),be=!k&&q,ke=be&&pe?le:null,Ie=pe?ke??(a??C)({rects:x,activeNodeRect:R,activeIndex:g,overIndex:w,index:T}):null,we=Xd(g)&&Xd(w)?o({id:s,items:f,activeIndex:g,overIndex:w}):T,Pe=A==null?void 0:A.id,Ee=j.useRef({activeId:Pe,items:f,newIndex:we,containerId:p}),Ke=f!==Ee.current.items,at=e({active:A,containerId:p,isDragging:q,isSorting:Z,id:s,index:T,items:f,newIndex:Ee.current.newIndex,previousItems:Ee.current.items,previousContainerId:Ee.current.containerId,transition:h,wasDragging:Ee.current.activeId!=null}),wt=k9({disabled:!at,index:T,node:P,rect:I});return j.useEffect(()=>{Z&&Ee.current.newIndex!==we&&(Ee.current.newIndex=we),p!==Ee.current.containerId&&(Ee.current.containerId=p),f!==Ee.current.items&&(Ee.current.items=f)},[Z,we,p,f]),j.useEffect(()=>{if(Pe===Ee.current.activeId)return;if(Pe!=null&&Ee.current.activeId==null){Ee.current.activeId=Pe;return}const _t=setTimeout(()=>{Ee.current.activeId=Pe},50);return()=>clearTimeout(_t)},[Pe]),{active:A,activeIndex:g,attributes:V,data:D,rect:I,index:T,newIndex:we,items:f,isOver:O,isSorting:Z,isDragging:q,listeners:oe,node:P,overIndex:w,over:Y,setNodeRef:W,setActivatorNodeRef:re,setDroppableNodeRef:B,setDraggableNodeRef:Q,transform:wt??Ie,transition:lt()};function lt(){if(wt||Ke&&Ee.current.newIndex===T)return w9;if(!(be&&!Gf(L)||!h)&&(Z||at))return Yo.Transition.toString({...h,property:V2})}}function C9(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}ft.Down,ft.Right,ft.Up,ft.Left;const _9=({id:n,areaId:e,text:t,onEdit:r,onDelete:i})=>{const{attributes:o,listeners:s,setNodeRef:a,transform:c,transition:h}=E9({id:n}),f={transform:Yo.Transform.toString(c),transition:h,borderRadius:"6px",backgroundColor:"#fff",display:"flex",gap:"8px",marginBottom:"6px",alignItems:"center",padding:"6px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"};return d.jsxs("div",{ref:a,style:f,...o,children:[d.jsx("div",{...s,style:{cursor:"grab",padding:"0 4px"},children:"⠿"}),d.jsx("input",{type:"text",value:t,onChange:p=>r(e,n.split(":")[1],p.target.value)}),d.jsx("button",{onClick:()=>i(e,n.split(":")[1]),onPointerDown:p=>p.stopPropagation(),children:"X"})]})},T9=({areaId:n})=>{const{setNodeRef:e,isOver:t}=H2({id:`empty-area-${n}`,data:{areaId:n}});return d.jsx("div",{ref:e,style:{minHeight:48,border:"2px dashed #bbb",borderRadius:8,margin:"12px 0",background:t?"#dbeafe":"#f9fafb",color:"#aaa",display:"flex",alignItems:"center",justifyContent:"center",fontSize:15,fontStyle:"italic"},children:"여기에 아이템을 드롭하세요"})},j9=({areas:n,setAreas:e})=>{const[t,r]=j.useState(null),i=Y7(q7(Dx)),o=()=>{const b={id:Date.now().toString(),title:"New Section",items:[]};e(x=>[...x,b])},s=b=>{e(x=>x.filter(w=>w.id!==b))},a=(b,x)=>{e(w=>w.map(k=>k.id===b?{...k,title:x}:k))},c=b=>{e(x=>x.map(w=>w.id===b?{...w,items:[...w.items,{id:Date.now().toString(),text:""}]}:w))},h=(b,x,w)=>{e(k=>k.map(C=>C.id===b?{...C,items:C.items.map(M=>M.id===x?{...M,text:w}:M)}:C))},f=(b,x)=>{e(w=>w.map(k=>k.id===b?{...k,items:k.items.filter(C=>C.id!==x)}:k))},p=b=>{for(const x of n){const w=x.items.find(k=>`${x.id}:${k.id}`===b);if(w)return{...w,areaId:x.id}}return null},g=b=>{const{active:x}=b;r(p(x.id))},v=b=>{const{active:x,over:w}=b;if(r(null),!w||x.id===w.id)return;const[k,C]=x.id.split(":");if(w.id.startsWith("empty-area-")){const D=w.id.replace("empty-area-","");e(E=>{let I=null;return E.map(O=>{if(O.id===k){const B=O.items.findIndex(A=>A.id===C);if(B>-1)return I=O.items[B],{...O,items:[...O.items.slice(0,B),...O.items.slice(B+1)]}}return O}).map(O=>O.id===D&&I?{...O,items:[...O.items,I]}:O)});return}const[M,T]=w.id.split(":");e(D=>{let E=null;return D.map(P=>{if(P.id===k){const O=P.items.findIndex(B=>B.id===C);if(O>-1)return E=P.items[O],{...P,items:[...P.items.slice(0,O),...P.items.slice(O+1)]}}return P}).map(P=>{if(P.id===M&&E){const O=P.items.findIndex(L=>L.id===T),B=O>=0?O:P.items.length,A=[...P.items];return A.splice(B,0,E),{...P,items:A}}return P})})};return d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:o,className:"addAreaBtn",children:"+ Add Section"}),d.jsxs(YW,{sensors:i,collisionDetection:Z7,onDragStart:g,onDragEnd:v,children:[d.jsx("div",{className:"midArea",style:{display:"flex",gap:20},children:n.map(b=>d.jsxs("div",{className:"itemArea",style:{minWidth:240,background:"#f3f4f6",borderRadius:10,padding:16,boxShadow:"0 2px 8px #ddd",display:"flex",flexDirection:"column"},children:[d.jsxs("div",{className:"itemtop",style:{display:"flex",gap:6},children:[d.jsx("input",{type:"text",value:b.title,onChange:x=>a(b.id,x.target.value),style:{flex:1,fontWeight:"bold",background:"none",border:"none",borderBottom:"1.5px solid #bbb",fontSize:17}}),d.jsx("button",{onClick:()=>s(b.id),children:"X"})]}),d.jsx(v9,{items:b.items.map(x=>`${b.id}:${x.id}`),strategy:m9,children:d.jsx("div",{className:"itemList",style:{flex:1,marginTop:10},children:b.items.length===0?d.jsx(T9,{areaId:b.id}):b.items.map(x=>d.jsx(_9,{id:`${b.id}:${x.id}`,areaId:b.id,text:x.text,onEdit:h,onDelete:f},x.id))})}),d.jsx("div",{className:"itembot",style:{marginTop:8},children:d.jsxs("button",{onClick:()=>c(b.id),style:{width:"100%",border:"none",background:"#fff",borderRadius:6,padding:"6px 0",fontWeight:600,boxShadow:"0 2px 4px #eee",display:"flex",alignItems:"center",justifyContent:"center",gap:6,cursor:"pointer"},children:[d.jsx("img",{src:"/images/Plusblack.svg",alt:"plus",style:{width:16}}),d.jsx("span",{children:"Add Item"})]})})]},b.id))}),d.jsx(d9,{children:t?d.jsx("div",{style:{padding:"6px 16px",borderRadius:"6px",background:"#ddd",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",minWidth:120},children:t.text||"Dragging"}):null})]})]})},D9=()=>{const n=vr(),{projectName:e,projectId:t,mode:r="create"}=n.state||{},[i,o]=j.useState(e||""),[s,a]=j.useState(""),[c,h]=j.useState([]),[f,p]=j.useState(!1);j.useEffect(()=>{r==="edit"&&t&&(p(!0),C7(t).then(v=>{o(v.name||""),a(v.description||"")}).finally(()=>p(!1)))},[r,t]);const g=async()=>{if(!i.trim())return alert("프로젝트명을 입력하세요!");r==="edit"&&t?(await _7(t,{name:i,description:s}),await j7(t,c),alert("저장 완료!")):alert("프로젝트가 생성되었습니다!")};return f?d.jsx("div",{children:"로딩중..."}):d.jsx("div",{id:"ProjectRegisterPage",children:d.jsxs(sn,{children:[d.jsx(M7,{}),d.jsxs("div",{className:"contentArea",children:[d.jsx(P7,{title:i,setTitle:o,description:s,setDescription:a,mode:r,onSave:g}),d.jsx(j9,{mode:r,projectId:t,areas:c,setAreas:h})]})]})})},q2=()=>d.jsx("aside",{children:d.jsxs("div",{className:"sidemenu",children:[d.jsx("div",{className:"sideTop",children:d.jsx("h3",{children:"Setting"})}),d.jsxs("div",{className:"childArea",children:[d.jsx(gt,{to:"/dashboard/setting",children:"Home"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx(gt,{to:"/dashboard/setting/my",children:"나의 설정"})]})]})}),M9=()=>d.jsxs("div",{className:"midArea",children:[d.jsxs("section",{children:[d.jsx("h4",{children:"PageSetting"}),d.jsxs("div",{className:"semi",children:[d.jsx("label",{children:"폰트 사이즈"}),d.jsx("br",{}),d.jsx("input",{type:"range",className:"range"}),d.jsx("br",{})]}),d.jsxs("div",{className:"semi",children:[d.jsx("label",{children:"언어 설정"}),d.jsx("br",{}),d.jsxs("select",{children:[d.jsx("option",{children:"한국어"}),d.jsx("option",{children:"영어"})]})]})]}),d.jsxs("section",{children:[d.jsx("h4",{children:"CalendarSetting"}),d.jsxs("div",{className:"semi",children:[d.jsx("label",{children:"알림 시간 설정"}),d.jsx("br",{}),d.jsx("input",{type:"time"}),"~",d.jsx("input",{type:"time"})]})]}),d.jsxs("section",{children:[d.jsx("h4",{children:"ChattingSetting"}),d.jsxs("div",{className:"semi",children:[d.jsx("label",{children:"알림 방식 설정"}),d.jsx("br",{}),d.jsxs("select",{children:[d.jsx("option",{children:"이메일"}),d.jsx("option",{children:"메세지"}),d.jsx("option",{children:"페이지"})]})]})]}),d.jsx("section",{children:d.jsxs("div",{className:"semi",children:[d.jsx("h4",{children:"NoticeBoardSetting"}),d.jsx("p",{children:"추후에 추가 예정"})]})}),d.jsxs("section",{children:[d.jsx("h4",{children:"ProjectSetting"}),d.jsxs("div",{className:"semi",children:[d.jsx("label",{children:"프로젝트 알림"}),d.jsx("br",{}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("span",{className:"label-text",children:"켜기/끄기"}),d.jsx("input",{type:"checkbox"}),d.jsx("span",{className:"slider"})]})]})]}),d.jsxs("section",{children:[d.jsx("h4",{children:"CloudSetting"}),d.jsxs("div",{className:"semi",children:[d.jsx("label",{children:"자동 백업 여부"}),d.jsx("br",{}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("span",{className:"label-text",children:"켜기/끄기"}),d.jsx("input",{type:"checkbox"}),d.jsx("span",{className:"slider"})]})]}),d.jsx("br",{}),d.jsxs("div",{className:"semi",children:[d.jsx("label",{children:"항상 알림 설정"}),d.jsx("br",{}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("span",{className:"label-text",children:"켜기/끄기"}),d.jsx("input",{type:"checkbox"}),d.jsx("span",{className:"slider"})]})]}),d.jsx("br",{}),d.jsx("div",{className:"semi",children:d.jsxs("label",{className:"custom-file-upload",children:["기본 경로 설정",d.jsx("br",{}),d.jsx("input",{type:"file"})]})})]})]}),P9=()=>d.jsx("div",{id:"SettingPage",children:d.jsxs(sn,{children:[d.jsx(q2,{}),d.jsxs("div",{className:"contentArea",children:[d.jsx(Na,{title:"Setting"}),d.jsx(M9,{})]})]})});function Ny(n,e){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Ny(n,e)}function Y2(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ny(n,e)}function We(){return We=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},We.apply(null,arguments)}function Pc(n){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(n)}function O9(n,e){if(Pc(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function I9(n){var e=O9(n,"string");return Pc(e)=="symbol"?e:e+""}function N9(n,e,t){return(e=I9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function XC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(t),!0).forEach(function(r){N9(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hr(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var KC=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),JC=function(){return Math.random().toString(36).substring(7).split("").join(".")},QC={INIT:"@@redux/INIT"+JC(),REPLACE:"@@redux/REPLACE"+JC()};function R9(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function G2(n,e,t){var r;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(hr(1));return t(G2)(n,e)}if(typeof n!="function")throw new Error(hr(2));var i=n,o=e,s=[],a=s,c=!1;function h(){a===s&&(a=s.slice())}function f(){if(c)throw new Error(hr(3));return o}function p(x){if(typeof x!="function")throw new Error(hr(4));if(c)throw new Error(hr(5));var w=!0;return h(),a.push(x),function(){if(w){if(c)throw new Error(hr(6));w=!1,h();var C=a.indexOf(x);a.splice(C,1),s=null}}}function g(x){if(!R9(x))throw new Error(hr(7));if(typeof x.type>"u")throw new Error(hr(8));if(c)throw new Error(hr(9));try{c=!0,o=i(o,x)}finally{c=!1}for(var w=s=a,k=0;k<w.length;k++){var C=w[k];C()}return x}function v(x){if(typeof x!="function")throw new Error(hr(10));i=x,g({type:QC.REPLACE})}function b(){var x,w=p;return x={subscribe:function(C){if(typeof C!="object"||C===null)throw new Error(hr(11));function M(){C.next&&C.next(f())}M();var T=w(M);return{unsubscribe:T}}},x[KC]=function(){return this},x}return g({type:QC.INIT}),r={dispatch:g,subscribe:p,getState:f,replaceReducer:v},r[KC]=b,r}function ZC(n,e){return function(){return e(n.apply(this,arguments))}}function e_(n,e){if(typeof n=="function")return ZC(n,e);if(typeof n!="object"||n===null)throw new Error(hr(16));var t={};for(var r in n){var i=n[r];typeof i=="function"&&(t[r]=ZC(i,e))}return t}function X2(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function A9(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(hr(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(c){return c(s)});return o=X2.apply(void 0,a)(i.dispatch),XC(XC({},i),{},{dispatch:o})}}}var K2=ze.createContext(null);function L9(n){n()}var J2=L9,B9=function(e){return J2=e},F9=function(){return J2};function H9(){var n=F9(),e=null,t=null;return{clear:function(){e=null,t=null},notify:function(){n(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=t={callback:i,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!o||e===null||(o=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var t_={notify:function(){},get:function(){return[]}};function Q2(n,e){var t,r=t_;function i(p){return c(),r.subscribe(p)}function o(){r.notify()}function s(){f.onStateChange&&f.onStateChange()}function a(){return!!t}function c(){t||(t=e?e.addNestedSub(s):n.subscribe(s),r=H9())}function h(){t&&(t(),t=void 0,r.clear(),r=t_)}var f={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:c,tryUnsubscribe:h,getListeners:function(){return r}};return f}var Z2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect;function z9(n){var e=n.store,t=n.context,r=n.children,i=j.useMemo(function(){var a=Q2(e);return{store:e,subscription:a}},[e]),o=j.useMemo(function(){return e.getState()},[e]);Z2(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=t||K2;return ze.createElement(s.Provider,{value:i},r)}function nf(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var Iv={exports:{}},mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function U9(){if(n_)return mt;n_=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,a=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,x=n?Symbol.for("react.block"):60121,w=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,C=n?Symbol.for("react.scope"):60119;function M(D){if(typeof D=="object"&&D!==null){var E=D.$$typeof;switch(E){case e:switch(D=D.type,D){case c:case h:case r:case o:case i:case p:return D;default:switch(D=D&&D.$$typeof,D){case a:case f:case b:case v:case s:return D;default:return E}}case t:return E}}}function T(D){return M(D)===h}return mt.AsyncMode=c,mt.ConcurrentMode=h,mt.ContextConsumer=a,mt.ContextProvider=s,mt.Element=e,mt.ForwardRef=f,mt.Fragment=r,mt.Lazy=b,mt.Memo=v,mt.Portal=t,mt.Profiler=o,mt.StrictMode=i,mt.Suspense=p,mt.isAsyncMode=function(D){return T(D)||M(D)===c},mt.isConcurrentMode=T,mt.isContextConsumer=function(D){return M(D)===a},mt.isContextProvider=function(D){return M(D)===s},mt.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===e},mt.isForwardRef=function(D){return M(D)===f},mt.isFragment=function(D){return M(D)===r},mt.isLazy=function(D){return M(D)===b},mt.isMemo=function(D){return M(D)===v},mt.isPortal=function(D){return M(D)===t},mt.isProfiler=function(D){return M(D)===o},mt.isStrictMode=function(D){return M(D)===i},mt.isSuspense=function(D){return M(D)===p},mt.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===h||D===o||D===i||D===p||D===g||typeof D=="object"&&D!==null&&(D.$$typeof===b||D.$$typeof===v||D.$$typeof===s||D.$$typeof===a||D.$$typeof===f||D.$$typeof===w||D.$$typeof===k||D.$$typeof===C||D.$$typeof===x)},mt.typeOf=M,mt}var r_;function $9(){return r_||(r_=1,Iv.exports=U9()),Iv.exports}var Nv,i_;function W9(){if(i_)return Nv;i_=1;var n=$9(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=r,o[n.Memo]=i;function s(b){return n.isMemo(b)?i:o[b.$$typeof]||e}var a=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function v(b,x,w){if(typeof x!="string"){if(g){var k=p(x);k&&k!==g&&v(b,k,w)}var C=c(x);h&&(C=C.concat(h(x)));for(var M=s(b),T=s(x),D=0;D<C.length;++D){var E=C[D];if(!t[E]&&!(w&&w[E])&&!(T&&T[E])&&!(M&&M[E])){var I=f(x,E);try{a(b,E,I)}catch{}}}}return b}return Nv=v,Nv}var V9=W9();const o_=hf(V9);var Rv={exports:{}},xt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function q9(){if(s_)return xt;s_=1;var n=60103,e=60106,t=60107,r=60108,i=60114,o=60109,s=60110,a=60112,c=60113,h=60120,f=60115,p=60116,g=60121,v=60122,b=60117,x=60129,w=60131;if(typeof Symbol=="function"&&Symbol.for){var k=Symbol.for;n=k("react.element"),e=k("react.portal"),t=k("react.fragment"),r=k("react.strict_mode"),i=k("react.profiler"),o=k("react.provider"),s=k("react.context"),a=k("react.forward_ref"),c=k("react.suspense"),h=k("react.suspense_list"),f=k("react.memo"),p=k("react.lazy"),g=k("react.block"),v=k("react.server.block"),b=k("react.fundamental"),x=k("react.debug_trace_mode"),w=k("react.legacy_hidden")}function C(R){if(typeof R=="object"&&R!==null){var V=R.$$typeof;switch(V){case n:switch(R=R.type,R){case t:case i:case r:case c:case h:return R;default:switch(R=R&&R.$$typeof,R){case s:case a:case p:case f:case o:return R;default:return V}}case e:return V}}}var M=o,T=n,D=a,E=t,I=p,P=f,O=e,B=i,A=r,L=c;return xt.ContextConsumer=s,xt.ContextProvider=M,xt.Element=T,xt.ForwardRef=D,xt.Fragment=E,xt.Lazy=I,xt.Memo=P,xt.Portal=O,xt.Profiler=B,xt.StrictMode=A,xt.Suspense=L,xt.isAsyncMode=function(){return!1},xt.isConcurrentMode=function(){return!1},xt.isContextConsumer=function(R){return C(R)===s},xt.isContextProvider=function(R){return C(R)===o},xt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},xt.isForwardRef=function(R){return C(R)===a},xt.isFragment=function(R){return C(R)===t},xt.isLazy=function(R){return C(R)===p},xt.isMemo=function(R){return C(R)===f},xt.isPortal=function(R){return C(R)===e},xt.isProfiler=function(R){return C(R)===i},xt.isStrictMode=function(R){return C(R)===r},xt.isSuspense=function(R){return C(R)===c},xt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===x||R===r||R===c||R===h||R===w||typeof R=="object"&&R!==null&&(R.$$typeof===p||R.$$typeof===f||R.$$typeof===o||R.$$typeof===s||R.$$typeof===a||R.$$typeof===b||R.$$typeof===g||R[0]===v)},xt.typeOf=C,xt}var a_;function Y9(){return a_||(a_=1,Rv.exports=q9()),Rv.exports}var G9=Y9(),X9=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],K9=["reactReduxForwardedRef"],J9=[],Q9=[null,null];function Z9(n,e){var t=n[1];return[e.payload,t+1]}function l_(n,e,t){Z2(function(){return n.apply(void 0,e)},t)}function eV(n,e,t,r,i,o,s){n.current=r,e.current=i,t.current=!1,o.current&&(o.current=null,s())}function tV(n,e,t,r,i,o,s,a,c,h){if(n){var f=!1,p=null,g=function(){if(!f){var x=e.getState(),w,k;try{w=r(x,i.current)}catch(C){k=C,p=C}k||(p=null),w===o.current?s.current||c():(o.current=w,a.current=w,s.current=!0,h({type:"STORE_UPDATED",payload:{error:k}}))}};t.onStateChange=g,t.trySubscribe(),g();var v=function(){if(f=!0,t.tryUnsubscribe(),t.onStateChange=null,p)throw p};return v}}var nV=function(){return[null,0]};function rV(n,e){e===void 0&&(e={});var t=e,r=t.getDisplayName,i=r===void 0?function(M){return"ConnectAdvanced("+M+")"}:r,o=t.methodName,s=o===void 0?"connectAdvanced":o,a=t.renderCountProp,c=a===void 0?void 0:a,h=t.shouldHandleStateChanges,f=h===void 0?!0:h,p=t.storeKey,g=p===void 0?"store":p;t.withRef;var v=t.forwardRef,b=v===void 0?!1:v,x=t.context,w=x===void 0?K2:x,k=nf(t,X9),C=w;return function(T){var D=T.displayName||T.name||"Component",E=i(D),I=We({},k,{getDisplayName:i,methodName:s,renderCountProp:c,shouldHandleStateChanges:f,storeKey:g,displayName:E,wrappedComponentName:D,WrappedComponent:T}),P=k.pure;function O(V){return n(V.dispatch,I)}var B=P?j.useMemo:function(V){return V()};function A(V){var Q=j.useMemo(function(){var nn=V.reactReduxForwardedRef,Wt=nf(V,K9);return[V.context,nn,Wt]},[V]),oe=Q[0],q=Q[1],Y=Q[2],re=j.useMemo(function(){return oe&&oe.Consumer&&G9.isContextConsumer(ze.createElement(oe.Consumer,null))?oe:C},[oe,C]),le=j.useContext(re),W=!!V.store&&!!V.store.getState&&!!V.store.dispatch;le&&le.store;var Z=W?V.store:le.store,pe=j.useMemo(function(){return O(Z)},[Z]),be=j.useMemo(function(){if(!f)return Q9;var nn=Q2(Z,W?null:le.subscription),Wt=nn.notifyNestedSubs.bind(nn);return[nn,Wt]},[Z,W,le]),ke=be[0],me=be[1],Ie=j.useMemo(function(){return W?le:We({},le,{subscription:ke})},[W,le,ke]),we=j.useReducer(Z9,J9,nV),Pe=we[0],Ee=Pe[0],Ke=we[1];if(Ee&&Ee.error)throw Ee.error;var at=j.useRef(),wt=j.useRef(Y),lt=j.useRef(),_t=j.useRef(!1),an=B(function(){return lt.current&&Y===wt.current?lt.current:pe(Z.getState(),Y)},[Z,Ee,Y]);l_(eV,[wt,at,_t,Y,an,lt,me]),l_(tV,[f,Z,ke,pe,wt,at,_t,lt,me,Ke],[Z,ke,pe]);var Tn=j.useMemo(function(){return ze.createElement(T,We({},an,{ref:q}))},[q,T,an]),Nr=j.useMemo(function(){return f?ze.createElement(re.Provider,{value:Ie},Tn):Tn},[re,Tn,Ie]);return Nr}var L=P?ze.memo(A):A;if(L.WrappedComponent=T,L.displayName=A.displayName=E,b){var R=ze.forwardRef(function(Q,oe){return ze.createElement(L,We({},Q,{reactReduxForwardedRef:oe}))});return R.displayName=E,R.WrappedComponent=T,o_(R,T)}return o_(L,T)}}function c_(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function Av(n,e){if(c_(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(var i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!c_(n[t[i]],e[t[i]]))return!1;return!0}function iV(n,e){var t={},r=function(s){var a=n[s];typeof a=="function"&&(t[s]=function(){return e(a.apply(void 0,arguments))})};for(var i in n)r(i);return t}function Px(n){return function(t,r){var i=n(t,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function u_(n){return n.dependsOnOwnProps!==null&&n.dependsOnOwnProps!==void 0?!!n.dependsOnOwnProps:n.length!==1}function eM(n,e){return function(r,i){i.displayName;var o=function(a,c){return o.dependsOnOwnProps?o.mapToProps(a,c):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,c){o.mapToProps=n,o.dependsOnOwnProps=u_(n);var h=o(a,c);return typeof h=="function"&&(o.mapToProps=h,o.dependsOnOwnProps=u_(h),h=o(a,c)),h},o}}function oV(n){return typeof n=="function"?eM(n):void 0}function sV(n){return n?void 0:Px(function(e){return{dispatch:e}})}function aV(n){return n&&typeof n=="object"?Px(function(e){return iV(n,e)}):void 0}const lV=[oV,sV,aV];function cV(n){return typeof n=="function"?eM(n):void 0}function uV(n){return n?void 0:Px(function(){return{}})}const dV=[cV,uV];function hV(n,e,t){return We({},t,n,e)}function fV(n){return function(t,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,a;return function(h,f,p){var g=n(h,f,p);return s?(!i||!o(g,a))&&(a=g):(s=!0,a=g),a}}}function pV(n){return typeof n=="function"?fV(n):void 0}function mV(n){return n?void 0:function(){return hV}}const gV=[pV,mV];var vV=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function yV(n,e,t,r){return function(o,s){return t(n(o,s),e(r,s),s)}}function bV(n,e,t,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,a=i.areStatePropsEqual,c=!1,h,f,p,g,v;function b(M,T){return h=M,f=T,p=n(h,f),g=e(r,f),v=t(p,g,f),c=!0,v}function x(){return p=n(h,f),e.dependsOnOwnProps&&(g=e(r,f)),v=t(p,g,f),v}function w(){return n.dependsOnOwnProps&&(p=n(h,f)),e.dependsOnOwnProps&&(g=e(r,f)),v=t(p,g,f),v}function k(){var M=n(h,f),T=!a(M,p);return p=M,T&&(v=t(p,g,f)),v}function C(M,T){var D=!s(T,f),E=!o(M,h,T,f);return h=M,f=T,D&&E?x():D?w():E?k():v}return function(T,D){return c?C(T,D):b(T,D)}}function xV(n,e){var t=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=nf(e,vV),s=t(n,o),a=r(n,o),c=i(n,o),h=o.pure?bV:yV;return h(s,a,c,n,o)}var wV=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Lv(n,e,t){for(var r=e.length-1;r>=0;r--){var i=e[r](n);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof n+" for "+t+" argument when connecting component "+s.wrappedComponentName+".")}}function SV(n,e){return n===e}function kV(n){var e=n===void 0?{}:n,t=e.connectHOC,r=t===void 0?rV:t,i=e.mapStateToPropsFactories,o=i===void 0?dV:i,s=e.mapDispatchToPropsFactories,a=s===void 0?lV:s,c=e.mergePropsFactories,h=c===void 0?gV:c,f=e.selectorFactory,p=f===void 0?xV:f;return function(v,b,x,w){w===void 0&&(w={});var k=w,C=k.pure,M=C===void 0?!0:C,T=k.areStatesEqual,D=T===void 0?SV:T,E=k.areOwnPropsEqual,I=E===void 0?Av:E,P=k.areStatePropsEqual,O=P===void 0?Av:P,B=k.areMergedPropsEqual,A=B===void 0?Av:B,L=nf(k,wV),R=Lv(v,o,"mapStateToProps"),V=Lv(b,a,"mapDispatchToProps"),Q=Lv(x,h,"mergeProps");return r(p,We({methodName:"connect",getDisplayName:function(q){return"Connect("+q+")"},shouldHandleStateChanges:!!v,initMapStateToProps:R,initMapDispatchToProps:V,initMergeProps:Q,pure:M,areStatesEqual:D,areOwnPropsEqual:I,areStatePropsEqual:O,areMergedPropsEqual:A},L))}}const tM=kV();B9(No.unstable_batchedUpdates);function EV(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function nM(n,e){var t=j.useState(function(){return{inputs:e,result:n()}})[0],r=j.useRef(!0),i=j.useRef(t),o=r.current||!!(e&&i.current.inputs&&EV(e,i.current.inputs)),s=o?i.current:{inputs:e,result:n()};return j.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function CV(n,e){return nM(function(){return n},e)}var st=nM,Fe=CV,_V="Invariant failed";function TV(n,e){throw new Error(_V)}var fi=function(e){var t=e.top,r=e.right,i=e.bottom,o=e.left,s=r-o,a=i-t,c={top:t,right:r,bottom:i,left:o,width:s,height:a,x:o,y:t,center:{x:(r+o)/2,y:(i+t)/2}};return c},Ox=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},d_=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},jV=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Bv={top:0,right:0,bottom:0,left:0},Ix=function(e){var t=e.borderBox,r=e.margin,i=r===void 0?Bv:r,o=e.border,s=o===void 0?Bv:o,a=e.padding,c=a===void 0?Bv:a,h=fi(Ox(t,i)),f=fi(d_(t,s)),p=fi(d_(f,c));return{marginBox:h,borderBox:fi(t),paddingBox:f,contentBox:p,margin:i,border:s,padding:c}},Wr=function(e){var t=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(t);return isNaN(i)&&TV(),i},DV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},rf=function(e,t){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=jV(r,t);return Ix({borderBox:a,border:i,margin:o,padding:s})},of=function(e,t){return t===void 0&&(t=DV()),rf(e,t)},rM=function(e,t){var r={top:Wr(t.marginTop),right:Wr(t.marginRight),bottom:Wr(t.marginBottom),left:Wr(t.marginLeft)},i={top:Wr(t.paddingTop),right:Wr(t.paddingRight),bottom:Wr(t.paddingBottom),left:Wr(t.paddingLeft)},o={top:Wr(t.borderTopWidth),right:Wr(t.borderRightWidth),bottom:Wr(t.borderBottomWidth),left:Wr(t.borderLeftWidth)};return Ix({borderBox:e,margin:r,padding:i,border:o})},iM=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return rM(t,r)},h_=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function MV(n,e){return!!(n===e||h_(n)&&h_(e))}function PV(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!MV(n[t],e[t]))return!1;return!0}function bn(n,e){e===void 0&&(e=PV);var t,r=[],i,o=!1;function s(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return o&&t===this&&e(a,r)||(i=n.apply(this,a),o=!0,t=this,r=a),i}return s}var Oc=function(e){var t=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];t=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,t)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function oM(n,e){}oM.bind(null,"warn");oM.bind(null,"error");function Ho(){}function OV(n,e){return We({},n,{},e)}function Xr(n,e,t){var r=e.map(function(i){var o=OV(t,i.options);return n.addEventListener(i.eventName,i.fn,o),function(){n.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var IV="Invariant failed";function sf(n){this.message=n}sf.prototype.toString=function(){return this.message};function Se(n,e){throw new sf(IV)}var NV=function(n){Y2(e,n);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o))||this,r.callbacks=null,r.unbind=Ho,r.onWindowError=function(a){var c=r.getCallbacks();c.isDragging()&&c.tryAbort();var h=a.error;h instanceof sf&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var t=e.prototype;return t.componentDidMount=function(){this.unbind=Xr(window,[{eventName:"error",fn:this.onWindowError}])},t.componentDidCatch=function(i){if(i instanceof sf){this.setState({});return}throw i},t.componentWillUnmount=function(){this.unbind()},t.render=function(){return this.props.children(this.setCallbacks)},e}(ze.Component),RV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,af=function(e){return e+1},AV=function(e){return`
  You have lifted an item in position `+af(e.source.index)+`
`},sM=function(e,t){var r=e.droppableId===t.droppableId,i=af(e.index),o=af(t.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+t.droppableId+`
    in position `+o+`
  `},aM=function(e,t,r){var i=t.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+t.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},LV=function(e){var t=e.destination;if(t)return sM(e.source,t);var r=e.combine;return r?aM(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},f_=function(e){return`
  The item has returned to its starting position
  of `+af(e.index)+`
`},BV=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+f_(e.source)+`
    `;var t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      `+sM(e.source,t)+`
    `:r?`
      You have dropped the item.
      `+aM(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+f_(e.source)+`
  `},kh={dragHandleUsageInstructions:RV,onDragStart:AV,onDragUpdate:LV,onDragEnd:BV},xn={x:0,y:0},Cn=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Pr=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},zo=function(e,t){return e.x===t.x&&e.y===t.y},Ua=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Ls=function(e,t,r){var i;return r===void 0&&(r=0),i={},i[e]=t,i[e==="x"?"y":"x"]=r,i},Ic=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},p_=function(e,t){return Math.min.apply(Math,t.map(function(r){return Ic(e,r)}))},lM=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},FV=function(n,e){var t=fi({top:Math.max(e.top,n.top),right:Math.min(e.right,n.right),bottom:Math.min(e.bottom,n.bottom),left:Math.max(e.left,n.left)});return t.width<=0||t.height<=0?null:t},tu=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},m_=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},HV={top:0,right:0,bottom:0,left:0},zV=function(e,t){return t?tu(e,t.scroll.diff.displacement):e},UV=function(e,t,r){if(r&&r.increasedBy){var i;return We({},e,(i={},i[t.end]=e[t.end]+r.increasedBy[t.line],i))}return e},$V=function(e,t){return t&&t.shouldClipSubject?FV(t.pageMarginBox,e):fi(e)},Ta=function(n){var e=n.page,t=n.withPlaceholder,r=n.axis,i=n.frame,o=zV(e.marginBox,i),s=UV(o,r,t),a=$V(s,i);return{page:e,withPlaceholder:t,active:a}},Nx=function(n,e){n.frame||Se();var t=n.frame,r=Pr(e,t.scroll.initial),i=Ua(r),o=We({},t,{scroll:{initial:t.scroll.initial,current:e,diff:{value:r,displacement:i},max:t.scroll.max}}),s=Ta({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:o}),a=We({},n,{frame:o,subject:s});return a};function lf(n){return Object.values?Object.values(n):Object.keys(n).map(function(e){return n[e]})}function Rx(n,e){if(n.findIndex)return n.findIndex(e);for(var t=0;t<n.length;t++)if(e(n[t]))return t;return-1}function Zo(n,e){if(n.find)return n.find(e);var t=Rx(n,e);if(t!==-1)return n[t]}function cM(n){return Array.prototype.slice.call(n)}var uM=bn(function(n){return n.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),dM=bn(function(n){return n.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),Jf=bn(function(n){return lf(n)}),WV=bn(function(n){return lf(n)}),$a=bn(function(n,e){var t=WV(e).filter(function(r){return n===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return t});function Ax(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function Qf(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var Zf=bn(function(n,e){return e.filter(function(t){return t.descriptor.id!==n.descriptor.id})}),VV=function(n){var e=n.isMovingForward,t=n.draggable,r=n.destination,i=n.insideDestination,o=n.previousImpact;if(!r.isCombineEnabled)return null;var s=Ax(o);if(!s)return null;function a(x){var w={type:"COMBINE",combine:{draggableId:x,droppableId:r.descriptor.id}};return We({},o,{at:w})}var c=o.displaced.all,h=c.length?c[0]:null;if(e)return h?a(h):null;var f=Zf(t,i);if(!h){if(!f.length)return null;var p=f[f.length-1];return a(p.descriptor.id)}var g=Rx(f,function(x){return x.descriptor.id===h});g===-1&&Se();var v=g-1;if(v<0)return null;var b=f[v];return a(b.descriptor.id)},Wa=function(n,e){return n.descriptor.droppableId===e.descriptor.id},hM={point:xn,value:0},Nc={invisible:{},visible:{},all:[]},qV={displaced:Nc,displacedBy:hM,at:null},Kr=function(n,e){return function(t){return n<=t&&t<=e}},fM=function(n){var e=Kr(n.top,n.bottom),t=Kr(n.left,n.right);return function(r){var i=e(r.top)&&e(r.bottom)&&t(r.left)&&t(r.right);if(i)return!0;var o=e(r.top)||e(r.bottom),s=t(r.left)||t(r.right),a=o&&s;if(a)return!0;var c=r.top<n.top&&r.bottom>n.bottom,h=r.left<n.left&&r.right>n.right,f=c&&h;if(f)return!0;var p=c&&s||h&&o;return p}},YV=function(n){var e=Kr(n.top,n.bottom),t=Kr(n.left,n.right);return function(r){var i=e(r.top)&&e(r.bottom)&&t(r.left)&&t(r.right);return i}},Lx={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},pM={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},GV=function(n){return function(e){var t=Kr(e.top,e.bottom),r=Kr(e.left,e.right);return function(i){return n===Lx?t(i.top)&&t(i.bottom):r(i.left)&&r(i.right)}}},XV=function(e,t){var r=t.frame?t.frame.scroll.diff.displacement:xn;return tu(e,r)},KV=function(e,t,r){return t.subject.active?r(t.subject.active)(e):!1},JV=function(e,t,r){return r(t)(e)},Bx=function(e){var t=e.target,r=e.destination,i=e.viewport,o=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,a=o?XV(t,r):t;return KV(a,r,s)&&JV(a,i,s)},QV=function(e){return Bx(We({},e,{isVisibleThroughFrameFn:fM}))},mM=function(e){return Bx(We({},e,{isVisibleThroughFrameFn:YV}))},ZV=function(e){return Bx(We({},e,{isVisibleThroughFrameFn:GV(e.destination.axis)}))},eq=function(e,t,r){if(typeof r=="boolean")return r;if(!t)return!0;var i=t.invisible,o=t.visible;if(i[e])return!1;var s=o[e];return s?s.shouldAnimate:!0};function tq(n,e){var t=n.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return fi(Ox(t,r))}function Rc(n){var e=n.afterDragging,t=n.destination,r=n.displacedBy,i=n.viewport,o=n.forceShouldAnimate,s=n.last;return e.reduce(function(c,h){var f=tq(h,r),p=h.descriptor.id;c.all.push(p);var g=QV({target:f,destination:t,viewport:i,withDroppableDisplacement:!0});if(!g)return c.invisible[h.descriptor.id]=!0,c;var v=eq(p,s,o),b={draggableId:p,shouldAnimate:v};return c.visible[p]=b,c},{all:[],visible:{},invisible:{}})}function nq(n,e){if(!n.length)return 0;var t=n[n.length-1].descriptor.index;return e.inHomeList?t:t+1}function g_(n){var e=n.insideDestination,t=n.inHomeList,r=n.displacedBy,i=n.destination,o=nq(e,{inHomeList:t});return{displaced:Nc,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function cf(n){var e=n.draggable,t=n.insideDestination,r=n.destination,i=n.viewport,o=n.displacedBy,s=n.last,a=n.index,c=n.forceShouldAnimate,h=Wa(e,r);if(a==null)return g_({insideDestination:t,inHomeList:h,displacedBy:o,destination:r});var f=Zo(t,function(x){return x.descriptor.index===a});if(!f)return g_({insideDestination:t,inHomeList:h,displacedBy:o,destination:r});var p=Zf(e,t),g=t.indexOf(f),v=p.slice(g),b=Rc({afterDragging:v,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:c});return{displaced:b,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function Go(n,e){return!!e.effected[n]}var rq=function(n){var e=n.isMovingForward,t=n.destination,r=n.draggables,i=n.combine,o=n.afterCritical;if(!t.isCombineEnabled)return null;var s=i.draggableId,a=r[s],c=a.descriptor.index,h=Go(s,o);return h?e?c:c-1:e?c+1:c},iq=function(n){var e=n.isMovingForward,t=n.isInHomeList,r=n.insideDestination,i=n.location;if(!r.length)return null;var o=i.index,s=e?o+1:o-1,a=r[0].descriptor.index,c=r[r.length-1].descriptor.index,h=t?c:c+1;return s<a||s>h?null:s},oq=function(n){var e=n.isMovingForward,t=n.isInHomeList,r=n.draggable,i=n.draggables,o=n.destination,s=n.insideDestination,a=n.previousImpact,c=n.viewport,h=n.afterCritical,f=a.at;if(f||Se(),f.type==="REORDER"){var p=iq({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:s});return p==null?null:cf({draggable:r,insideDestination:s,destination:o,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:p})}var g=rq({isMovingForward:e,destination:o,displaced:a.displaced,draggables:i,combine:f.combine,afterCritical:h});return g==null?null:cf({draggable:r,insideDestination:s,destination:o,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:g})},sq=function(n){var e=n.displaced,t=n.afterCritical,r=n.combineWith,i=n.displacedBy,o=!!(e.visible[r]||e.invisible[r]);return Go(r,t)?o?xn:Ua(i.point):o?i.point:xn},aq=function(n){var e=n.afterCritical,t=n.impact,r=n.draggables,i=Qf(t);i||Se();var o=i.draggableId,s=r[o].page.borderBox.center,a=sq({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return Cn(s,a)},gM=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},lq=function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2},Fx=function(e,t,r){return t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},v_=function(e){var t=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Ls(t.line,r.marginBox[t.end]+gM(t,i),Fx(t,r.marginBox,i))},y_=function(e){var t=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Ls(t.line,r.marginBox[t.start]-lq(t,i),Fx(t,r.marginBox,i))},cq=function(e){var t=e.axis,r=e.moveInto,i=e.isMoving;return Ls(t.line,r.contentBox[t.start]+gM(t,i),Fx(t,r.contentBox,i))},uq=function(n){var e=n.impact,t=n.draggable,r=n.draggables,i=n.droppable,o=n.afterCritical,s=$a(i.descriptor.id,r),a=t.page,c=i.axis;if(!s.length)return cq({axis:c,moveInto:i.page,isMoving:a});var h=e.displaced,f=e.displacedBy,p=h.all[0];if(p){var g=r[p];if(Go(p,o))return y_({axis:c,moveRelativeTo:g.page,isMoving:a});var v=rf(g.page,f.point);return y_({axis:c,moveRelativeTo:v,isMoving:a})}var b=s[s.length-1];if(b.descriptor.id===t.descriptor.id)return a.borderBox.center;if(Go(b.descriptor.id,o)){var x=rf(b.page,Ua(o.displacedBy.point));return v_({axis:c,moveRelativeTo:x,isMoving:a})}return v_({axis:c,moveRelativeTo:b.page,isMoving:a})},Ry=function(n,e){var t=n.frame;return t?Cn(e,t.scroll.diff.displacement):e},dq=function(e){var t=e.impact,r=e.draggable,i=e.droppable,o=e.draggables,s=e.afterCritical,a=r.page.borderBox.center,c=t.at;return!i||!c?a:c.type==="REORDER"?uq({impact:t,draggable:r,draggables:o,droppable:i,afterCritical:s}):aq({impact:t,draggables:o,afterCritical:s})},ep=function(n){var e=dq(n),t=n.droppable,r=t?Ry(t,e):e;return r},vM=function(n,e){var t=Pr(e,n.scroll.initial),r=Ua(t),i=fi({top:e.y,bottom:e.y+n.frame.height,left:e.x,right:e.x+n.frame.width}),o={frame:i,scroll:{initial:n.scroll.initial,max:n.scroll.max,current:e,diff:{value:t,displacement:r}}};return o};function b_(n,e){return n.map(function(t){return e[t]})}function hq(n,e){for(var t=0;t<e.length;t++){var r=e[t].visible[n];if(r)return r}return null}var fq=function(n){var e=n.impact,t=n.viewport,r=n.destination,i=n.draggables,o=n.maxScrollChange,s=vM(t,Cn(t.scroll.current,o)),a=r.frame?Nx(r,Cn(r.frame.scroll.current,o)):r,c=e.displaced,h=Rc({afterDragging:b_(c.all,i),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:c,forceShouldAnimate:!1}),f=Rc({afterDragging:b_(c.all,i),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),p={},g={},v=[c,h,f];c.all.forEach(function(x){var w=hq(x,v);if(w){g[x]=w;return}p[x]=!0});var b=We({},e,{displaced:{all:c.all,invisible:p,visible:g}});return b},pq=function(n,e){return Cn(n.scroll.diff.displacement,e)},Hx=function(n){var e=n.pageBorderBoxCenter,t=n.draggable,r=n.viewport,i=pq(r,e),o=Pr(i,t.page.borderBox.center);return Cn(t.client.borderBox.center,o)},yM=function(n){var e=n.draggable,t=n.destination,r=n.newPageBorderBoxCenter,i=n.viewport,o=n.withDroppableDisplacement,s=n.onlyOnMainAxis,a=s===void 0?!1:s,c=Pr(r,e.page.borderBox.center),h=tu(e.page.borderBox,c),f={target:h,destination:t,withDroppableDisplacement:o,viewport:i};return a?ZV(f):mM(f)},mq=function(n){var e=n.isMovingForward,t=n.draggable,r=n.destination,i=n.draggables,o=n.previousImpact,s=n.viewport,a=n.previousPageBorderBoxCenter,c=n.previousClientSelection,h=n.afterCritical;if(!r.isEnabled)return null;var f=$a(r.descriptor.id,i),p=Wa(t,r),g=VV({isMovingForward:e,draggable:t,destination:r,insideDestination:f,previousImpact:o})||oq({isMovingForward:e,isInHomeList:p,draggable:t,draggables:i,destination:r,insideDestination:f,previousImpact:o,viewport:s,afterCritical:h});if(!g)return null;var v=ep({impact:g,draggable:t,droppable:r,draggables:i,afterCritical:h}),b=yM({draggable:t,destination:r,newPageBorderBoxCenter:v,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(b){var x=Hx({pageBorderBoxCenter:v,draggable:t,viewport:s});return{clientSelection:x,impact:g,scrollJumpRequest:null}}var w=Pr(v,a),k=fq({impact:g,viewport:s,destination:r,draggables:i,maxScrollChange:w});return{clientSelection:c,impact:k,scrollJumpRequest:w}},Kn=function(e){var t=e.subject.active;return t||Se(),t},gq=function(n){var e=n.isMovingForward,t=n.pageBorderBoxCenter,r=n.source,i=n.droppables,o=n.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,c=Kr(s[a.start],s[a.end]),h=Jf(i).filter(function(p){return p!==r}).filter(function(p){return p.isEnabled}).filter(function(p){return!!p.subject.active}).filter(function(p){return fM(o.frame)(Kn(p))}).filter(function(p){var g=Kn(p);return e?s[a.crossAxisEnd]<g[a.crossAxisEnd]:g[a.crossAxisStart]<s[a.crossAxisStart]}).filter(function(p){var g=Kn(p),v=Kr(g[a.start],g[a.end]);return c(g[a.start])||c(g[a.end])||v(s[a.start])||v(s[a.end])}).sort(function(p,g){var v=Kn(p)[a.crossAxisStart],b=Kn(g)[a.crossAxisStart];return e?v-b:b-v}).filter(function(p,g,v){return Kn(p)[a.crossAxisStart]===Kn(v[0])[a.crossAxisStart]});if(!h.length)return null;if(h.length===1)return h[0];var f=h.filter(function(p){var g=Kr(Kn(p)[a.start],Kn(p)[a.end]);return g(t[a.line])});return f.length===1?f[0]:f.length>1?f.sort(function(p,g){return Kn(p)[a.start]-Kn(g)[a.start]})[0]:h.sort(function(p,g){var v=p_(t,m_(Kn(p))),b=p_(t,m_(Kn(g)));return v!==b?v-b:Kn(p)[a.start]-Kn(g)[a.start]})[0]},x_=function(e,t){var r=e.page.borderBox.center;return Go(e.descriptor.id,t)?Pr(r,t.displacedBy.point):r},vq=function(e,t){var r=e.page.borderBox;return Go(e.descriptor.id,t)?tu(r,Ua(t.displacedBy.point)):r},yq=function(n){var e=n.pageBorderBoxCenter,t=n.viewport,r=n.destination,i=n.insideDestination,o=n.afterCritical,s=i.filter(function(a){return mM({target:vq(a,o),destination:r,viewport:t.frame,withDroppableDisplacement:!0})}).sort(function(a,c){var h=Ic(e,Ry(r,x_(a,o))),f=Ic(e,Ry(r,x_(c,o)));return h<f?-1:f<h?1:a.descriptor.index-c.descriptor.index});return s[0]||null},nu=bn(function(e,t){var r=t[e.line];return{value:r,point:Ls(e.line,r)}}),bq=function(e,t,r){var i=e.axis;if(e.descriptor.mode==="virtual")return Ls(i.line,t[i.line]);var o=e.subject.page.contentBox[i.size],s=$a(e.descriptor.id,r),a=s.reduce(function(f,p){return f+p.client.marginBox[i.size]},0),c=a+t[i.line],h=c-o;return h<=0?null:Ls(i.line,h)},bM=function(e,t){return We({},e,{scroll:We({},e.scroll,{max:t})})},xM=function(e,t,r){var i=e.frame;Wa(t,e)&&Se(),e.subject.withPlaceholder&&Se();var o=nu(e.axis,t.displaceBy).point,s=bq(e,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var c=Ta({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return We({},e,{subject:c})}var h=s?Cn(i.scroll.max,s):i.scroll.max,f=bM(i,h),p=Ta({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:f});return We({},e,{subject:p,frame:f})},xq=function(e){var t=e.subject.withPlaceholder;t||Se();var r=e.frame;if(!r){var i=Ta({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return We({},e,{subject:i})}var o=t.oldFrameMaxScroll;o||Se();var s=bM(r,o),a=Ta({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return We({},e,{subject:a,frame:s})},wq=function(n){var e=n.previousPageBorderBoxCenter,t=n.moveRelativeTo,r=n.insideDestination,i=n.draggable,o=n.draggables,s=n.destination,a=n.viewport,c=n.afterCritical;if(!t){if(r.length)return null;var h={displaced:Nc,displacedBy:hM,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},f=ep({impact:h,draggable:i,droppable:s,draggables:o,afterCritical:c}),p=Wa(i,s)?s:xM(s,i,o),g=yM({draggable:i,destination:p,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return g?h:null}var v=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],b=function(){var w=t.descriptor.index;return t.descriptor.id===i.descriptor.id||v?w:w+1}(),x=nu(s.axis,i.displaceBy);return cf({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:x,last:Nc,index:b})},Sq=function(n){var e=n.isMovingForward,t=n.previousPageBorderBoxCenter,r=n.draggable,i=n.isOver,o=n.draggables,s=n.droppables,a=n.viewport,c=n.afterCritical,h=gq({isMovingForward:e,pageBorderBoxCenter:t,source:i,droppables:s,viewport:a});if(!h)return null;var f=$a(h.descriptor.id,o),p=yq({pageBorderBoxCenter:t,viewport:a,destination:h,insideDestination:f,afterCritical:c}),g=wq({previousPageBorderBoxCenter:t,destination:h,draggable:r,draggables:o,moveRelativeTo:p,insideDestination:f,viewport:a,afterCritical:c});if(!g)return null;var v=ep({impact:g,draggable:r,droppable:h,draggables:o,afterCritical:c}),b=Hx({pageBorderBoxCenter:v,draggable:r,viewport:a});return{clientSelection:b,impact:g,scrollJumpRequest:null}},Or=function(n){var e=n.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},kq=function(e,t){var r=Or(e);return r?t[r]:null},Eq=function(n){var e=n.state,t=n.type,r=kq(e.impact,e.dimensions.droppables),i=!!r,o=e.dimensions.droppables[e.critical.droppable.id],s=r||o,a=s.axis.direction,c=a==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||a==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!i)return null;var h=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],p=e.current.page.borderBoxCenter,g=e.dimensions,v=g.draggables,b=g.droppables;return c?mq({isMovingForward:h,previousPageBorderBoxCenter:p,draggable:f,destination:s,draggables:v,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Sq({isMovingForward:h,previousPageBorderBoxCenter:p,draggable:f,isOver:s,draggables:v,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function ws(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function wM(n){var e=Kr(n.top,n.bottom),t=Kr(n.left,n.right);return function(i){return e(i.y)&&t(i.x)}}function Cq(n,e){return n.left<e.right&&n.right>e.left&&n.top<e.bottom&&n.bottom>e.top}function _q(n){var e=n.pageBorderBox,t=n.draggable,r=n.candidates,i=t.page.borderBox.center,o=r.map(function(s){var a=s.axis,c=Ls(s.axis.line,e.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:Ic(i,c)}}).sort(function(s,a){return a.distance-s.distance});return o[0]?o[0].id:null}function Tq(n){var e=n.pageBorderBox,t=n.draggable,r=n.droppables,i=Jf(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!Cq(e,s))return!1;if(wM(s)(e.center))return!0;var a=o.axis,c=s.center[a.crossAxisLine],h=e[a.crossAxisStart],f=e[a.crossAxisEnd],p=Kr(s[a.crossAxisStart],s[a.crossAxisEnd]),g=p(h),v=p(f);return!g&&!v?!0:g?h<c:f>c});return i.length?i.length===1?i[0].descriptor.id:_q({pageBorderBox:e,draggable:t,candidates:i}):null}var SM=function(e,t){return fi(tu(e,t))},jq=function(n,e){var t=n.frame;return t?SM(e,t.scroll.diff.value):e};function kM(n){var e=n.displaced,t=n.id;return!!(e.visible[t]||e.invisible[t])}function Dq(n){var e=n.draggable,t=n.closest,r=n.inHomeList;return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Mq=function(n){var e=n.pageBorderBoxWithDroppableScroll,t=n.draggable,r=n.destination,i=n.insideDestination,o=n.last,s=n.viewport,a=n.afterCritical,c=r.axis,h=nu(r.axis,t.displaceBy),f=h.value,p=e[c.start],g=e[c.end],v=Zf(t,i),b=Zo(v,function(w){var k=w.descriptor.id,C=w.page.borderBox.center[c.line],M=Go(k,a),T=kM({displaced:o,id:k});return M?T?g<=C:p<C-f:T?g<=C+f:p<C}),x=Dq({draggable:t,closest:b,inHomeList:Wa(t,r)});return cf({draggable:t,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:h,index:x})},Pq=4,Oq=function(n){var e=n.draggable,t=n.pageBorderBoxWithDroppableScroll,r=n.previousImpact,i=n.destination,o=n.insideDestination,s=n.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,c=nu(i.axis,e.displaceBy),h=c.value,f=t[a.start],p=t[a.end],g=Zf(e,o),v=Zo(g,function(x){var w=x.descriptor.id,k=x.page.borderBox,C=k[a.size],M=C/Pq,T=Go(w,s),D=kM({displaced:r.displaced,id:w});return T?D?p>k[a.start]+M&&p<k[a.end]-M:f>k[a.start]-h+M&&f<k[a.end]-h-M:D?p>k[a.start]+h+M&&p<k[a.end]+h-M:f>k[a.start]+M&&f<k[a.end]-M});if(!v)return null;var b={displacedBy:c,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:v.descriptor.id,droppableId:i.descriptor.id}}};return b},EM=function(n){var e=n.pageOffset,t=n.draggable,r=n.draggables,i=n.droppables,o=n.previousImpact,s=n.viewport,a=n.afterCritical,c=SM(t.page.borderBox,e),h=Tq({pageBorderBox:c,draggable:t,droppables:i});if(!h)return qV;var f=i[h],p=$a(f.descriptor.id,r),g=jq(f,c);return Oq({pageBorderBoxWithDroppableScroll:g,draggable:t,previousImpact:o,destination:f,insideDestination:p,afterCritical:a})||Mq({pageBorderBoxWithDroppableScroll:g,draggable:t,destination:f,insideDestination:p,last:o.displaced,viewport:s,afterCritical:a})},zx=function(n,e){var t;return We({},n,(t={},t[e.descriptor.id]=e,t))},Iq=function(e){var t=e.previousImpact,r=e.impact,i=e.droppables,o=Or(t),s=Or(r);if(!o||o===s)return i;var a=i[o];if(!a.subject.withPlaceholder)return i;var c=xq(a);return zx(i,c)},Nq=function(n){var e=n.draggable,t=n.draggables,r=n.droppables,i=n.previousImpact,o=n.impact,s=Iq({previousImpact:i,impact:o,droppables:r}),a=Or(o);if(!a)return s;var c=r[a];if(Wa(e,c)||c.subject.withPlaceholder)return s;var h=xM(c,e,t);return zx(s,h)},dc=function(n){var e=n.state,t=n.clientSelection,r=n.dimensions,i=n.viewport,o=n.impact,s=n.scrollJumpRequest,a=i||e.viewport,c=r||e.dimensions,h=t||e.current.client.selection,f=Pr(h,e.initial.client.selection),p={offset:f,selection:h,borderBoxCenter:Cn(e.initial.client.borderBoxCenter,f)},g={selection:Cn(p.selection,a.scroll.current),borderBoxCenter:Cn(p.borderBoxCenter,a.scroll.current),offset:Cn(p.offset,a.scroll.diff.value)},v={client:p,page:g};if(e.phase==="COLLECTING")return We({phase:"COLLECTING"},e,{dimensions:c,viewport:a,current:v});var b=c.draggables[e.critical.draggable.id],x=o||EM({pageOffset:g.offset,draggable:b,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),w=Nq({draggable:b,impact:x,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables}),k=We({},e,{current:v,dimensions:{draggables:c.draggables,droppables:w},impact:x,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return k};function Rq(n,e){return n.map(function(t){return e[t]})}var CM=function(n){var e=n.impact,t=n.viewport,r=n.draggables,i=n.destination,o=n.forceShouldAnimate,s=e.displaced,a=Rq(s.all,r),c=Rc({afterDragging:a,destination:i,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:s});return We({},e,{displaced:c})},_M=function(n){var e=n.impact,t=n.draggable,r=n.droppable,i=n.draggables,o=n.viewport,s=n.afterCritical,a=ep({impact:e,draggable:t,draggables:i,droppable:r,afterCritical:s});return Hx({pageBorderBoxCenter:a,draggable:t,viewport:o})},TM=function(n){var e=n.state,t=n.dimensions,r=n.viewport;e.movementMode!=="SNAP"&&Se();var i=e.impact,o=r||e.viewport,s=t||e.dimensions,a=s.draggables,c=s.droppables,h=a[e.critical.draggable.id],f=Or(i);f||Se();var p=c[f],g=CM({impact:i,viewport:o,destination:p,draggables:a}),v=_M({impact:g,draggable:h,droppable:p,draggables:a,viewport:o,afterCritical:e.afterCritical});return dc({impact:g,clientSelection:v,state:e,dimensions:s,viewport:o})},Aq=function(n){return{index:n.index,droppableId:n.droppableId}},jM=function(n){var e=n.draggable,t=n.home,r=n.draggables,i=n.viewport,o=nu(t.axis,e.displaceBy),s=$a(t.descriptor.id,r),a=s.indexOf(e);a===-1&&Se();var c=s.slice(a+1),h=c.reduce(function(v,b){return v[b.descriptor.id]=!0,v},{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:h},p=Rc({afterDragging:c,destination:t,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),g={displaced:p,displacedBy:o,at:{type:"REORDER",destination:Aq(e.descriptor)}};return{impact:g,afterCritical:f}},Lq=function(n,e){return{draggables:n.draggables,droppables:zx(n.droppables,e)}},Bq=function(n){var e=n.draggable,t=n.offset,r=n.initialWindowScroll,i=rf(e.client,t),o=of(i,r),s=We({},e,{placeholder:We({},e.placeholder,{client:i}),client:i,page:o});return s},Fq=function(n){var e=n.frame;return e||Se(),e},Hq=function(n){var e=n.additions,t=n.updatedDroppables,r=n.viewport,i=r.scroll.diff.value;return e.map(function(o){var s=o.descriptor.droppableId,a=t[s],c=Fq(a),h=c.scroll.diff.value,f=Cn(i,h),p=Bq({draggable:o,offset:f,initialWindowScroll:r.scroll.initial});return p})},zq=function(n){var e=n.state,t=n.published,r=t.modified.map(function(M){var T=e.dimensions.droppables[M.droppableId],D=Nx(T,M.scroll);return D}),i=We({},e.dimensions.droppables,{},uM(r)),o=dM(Hq({additions:t.additions,updatedDroppables:i,viewport:e.viewport})),s=We({},e.dimensions.draggables,{},o);t.removals.forEach(function(M){delete s[M]});var a={droppables:i,draggables:s},c=Or(e.impact),h=c?a.droppables[c]:null,f=a.draggables[e.critical.draggable.id],p=a.droppables[e.critical.droppable.id],g=jM({draggable:f,home:p,draggables:s,viewport:e.viewport}),v=g.impact,b=g.afterCritical,x=h&&h.isCombineEnabled?e.impact:v,w=EM({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:x,viewport:e.viewport,afterCritical:b}),k=We({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:w,onLiftImpact:v,dimensions:a,afterCritical:b,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return k;var C=We({phase:"DROP_PENDING"},k,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return C},Ay=function(e){return e.movementMode==="SNAP"},Fv=function(e,t,r){var i=Lq(e.dimensions,t);return!Ay(e)||r?dc({state:e,dimensions:i}):TM({state:e,dimensions:i})};function Hv(n){return n.isDragging&&n.movementMode==="SNAP"?We({phase:"DRAGGING"},n,{scrollJumpRequest:null}):n}var w_={phase:"IDLE",completed:null,shouldFlush:!1},Uq=function(n,e){if(n===void 0&&(n=w_),e.type==="FLUSH")return We({},w_,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&Se();var t=e.payload,r=t.critical,i=t.clientSelection,o=t.viewport,s=t.dimensions,a=t.movementMode,c=s.draggables[r.draggable.id],h=s.droppables[r.droppable.id],f={selection:i,borderBoxCenter:c.client.borderBox.center,offset:xn},p={client:f,page:{selection:Cn(f.selection,o.scroll.initial),borderBoxCenter:Cn(f.selection,o.scroll.initial),offset:Cn(f.selection,o.scroll.diff.value)}},g=Jf(s.droppables).every(function(Ke){return!Ke.isFixedOnPage}),v=jM({draggable:c,home:h,draggables:s.draggables,viewport:o}),b=v.impact,x=v.afterCritical,w={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:p,current:p,isWindowScrollAllowed:g,impact:b,afterCritical:x,onLiftImpact:b,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return w}if(e.type==="COLLECTION_STARTING"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&Se();var k=We({phase:"COLLECTING"},n,{phase:"COLLECTING"});return k}if(e.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||Se(),zq({state:n,published:e.payload});if(e.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;ws(n)||Se();var C=e.payload.client;return zo(C,n.current.client.selection)?n:dc({state:n,clientSelection:C,impact:Ay(n)?n.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return Hv(n);ws(n)||Se();var M=e.payload,T=M.id,D=M.newScroll,E=n.dimensions.droppables[T];if(!E)return n;var I=Nx(E,D);return Fv(n,I,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;ws(n)||Se();var P=e.payload,O=P.id,B=P.isEnabled,A=n.dimensions.droppables[O];A||Se(),A.isEnabled===B&&Se();var L=We({},A,{isEnabled:B});return Fv(n,L,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;ws(n)||Se();var R=e.payload,V=R.id,Q=R.isCombineEnabled,oe=n.dimensions.droppables[V];oe||Se(),oe.isCombineEnabled===Q&&Se();var q=We({},oe,{isCombineEnabled:Q});return Fv(n,q,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;ws(n)||Se(),n.isWindowScrollAllowed||Se();var Y=e.payload.newScroll;if(zo(n.viewport.scroll.current,Y))return Hv(n);var re=vM(n.viewport,Y);return Ay(n)?TM({state:n,viewport:re}):dc({state:n,viewport:re})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ws(n))return n;var le=e.payload.maxScroll;if(zo(le,n.viewport.scroll.max))return n;var W=We({},n.viewport,{scroll:We({},n.viewport.scroll,{max:le})});return We({phase:"DRAGGING"},n,{viewport:W})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&Se();var Z=Eq({state:n,type:e.type});return Z?dc({state:n,impact:Z.impact,clientSelection:Z.clientSelection,scrollJumpRequest:Z.scrollJumpRequest}):n}if(e.type==="DROP_PENDING"){var pe=e.payload.reason;n.phase!=="COLLECTING"&&Se();var be=We({phase:"DROP_PENDING"},n,{phase:"DROP_PENDING",isWaiting:!0,reason:pe});return be}if(e.type==="DROP_ANIMATE"){var ke=e.payload,me=ke.completed,Ie=ke.dropDuration,we=ke.newHomeClientOffset;n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||Se();var Pe={phase:"DROP_ANIMATING",completed:me,dropDuration:Ie,newHomeClientOffset:we,dimensions:n.dimensions};return Pe}if(e.type==="DROP_COMPLETE"){var Ee=e.payload.completed;return{phase:"IDLE",completed:Ee,shouldFlush:!1}}return n},$q=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},Wq=function(e){return{type:"LIFT",payload:e}},Vq=function(e){return{type:"INITIAL_PUBLISH",payload:e}},qq=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Yq=function(){return{type:"COLLECTION_STARTING",payload:null}},Gq=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Xq=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Kq=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},DM=function(e){return{type:"MOVE",payload:e}},Jq=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},Qq=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},Zq=function(){return{type:"MOVE_UP",payload:null}},eY=function(){return{type:"MOVE_DOWN",payload:null}},tY=function(){return{type:"MOVE_RIGHT",payload:null}},nY=function(){return{type:"MOVE_LEFT",payload:null}},Ux=function(){return{type:"FLUSH",payload:null}},rY=function(e){return{type:"DROP_ANIMATE",payload:e}},$x=function(e){return{type:"DROP_COMPLETE",payload:e}},MM=function(e){return{type:"DROP",payload:e}},iY=function(e){return{type:"DROP_PENDING",payload:e}},PM=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},oY=function(n){return function(e){var t=e.getState,r=e.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,a=s.id,c=s.clientSelection,h=s.movementMode,f=t();f.phase==="DROP_ANIMATING"&&r($x({completed:f.completed})),t().phase!=="IDLE"&&Se(),r(Ux()),r($q({draggableId:a,movementMode:h}));var p={shouldPublishImmediately:h==="SNAP"},g={draggableId:a,scrollOptions:p},v=n.startPublishing(g),b=v.critical,x=v.dimensions,w=v.viewport;r(Vq({critical:b,dimensions:x,clientSelection:c,movementMode:h,viewport:w}))}}}},sY=function(n){return function(){return function(e){return function(t){t.type==="INITIAL_PUBLISH"&&n.dragging(),t.type==="DROP_ANIMATE"&&n.dropping(t.payload.completed.result.reason),(t.type==="FLUSH"||t.type==="DROP_COMPLETE")&&n.resting(),e(t)}}}},Wx={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ac={opacity:{drop:0,combining:.7},scale:{drop:.75}},Vx={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ys=Vx.outOfTheWay+"s "+Wx.outOfTheWay,hc={fluid:"opacity "+ys,snap:"transform "+ys+", opacity "+ys,drop:function(e){var t=e+"s "+Wx.drop;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+ys,placeholder:"height "+ys+", width "+ys+", margin "+ys},S_=function(e){return zo(e,xn)?null:"translate("+e.x+"px, "+e.y+"px)"},Ly={moveTo:S_,drop:function(e,t){var r=S_(e);return r?t?r+" scale("+Ac.scale.drop+")":r:null}},By=Vx.minDropTime,OM=Vx.maxDropTime,aY=OM-By,k_=1500,lY=.6,cY=function(n){var e=n.current,t=n.destination,r=n.reason,i=Ic(e,t);if(i<=0)return By;if(i>=k_)return OM;var o=i/k_,s=By+aY*o,a=r==="CANCEL"?s*lY:s;return Number(a.toFixed(2))},uY=function(n){var e=n.impact,t=n.draggable,r=n.dimensions,i=n.viewport,o=n.afterCritical,s=r.draggables,a=r.droppables,c=Or(e),h=c?a[c]:null,f=a[t.descriptor.droppableId],p=_M({impact:e,draggable:t,draggables:s,afterCritical:o,droppable:h||f,viewport:i}),g=Pr(p,t.client.borderBox.center);return g},dY=function(n){var e=n.draggables,t=n.reason,r=n.lastImpact,i=n.home,o=n.viewport,s=n.onLiftImpact;if(!r.at||t!=="DROP"){var a=CM({draggables:e,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var c=We({},r,{displaced:Nc});return{impact:c,didDropInsideDroppable:!0}},hY=function(n){var e=n.getState,t=n.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=e(),s=i.payload.reason;if(o.phase==="COLLECTING"){t(iY({reason:s}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&Se(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Se();var c=o.critical,h=o.dimensions,f=h.draggables[o.critical.draggable.id],p=dY({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),g=p.impact,v=p.didDropInsideDroppable,b=v?Ax(g):null,x=v?Qf(g):null,w={index:c.draggable.index,droppableId:c.droppable.id},k={draggableId:f.descriptor.id,type:f.descriptor.type,source:w,reason:s,mode:o.movementMode,destination:b,combine:x},C=uY({impact:g,draggable:f,dimensions:h,viewport:o.viewport,afterCritical:o.afterCritical}),M={critical:o.critical,afterCritical:o.afterCritical,result:k,impact:g},T=!zo(o.current.client.offset,C)||!!k.combine;if(!T){t($x({completed:M}));return}var D=cY({current:o.current.client.offset,destination:C,reason:s}),E={newHomeClientOffset:C,dropDuration:D,completed:M};t(rY(E))}}}},IM=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function fY(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||n()}}}function pY(n){var e=n.onWindowScroll;function t(){e(IM())}var r=Oc(t),i=fY(r),o=Ho;function s(){return o!==Ho}function a(){s()&&Se(),o=Xr(window,[i])}function c(){s()||Se(),r.cancel(),o(),o=Ho}return{start:a,stop:c,isActive:s}}var mY=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},gY=function(n){var e=pY({onWindowScroll:function(r){n.dispatch(Jq({newScroll:r}))}});return function(t){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&mY(r)&&e.stop(),t(r)}}},vY=function(n){var e=!1,t=!1,r=setTimeout(function(){t=!0}),i=function(s){e||t||(e=!0,n(s),clearTimeout(r))};return i.wasCalled=function(){return e},i},yY=function(){var n=[],e=function(o){var s=Rx(n,function(h){return h.timerId===o});s===-1&&Se();var a=n.splice(s,1),c=a[0];c.callback()},t=function(o){var s=setTimeout(function(){return e(s)}),a={timerId:s,callback:o};n.push(a)},r=function(){if(n.length){var o=[].concat(n);n.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:t,flush:r}},bY=function(e,t){return e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index},xY=function(e,t){return e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId},wY=function(e,t){if(e===t)return!0;var r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,i=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&i},Hl=function(e,t){t()},Jd=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},zv=function(e,t,r,i){if(!e){r(i(t));return}var o=vY(r),s={announce:o};e(t,s),o.wasCalled()||r(i(t))},SY=function(n,e){var t=yY(),r=null,i=function(g,v){r&&Se(),Hl("onBeforeCapture",function(){var b=n().onBeforeCapture;if(b){var x={draggableId:g,mode:v};b(x)}})},o=function(g,v){r&&Se(),Hl("onBeforeDragStart",function(){var b=n().onBeforeDragStart;b&&b(Jd(g,v))})},s=function(g,v){r&&Se();var b=Jd(g,v);r={mode:v,lastCritical:g,lastLocation:b.source,lastCombine:null},t.add(function(){Hl("onDragStart",function(){return zv(n().onDragStart,b,e,kh.onDragStart)})})},a=function(g,v){var b=Ax(v),x=Qf(v);r||Se();var w=!wY(g,r.lastCritical);w&&(r.lastCritical=g);var k=!bY(r.lastLocation,b);k&&(r.lastLocation=b);var C=!xY(r.lastCombine,x);if(C&&(r.lastCombine=x),!(!w&&!k&&!C)){var M=We({},Jd(g,r.mode),{combine:x,destination:b});t.add(function(){Hl("onDragUpdate",function(){return zv(n().onDragUpdate,M,e,kh.onDragUpdate)})})}},c=function(){r||Se(),t.flush()},h=function(g){r||Se(),r=null,Hl("onDragEnd",function(){return zv(n().onDragEnd,g,e,kh.onDragEnd)})},f=function(){if(r){var g=We({},Jd(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});h(g)}};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:c,drop:h,abort:f}},kY=function(n,e){var t=SY(n,e);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){t.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;t.beforeStart(s,o.payload.movementMode),i(o),t.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;t.flush(),i(o),t.drop(a);return}if(i(o),o.type==="FLUSH"){t.abort();return}var c=r.getState();c.phase==="DRAGGING"&&t.update(c.critical,c.impact)}}}},EY=function(n){return function(e){return function(t){if(t.type!=="DROP_ANIMATION_FINISHED"){e(t);return}var r=n.getState();r.phase!=="DROP_ANIMATING"&&Se(),n.dispatch($x({completed:r.completed}))}}},CY=function(n){var e=null,t=null;function r(){t&&(cancelAnimationFrame(t),t=null),e&&(e(),e=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=n.getState();c.phase==="DROP_ANIMATING"&&n.dispatch(PM())}};t=requestAnimationFrame(function(){t=null,e=Xr(window,[s])})}}}},_Y=function(n){return function(){return function(e){return function(t){(t.type==="DROP_COMPLETE"||t.type==="FLUSH"||t.type==="DROP_ANIMATE")&&n.stopPublishing(),e(t)}}}},TY=function(n){var e=!1;return function(){return function(t){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,n.tryRecordFocus(r.payload.critical.draggable.id),t(r),n.tryRestoreFocusRecorded();return}if(t(r),!!e){if(r.type==="FLUSH"){e=!1,n.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&n.tryShiftRecord(i.draggableId,i.combine.draggableId),n.tryRestoreFocusRecorded()}}}}}},jY=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},DY=function(n){return function(e){return function(t){return function(r){if(jY(r)){n.stop(),t(r);return}if(r.type==="INITIAL_PUBLISH"){t(r);var i=e.getState();i.phase!=="DRAGGING"&&Se(),n.start(i);return}t(r),n.scroll(e.getState())}}}},MY=function(n){return function(e){return function(t){if(e(t),t.type==="PUBLISH_WHILE_DRAGGING"){var r=n.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||n.dispatch(MM({reason:r.reason})))}}}},PY=X2,OY=function(n){var e=n.dimensionMarshal,t=n.focusMarshal,r=n.styleMarshal,i=n.getResponders,o=n.announce,s=n.autoScroller;return G2(Uq,PY(A9(sY(r),_Y(e),oY(e),hY,EY,CY,MY,DY(s),gY,TY(t),kY(i,o))))},Uv=function(){return{additions:{},removals:{},modified:{}}};function IY(n){var e=n.registry,t=n.callbacks,r=Uv(),i=null,o=function(){i||(t.collectionStarting(),i=requestAnimationFrame(function(){i=null;var f=r,p=f.additions,g=f.removals,v=f.modified,b=Object.keys(p).map(function(k){return e.draggable.getById(k).getDimension(xn)}).sort(function(k,C){return k.descriptor.index-C.descriptor.index}),x=Object.keys(v).map(function(k){var C=e.droppable.getById(k),M=C.callbacks.getScrollWhileDragging();return{droppableId:k,scroll:M}}),w={additions:b,removals:Object.keys(g),modified:x};r=Uv(),t.publish(w)}))},s=function(f){var p=f.descriptor.id;r.additions[p]=f,r.modified[f.descriptor.droppableId]=!0,r.removals[p]&&delete r.removals[p],o()},a=function(f){var p=f.descriptor;r.removals[p.id]=!0,r.modified[p.droppableId]=!0,r.additions[p.id]&&delete r.additions[p.id],o()},c=function(){i&&(cancelAnimationFrame(i),i=null,r=Uv())};return{add:s,remove:a,stop:c}}var NM=function(n){var e=n.scrollHeight,t=n.scrollWidth,r=n.height,i=n.width,o=Pr({x:t,y:e},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},RM=function(){var n=document.documentElement;return n||Se(),n},AM=function(){var n=RM(),e=NM({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight});return e},NY=function(){var n=IM(),e=AM(),t=n.y,r=n.x,i=RM(),o=i.clientWidth,s=i.clientHeight,a=r+o,c=t+s,h=fi({top:t,left:r,right:a,bottom:c}),f={frame:h,scroll:{initial:n,current:n,max:e,diff:{value:xn,displacement:xn}}};return f},RY=function(n){var e=n.critical,t=n.scrollOptions,r=n.registry,i=NY(),o=i.scroll.current,s=e.droppable,a=r.droppable.getAllByType(s.type).map(function(p){return p.callbacks.getDimensionAndWatchScroll(o,t)}),c=r.draggable.getAllByType(e.draggable.type).map(function(p){return p.getDimension(o)}),h={draggables:dM(c),droppables:uM(a)},f={dimensions:h,critical:e,viewport:i};return f};function E_(n,e,t){if(t.descriptor.id===e.id||t.descriptor.type!==e.type)return!1;var r=n.droppable.getById(t.descriptor.droppableId);return r.descriptor.mode==="virtual"}var AY=function(n,e){var t=null,r=IY({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:n}),i=function(v,b){n.droppable.exists(v)||Se(),t&&e.updateDroppableIsEnabled({id:v,isEnabled:b})},o=function(v,b){t&&(n.droppable.exists(v)||Se(),e.updateDroppableIsCombineEnabled({id:v,isCombineEnabled:b}))},s=function(v,b){t&&(n.droppable.exists(v)||Se(),e.updateDroppableScroll({id:v,newScroll:b}))},a=function(v,b){t&&n.droppable.getById(v).callbacks.scroll(b)},c=function(){if(t){r.stop();var v=t.critical.droppable;n.droppable.getAllByType(v.type).forEach(function(b){return b.callbacks.dragStopped()}),t.unsubscribe(),t=null}},h=function(v){t||Se();var b=t.critical.draggable;v.type==="ADDITION"&&E_(n,b,v.value)&&r.add(v.value),v.type==="REMOVAL"&&E_(n,b,v.value)&&r.remove(v.value)},f=function(v){t&&Se();var b=n.draggable.getById(v.draggableId),x=n.droppable.getById(b.descriptor.droppableId),w={draggable:b.descriptor,droppable:x.descriptor},k=n.subscribe(h);return t={critical:w,unsubscribe:k},RY({critical:w,registry:n,scrollOptions:v.scrollOptions})},p={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:f,stopPublishing:c};return p},LM=function(n,e){return n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===e?!1:n.completed.result.reason==="DROP"},LY=function(n){window.scrollBy(n.x,n.y)},BY=bn(function(n){return Jf(n).filter(function(e){return!(!e.isEnabled||!e.frame)})}),FY=function(e,t){var r=Zo(BY(t),function(i){return i.frame||Se(),wM(i.frame.pageMarginBox)(e)});return r},HY=function(n){var e=n.center,t=n.destination,r=n.droppables;if(t){var i=r[t];return i.frame?i:null}var o=FY(e,r);return o},Uo={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},zY=function(n,e){var t=n[e.size]*Uo.startFromPercentage,r=n[e.size]*Uo.maxScrollAtPercentage,i={startScrollingFrom:t,maxScrollValueAt:r};return i},BM=function(n){var e=n.startOfRange,t=n.endOfRange,r=n.current,i=t-e;if(i===0)return 0;var o=r-e,s=o/i;return s},qx=1,UY=function(n,e){if(n>e.startScrollingFrom)return 0;if(n<=e.maxScrollValueAt)return Uo.maxPixelScroll;if(n===e.startScrollingFrom)return qx;var t=BM({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:n}),r=1-t,i=Uo.maxPixelScroll*Uo.ease(r);return Math.ceil(i)},C_=Uo.durationDampening.accelerateAt,__=Uo.durationDampening.stopDampeningAt,$Y=function(n,e){var t=e,r=__,i=Date.now(),o=i-t;if(o>=__)return n;if(o<C_)return qx;var s=BM({startOfRange:C_,endOfRange:r,current:o}),a=n*Uo.ease(s);return Math.ceil(a)},T_=function(n){var e=n.distanceToEdge,t=n.thresholds,r=n.dragStartTime,i=n.shouldUseTimeDampening,o=UY(e,t);return o===0?0:i?Math.max($Y(o,r),qx):o},j_=function(n){var e=n.container,t=n.distanceToEdges,r=n.dragStartTime,i=n.axis,o=n.shouldUseTimeDampening,s=zY(e,i),a=t[i.end]<t[i.start];return a?T_({distanceToEdge:t[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*T_({distanceToEdge:t[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},WY=function(n){var e=n.container,t=n.subject,r=n.proposedScroll,i=t.height>e.height,o=t.width>e.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},VY=lM(function(n){return n===0?0:n}),FM=function(n){var e=n.dragStartTime,t=n.container,r=n.subject,i=n.center,o=n.shouldUseTimeDampening,s={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},a=j_({container:t,distanceToEdges:s,dragStartTime:e,axis:Lx,shouldUseTimeDampening:o}),c=j_({container:t,distanceToEdges:s,dragStartTime:e,axis:pM,shouldUseTimeDampening:o}),h=VY({x:c,y:a});if(zo(h,xn))return null;var f=WY({container:t,subject:r,proposedScroll:h});return f?zo(f,xn)?null:f:null},qY=lM(function(n){return n===0?0:n>0?1:-1}),Yx=function(){var n=function(t,r){return t<0?t:t>r?t-r:0};return function(e){var t=e.current,r=e.max,i=e.change,o=Cn(t,i),s={x:n(o.x,r.x),y:n(o.y,r.y)};return zo(s,xn)?null:s}}(),HM=function(e){var t=e.max,r=e.current,i=e.change,o={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},s=qY(i),a=Yx({max:o,current:r,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},Gx=function(e,t){return HM({current:e.scroll.current,max:e.scroll.max,change:t})},YY=function(e,t){if(!Gx(e,t))return null;var r=e.scroll.max,i=e.scroll.current;return Yx({current:i,max:r,change:t})},Xx=function(e,t){var r=e.frame;return r?HM({current:r.scroll.current,max:r.scroll.max,change:t}):!1},GY=function(e,t){var r=e.frame;return!r||!Xx(e,t)?null:Yx({current:r.scroll.current,max:r.scroll.max,change:t})},XY=function(n){var e=n.viewport,t=n.subject,r=n.center,i=n.dragStartTime,o=n.shouldUseTimeDampening,s=FM({dragStartTime:i,container:e.frame,subject:t,center:r,shouldUseTimeDampening:o});return s&&Gx(e,s)?s:null},KY=function(n){var e=n.droppable,t=n.subject,r=n.center,i=n.dragStartTime,o=n.shouldUseTimeDampening,s=e.frame;if(!s)return null;var a=FM({dragStartTime:i,container:s.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:o});return a&&Xx(e,a)?a:null},D_=function(n){var e=n.state,t=n.dragStartTime,r=n.shouldUseTimeDampening,i=n.scrollWindow,o=n.scrollDroppable,s=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id],c=a.page.marginBox;if(e.isWindowScrollAllowed){var h=e.viewport,f=XY({dragStartTime:t,viewport:h,subject:c,center:s,shouldUseTimeDampening:r});if(f){i(f);return}}var p=HY({center:s,destination:Or(e.impact),droppables:e.dimensions.droppables});if(p){var g=KY({dragStartTime:t,droppable:p,subject:c,center:s,shouldUseTimeDampening:r});g&&o(p.descriptor.id,g)}},JY=function(n){var e=n.scrollWindow,t=n.scrollDroppable,r=Oc(e),i=Oc(t),o=null,s=function(f){o||Se();var p=o,g=p.shouldUseTimeDampening,v=p.dragStartTime;D_({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:v,shouldUseTimeDampening:g})},a=function(f){o&&Se();var p=Date.now(),g=!1,v=function(){g=!0};D_({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:v,scrollDroppable:v}),o={dragStartTime:p,shouldUseTimeDampening:g},g&&s(f)},c=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:a,stop:c,scroll:s}},QY=function(n){var e=n.move,t=n.scrollDroppable,r=n.scrollWindow,i=function(h,f){var p=Cn(h.current.client.selection,f);e({client:p})},o=function(h,f){if(!Xx(h,f))return f;var p=GY(h,f);if(!p)return t(h.descriptor.id,f),null;var g=Pr(f,p);t(h.descriptor.id,g);var v=Pr(f,g);return v},s=function(h,f,p){if(!h||!Gx(f,p))return p;var g=YY(f,p);if(!g)return r(p),null;var v=Pr(p,g);r(v);var b=Pr(p,v);return b},a=function(h){var f=h.scrollJumpRequest;if(f){var p=Or(h.impact);p||Se();var g=o(h.dimensions.droppables[p],f);if(g){var v=h.viewport,b=s(h.isWindowScrollAllowed,v,g);b&&i(h,b)}}};return a},ZY=function(n){var e=n.scrollDroppable,t=n.scrollWindow,r=n.move,i=JY({scrollWindow:t,scrollDroppable:e}),o=QY({move:r,scrollWindow:t,scrollDroppable:e}),s=function(h){if(h.phase==="DRAGGING"){if(h.movementMode==="FLUID"){i.scroll(h);return}h.scrollJumpRequest&&o(h)}},a={scroll:s,start:i.start,stop:i.stop};return a},ja="data-rbd",Da=function(){var n=ja+"-drag-handle";return{base:n,draggableId:n+"-draggable-id",contextId:n+"-context-id"}}(),Fy=function(){var n=ja+"-draggable";return{base:n,contextId:n+"-context-id",id:n+"-id"}}(),eG=function(){var n=ja+"-droppable";return{base:n,contextId:n+"-context-id",id:n+"-id"}}(),M_={contextId:ja+"-scroll-container-context-id"},tG=function(e){return function(t){return"["+t+'="'+e+'"]'}},zl=function(e,t){return e.map(function(r){var i=r.styles[t];return i?r.selector+" { "+i+" }":""}).join(" ")},nG="pointer-events: none;",rG=function(n){var e=tG(n),t=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Da.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:nG,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+hc.outOfTheWay+`;
    `;return{selector:e(Fy.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:e(eG.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,t,i,o];return{always:zl(s,"always"),resting:zl(s,"resting"),dragging:zl(s,"dragging"),dropAnimating:zl(s,"dropAnimating"),userCancel:zl(s,"userCancel")}},Ir=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect,$v=function(){var e=document.querySelector("head");return e||Se(),e},P_=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function iG(n,e){var t=st(function(){return rG(n)},[n]),r=j.useRef(null),i=j.useRef(null),o=Fe(bn(function(p){var g=i.current;g||Se(),g.textContent=p}),[]),s=Fe(function(p){var g=r.current;g||Se(),g.textContent=p},[]);Ir(function(){!r.current&&!i.current||Se();var p=P_(e),g=P_(e);return r.current=p,i.current=g,p.setAttribute(ja+"-always",n),g.setAttribute(ja+"-dynamic",n),$v().appendChild(p),$v().appendChild(g),s(t.always),o(t.resting),function(){var v=function(x){var w=x.current;w||Se(),$v().removeChild(w),x.current=null};v(r),v(i)}},[e,s,o,t.always,t.resting,n]);var a=Fe(function(){return o(t.dragging)},[o,t.dragging]),c=Fe(function(p){if(p==="DROP"){o(t.dropAnimating);return}o(t.userCancel)},[o,t.dropAnimating,t.userCancel]),h=Fe(function(){i.current&&o(t.resting)},[o,t.resting]),f=st(function(){return{dragging:a,dropping:c,resting:h}},[a,c,h]);return f}var zM=function(n){return n&&n.ownerDocument?n.ownerDocument.defaultView:window};function tp(n){return n instanceof zM(n).HTMLElement}function oG(n,e){var t="["+Da.contextId+'="'+n+'"]',r=cM(document.querySelectorAll(t));if(!r.length)return null;var i=Zo(r,function(o){return o.getAttribute(Da.draggableId)===e});return!i||!tp(i)?null:i}function sG(n){var e=j.useRef({}),t=j.useRef(null),r=j.useRef(null),i=j.useRef(!1),o=Fe(function(g,v){var b={id:g,focus:v};return e.current[g]=b,function(){var w=e.current,k=w[g];k!==b&&delete w[g]}},[]),s=Fe(function(g){var v=oG(n,g);v&&v!==document.activeElement&&v.focus()},[n]),a=Fe(function(g,v){t.current===g&&(t.current=v)},[]),c=Fe(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var g=t.current;g&&s(g)}))},[s]),h=Fe(function(g){t.current=null;var v=document.activeElement;v&&v.getAttribute(Da.draggableId)===g&&(t.current=g)},[]);Ir(function(){return i.current=!0,function(){i.current=!1;var g=r.current;g&&cancelAnimationFrame(g)}},[]);var f=st(function(){return{register:o,tryRecordFocus:h,tryRestoreFocusRecorded:c,tryShiftRecord:a}},[o,h,c,a]);return f}function aG(){var n={draggables:{},droppables:{}},e=[];function t(p){return e.push(p),function(){var v=e.indexOf(p);v!==-1&&e.splice(v,1)}}function r(p){e.length&&e.forEach(function(g){return g(p)})}function i(p){return n.draggables[p]||null}function o(p){var g=i(p);return g||Se(),g}var s={register:function(g){n.draggables[g.descriptor.id]=g,r({type:"ADDITION",value:g})},update:function(g,v){var b=n.draggables[v.descriptor.id];b&&b.uniqueId===g.uniqueId&&(delete n.draggables[v.descriptor.id],n.draggables[g.descriptor.id]=g)},unregister:function(g){var v=g.descriptor.id,b=i(v);b&&g.uniqueId===b.uniqueId&&(delete n.draggables[v],r({type:"REMOVAL",value:g}))},getById:o,findById:i,exists:function(g){return!!i(g)},getAllByType:function(g){return lf(n.draggables).filter(function(v){return v.descriptor.type===g})}};function a(p){return n.droppables[p]||null}function c(p){var g=a(p);return g||Se(),g}var h={register:function(g){n.droppables[g.descriptor.id]=g},unregister:function(g){var v=a(g.descriptor.id);v&&g.uniqueId===v.uniqueId&&delete n.droppables[g.descriptor.id]},getById:c,findById:a,exists:function(g){return!!a(g)},getAllByType:function(g){return lf(n.droppables).filter(function(v){return v.descriptor.type===g})}};function f(){n.draggables={},n.droppables={},e.length=0}return{draggable:s,droppable:h,subscribe:t,clean:f}}function lG(){var n=st(aG,[]);return j.useEffect(function(){return function(){requestAnimationFrame(n.clean)}},[n]),n}var Kx=ze.createContext(null),uf=function(){var n=document.body;return n||Se(),n},cG={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},uG=function(e){return"rbd-announcement-"+e};function dG(n){var e=st(function(){return uG(n)},[n]),t=j.useRef(null);j.useEffect(function(){var o=document.createElement("div");return t.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),We(o.style,cG),uf().appendChild(o),function(){setTimeout(function(){var c=uf();c.contains(o)&&c.removeChild(o),o===t.current&&(t.current=null)})}},[e]);var r=Fe(function(i){var o=t.current;if(o){o.textContent=i;return}},[]);return r}var hG=0,fG={separator:"::"};function Jx(n,e){return e===void 0&&(e=fG),st(function(){return""+n+e.separator+hG++},[e.separator,n])}function pG(n){var e=n.contextId,t=n.uniqueId;return"rbd-hidden-text-"+e+"-"+t}function mG(n){var e=n.contextId,t=n.text,r=Jx("hidden-text",{separator:"-"}),i=st(function(){return pG({contextId:e,uniqueId:r})},[r,e]);return j.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=t,s.style.display="none",uf().appendChild(s),function(){var c=uf();c.contains(s)&&c.removeChild(s)}},[i,t]),i}var np=ze.createContext(null);function UM(n){var e=j.useRef(n);return j.useEffect(function(){e.current=n}),e}function gG(){var n=null;function e(){return!!n}function t(s){return s===n}function r(s){n&&Se();var a={abandon:s};return n=a,a}function i(){n||Se(),n=null}function o(){n&&(n.abandon(),i())}return{isClaimed:e,isActive:t,claim:r,release:i,tryAbandon:o}}var vG=9,yG=13,Qx=27,$M=32,bG=33,xG=34,wG=35,SG=36,kG=37,EG=38,CG=39,_G=40,Qd,TG=(Qd={},Qd[yG]=!0,Qd[vG]=!0,Qd),WM=function(n){TG[n.keyCode]&&n.preventDefault()},rp=function(){var n="visibilitychange";if(typeof document>"u")return n;var e=[n,"ms"+n,"webkit"+n,"moz"+n,"o"+n],t=Zo(e,function(r){return"on"+r in document});return t||n}(),VM=0,O_=5;function jG(n,e){return Math.abs(e.x-n.x)>=O_||Math.abs(e.y-n.y)>=O_}var I_={type:"IDLE"};function DG(n){var e=n.cancel,t=n.completed,r=n.getPhase,i=n.setPhase;return[{eventName:"mousemove",fn:function(s){var a=s.button,c=s.clientX,h=s.clientY;if(a===VM){var f={x:c,y:h},p=r();if(p.type==="DRAGGING"){s.preventDefault(),p.actions.move(f);return}p.type!=="PENDING"&&Se();var g=p.point;if(jG(g,f)){s.preventDefault();var v=p.actions.fluidLift(f);i({type:"DRAGGING",actions:v})}}}},{eventName:"mouseup",fn:function(s){var a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:function(s){var a=r();if(a.type==="PENDING"){e();return}if(s.keyCode===Qx){s.preventDefault(),e();return}WM(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(s){var a=r();if(a.type==="IDLE"&&Se(),a.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:rp,fn:e}]}function MG(n){var e=j.useRef(I_),t=j.useRef(Ho),r=st(function(){return{eventName:"mousedown",fn:function(p){if(!p.defaultPrevented&&p.button===VM&&!(p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)){var g=n.findClosestDraggableId(p);if(g){var v=n.tryGetLock(g,s,{sourceEvent:p});if(v){p.preventDefault();var b={x:p.clientX,y:p.clientY};t.current(),h(v,b)}}}}}},[n]),i=st(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(p){if(!p.defaultPrevented){var g=n.findClosestDraggableId(p);if(g){var v=n.findOptionsForDraggable(g);v&&(v.shouldRespectForcePress||n.canGetLock(g)&&p.preventDefault())}}}}},[n]),o=Fe(function(){var p={passive:!1,capture:!0};t.current=Xr(window,[i,r],p)},[i,r]),s=Fe(function(){var f=e.current;f.type!=="IDLE"&&(e.current=I_,t.current(),o())},[o]),a=Fe(function(){var f=e.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),c=Fe(function(){var p={capture:!0,passive:!1},g=DG({cancel:a,completed:s,getPhase:function(){return e.current},setPhase:function(b){e.current=b}});t.current=Xr(window,g,p)},[a,s]),h=Fe(function(p,g){e.current.type!=="IDLE"&&Se(),e.current={type:"PENDING",point:g,actions:p},c()},[c]);Ir(function(){return o(),function(){t.current()}},[o])}var ha;function PG(){}var OG=(ha={},ha[xG]=!0,ha[bG]=!0,ha[SG]=!0,ha[wG]=!0,ha);function IG(n,e){function t(){e(),n.cancel()}function r(){e(),n.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===Qx){o.preventDefault(),t();return}if(o.keyCode===$M){o.preventDefault(),r();return}if(o.keyCode===_G){o.preventDefault(),n.moveDown();return}if(o.keyCode===EG){o.preventDefault(),n.moveUp();return}if(o.keyCode===CG){o.preventDefault(),n.moveRight();return}if(o.keyCode===kG){o.preventDefault(),n.moveLeft();return}if(OG[o.keyCode]){o.preventDefault();return}WM(o)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:rp,fn:t}]}function NG(n){var e=j.useRef(PG),t=st(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==$M)return;var s=n.findClosestDraggableId(o);if(!s)return;var a=n.tryGetLock(s,f,{sourceEvent:o});if(!a)return;o.preventDefault();var c=!0,h=a.snapLift();e.current();function f(){c||Se(),c=!1,e.current(),r()}e.current=Xr(window,IG(h,f),{capture:!0,passive:!1})}}},[n]),r=Fe(function(){var o={passive:!1,capture:!0};e.current=Xr(window,[t],o)},[t]);Ir(function(){return r(),function(){e.current()}},[r])}var Wv={type:"IDLE"},RG=120,AG=.15;function LG(n){var e=n.cancel,t=n.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(t().type!=="DRAGGING"){e();return}i.keyCode===Qx&&i.preventDefault(),e()}},{eventName:rp,fn:e}]}function BG(n){var e=n.cancel,t=n.completed,r=n.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;var a=o.touches[0],c=a.clientX,h=a.clientY,f={x:c,y:h};o.preventDefault(),s.actions.move(f)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&Se();var a=o.touches[0];if(a){var c=a.force>=AG;if(c){var h=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){h&&e();return}if(h){if(s.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}}}},{eventName:rp,fn:e}]}function FG(n){var e=j.useRef(Wv),t=j.useRef(Ho),r=Fe(function(){return e.current},[]),i=Fe(function(v){e.current=v},[]),o=st(function(){return{eventName:"touchstart",fn:function(v){if(!v.defaultPrevented){var b=n.findClosestDraggableId(v);if(b){var x=n.tryGetLock(b,a,{sourceEvent:v});if(x){var w=v.touches[0],k=w.clientX,C=w.clientY,M={x:k,y:C};t.current(),p(x,M)}}}}}},[n]),s=Fe(function(){var v={capture:!0,passive:!1};t.current=Xr(window,[o],v)},[o]),a=Fe(function(){var g=e.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),i(Wv),t.current(),s())},[s,i]),c=Fe(function(){var g=e.current;a(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[a]),h=Fe(function(){var v={capture:!0,passive:!1},b={cancel:c,completed:a,getPhase:r},x=Xr(window,BG(b),v),w=Xr(window,LG(b),v);t.current=function(){x(),w()}},[c,r,a]),f=Fe(function(){var v=r();v.type!=="PENDING"&&Se();var b=v.actions.fluidLift(v.point);i({type:"DRAGGING",actions:b,hasMoved:!1})},[r,i]),p=Fe(function(v,b){r().type!=="IDLE"&&Se();var x=setTimeout(f,RG);i({type:"PENDING",point:b,actions:v,longPressTimerId:x}),h()},[h,r,i,f]);Ir(function(){return s(),function(){t.current();var b=r();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),i(Wv))}},[r,s,i]),Ir(function(){var v=Xr(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return v},[])}var HG={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function qM(n,e){if(e==null)return!1;var t=!!HG[e.tagName.toLowerCase()];if(t)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===n?!1:qM(n,e.parentElement)}function zG(n,e){var t=e.target;return tp(t)?qM(n,t):!1}var UG=function(n){return fi(n.getBoundingClientRect()).center};function $G(n){return n instanceof zM(n).Element}var WG=function(){var n="matches";if(typeof document>"u")return n;var e=[n,"msMatchesSelector","webkitMatchesSelector"],t=Zo(e,function(r){return r in Element.prototype});return t||n}();function YM(n,e){return n==null?null:n[WG](e)?n:YM(n.parentElement,e)}function VG(n,e){return n.closest?n.closest(e):YM(n,e)}function qG(n){return"["+Da.contextId+'="'+n+'"]'}function YG(n,e){var t=e.target;if(!$G(t))return null;var r=qG(n),i=VG(t,r);return!i||!tp(i)?null:i}function GG(n,e){var t=YG(n,e);return t?t.getAttribute(Da.draggableId):null}function XG(n,e){var t="["+Fy.contextId+'="'+n+'"]',r=cM(document.querySelectorAll(t)),i=Zo(r,function(o){return o.getAttribute(Fy.id)===e});return!i||!tp(i)?null:i}function KG(n){n.preventDefault()}function Zd(n){var e=n.expected,t=n.phase,r=n.isLockActive;return n.shouldWarn,!(!r()||e!==t)}function GM(n){var e=n.lockAPI,t=n.store,r=n.registry,i=n.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!LM(t.getState(),i))}function JG(n){var e=n.lockAPI,t=n.contextId,r=n.store,i=n.registry,o=n.draggableId,s=n.forceSensorStop,a=n.sourceEvent,c=GM({lockAPI:e,store:r,registry:i,draggableId:o});if(!c)return null;var h=i.draggable.getById(o),f=XG(t,h.descriptor.id);if(!f||a&&!h.options.canDragInteractiveElements&&zG(f,a))return null;var p=e.claim(s||Ho),g="PRE_DRAG";function v(){return h.options.shouldRespectForcePress}function b(){return e.isActive(p)}function x(E,I){Zd({expected:E,phase:g,isLockActive:b,shouldWarn:!0})&&r.dispatch(I())}var w=x.bind(null,"DRAGGING");function k(E){function I(){e.release(),g="COMPLETED"}g!=="PRE_DRAG"&&(I(),g!=="PRE_DRAG"&&Se()),r.dispatch(Wq(E.liftActionArgs)),g="DRAGGING";function P(O,B){if(B===void 0&&(B={shouldBlockNextClick:!1}),E.cleanup(),B.shouldBlockNextClick){var A=Xr(window,[{eventName:"click",fn:KG,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(A)}I(),r.dispatch(MM({reason:O}))}return We({isActive:function(){return Zd({expected:"DRAGGING",phase:g,isLockActive:b,shouldWarn:!1})},shouldRespectForcePress:v,drop:function(B){return P("DROP",B)},cancel:function(B){return P("CANCEL",B)}},E.actions)}function C(E){var I=Oc(function(O){w(function(){return DM({client:O})})}),P=k({liftActionArgs:{id:o,clientSelection:E,movementMode:"FLUID"},cleanup:function(){return I.cancel()},actions:{move:I}});return We({},P,{move:I})}function M(){var E={moveUp:function(){return w(Zq)},moveRight:function(){return w(tY)},moveDown:function(){return w(eY)},moveLeft:function(){return w(nY)}};return k({liftActionArgs:{id:o,clientSelection:UG(f),movementMode:"SNAP"},cleanup:Ho,actions:E})}function T(){var E=Zd({expected:"PRE_DRAG",phase:g,isLockActive:b,shouldWarn:!0});E&&e.release()}var D={isActive:function(){return Zd({expected:"PRE_DRAG",phase:g,isLockActive:b,shouldWarn:!1})},shouldRespectForcePress:v,fluidLift:C,snapLift:M,abort:T};return D}var QG=[MG,NG,FG];function ZG(n){var e=n.contextId,t=n.store,r=n.registry,i=n.customSensors,o=n.enableDefaultSensors,s=[].concat(o?QG:[],i||[]),a=j.useState(function(){return gG()})[0],c=Fe(function(C,M){C.isDragging&&!M.isDragging&&a.tryAbandon()},[a]);Ir(function(){var C=t.getState(),M=t.subscribe(function(){var T=t.getState();c(C,T),C=T});return M},[a,t,c]),Ir(function(){return a.tryAbandon},[a.tryAbandon]);for(var h=Fe(function(k){return GM({lockAPI:a,registry:r,store:t,draggableId:k})},[a,r,t]),f=Fe(function(k,C,M){return JG({lockAPI:a,registry:r,contextId:e,store:t,draggableId:k,forceSensorStop:C,sourceEvent:M&&M.sourceEvent?M.sourceEvent:null})},[e,a,r,t]),p=Fe(function(k){return GG(e,k)},[e]),g=Fe(function(k){var C=r.draggable.findById(k);return C?C.options:null},[r.draggable]),v=Fe(function(){a.isClaimed()&&(a.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Ux()))},[a,t]),b=Fe(a.isClaimed,[a]),x=st(function(){return{canGetLock:h,tryGetLock:f,findClosestDraggableId:p,findOptionsForDraggable:g,tryReleaseLock:v,isLockClaimed:b}},[h,f,p,g,v,b]),w=0;w<s.length;w++)s[w](x)}var eX=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Ul(n){return n.current||Se(),n.current}function tX(n){var e=n.contextId,t=n.setCallbacks,r=n.sensors,i=n.nonce,o=n.dragHandleUsageInstructions,s=j.useRef(null),a=UM(n),c=Fe(function(){return eX(a.current)},[a]),h=dG(e),f=mG({contextId:e,text:o}),p=iG(e,i),g=Fe(function(O){Ul(s).dispatch(O)},[]),v=st(function(){return e_({publishWhileDragging:qq,updateDroppableScroll:Gq,updateDroppableIsEnabled:Xq,updateDroppableIsCombineEnabled:Kq,collectionStarting:Yq},g)},[g]),b=lG(),x=st(function(){return AY(b,v)},[b,v]),w=st(function(){return ZY(We({scrollWindow:LY,scrollDroppable:x.scrollDroppable},e_({move:DM},g)))},[x.scrollDroppable,g]),k=sG(e),C=st(function(){return OY({announce:h,autoScroller:w,dimensionMarshal:x,focusMarshal:k,getResponders:c,styleMarshal:p})},[h,w,x,k,c,p]);s.current=C;var M=Fe(function(){var O=Ul(s),B=O.getState();B.phase!=="IDLE"&&O.dispatch(Ux())},[]),T=Fe(function(){var O=Ul(s).getState();return O.isDragging||O.phase==="DROP_ANIMATING"},[]),D=st(function(){return{isDragging:T,tryAbort:M}},[T,M]);t(D);var E=Fe(function(O){return LM(Ul(s).getState(),O)},[]),I=Fe(function(){return ws(Ul(s).getState())},[]),P=st(function(){return{marshal:x,focus:k,contextId:e,canLift:E,isMovementAllowed:I,dragHandleUsageInstructionsId:f,registry:b}},[e,x,f,k,E,I,b]);return ZG({contextId:e,store:C,registry:b,customSensors:r,enableDefaultSensors:n.enableDefaultSensors!==!1}),j.useEffect(function(){return M},[M]),ze.createElement(np.Provider,{value:P},ze.createElement(z9,{context:Kx,store:C},n.children))}var nX=0;function rX(){return st(function(){return""+nX++},[])}function iX(n){var e=rX(),t=n.dragHandleUsageInstructions||kh.dragHandleUsageInstructions;return ze.createElement(NV,null,function(r){return ze.createElement(tX,{nonce:n.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:t,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd},n.children)})}var XM=function(e){return function(t){return e===t}},oX=XM("scroll"),sX=XM("auto"),N_=function(e,t){return t(e.overflowX)||t(e.overflowY)},aX=function(e){var t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return N_(r,oX)||N_(r,sX)},lX=function(){return!1},cX=function n(e){return e==null?null:e===document.body?lX()?e:null:e===document.documentElement?null:aX(e)?e:n(e.parentElement)},Hy=function(n){return{x:n.scrollLeft,y:n.scrollTop}},uX=function n(e){if(!e)return!1;var t=window.getComputedStyle(e);return t.position==="fixed"?!0:n(e.parentElement)},dX=function(n){var e=cX(n),t=uX(n);return{closestScrollable:e,isFixedOnPage:t}},hX=function(n){var e=n.descriptor,t=n.isEnabled,r=n.isCombineEnabled,i=n.isFixedOnPage,o=n.direction,s=n.client,a=n.page,c=n.closest,h=function(){if(!c)return null;var v=c.scrollSize,b=c.client,x=NM({scrollHeight:v.scrollHeight,scrollWidth:v.scrollWidth,height:b.paddingBox.height,width:b.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:b,scrollSize:v,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:x,diff:{value:xn,displacement:xn}}}}(),f=o==="vertical"?Lx:pM,p=Ta({page:a,withPlaceholder:null,axis:f,frame:h}),g={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:f,isEnabled:t,client:s,page:a,frame:h,subject:p};return g},fX=function(e,t){var r=iM(e);if(!t||e!==t)return r;var i=r.paddingBox.top-t.scrollTop,o=r.paddingBox.left-t.scrollLeft,s=i+t.scrollHeight,a=o+t.scrollWidth,c={top:i,right:a,bottom:s,left:o},h=Ox(c,r.border),f=Ix({borderBox:h,margin:r.margin,border:r.border,padding:r.padding});return f},pX=function(n){var e=n.ref,t=n.descriptor,r=n.env,i=n.windowScroll,o=n.direction,s=n.isDropDisabled,a=n.isCombineEnabled,c=n.shouldClipSubject,h=r.closestScrollable,f=fX(e,h),p=of(f,i),g=function(){if(!h)return null;var b=iM(h),x={scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth};return{client:b,page:of(b,i),scroll:Hy(h),scrollSize:x,shouldClipSubject:c}}(),v=hX({descriptor:t,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:f,page:p,closest:g});return v},mX={passive:!1},gX={passive:!0},R_=function(n){return n.shouldPublishImmediately?mX:gX};function df(n){var e=j.useContext(n);return e||Se(),e}var eh=function(e){return e&&e.env.closestScrollable||null};function vX(n){var e=j.useRef(null),t=df(np),r=Jx("droppable"),i=t.registry,o=t.marshal,s=UM(n),a=st(function(){return{id:n.droppableId,type:n.type,mode:n.mode}},[n.droppableId,n.mode,n.type]),c=j.useRef(a),h=st(function(){return bn(function(T,D){e.current||Se();var E={x:T,y:D};o.updateDroppableScroll(a.id,E)})},[a.id,o]),f=Fe(function(){var T=e.current;return!T||!T.env.closestScrollable?xn:Hy(T.env.closestScrollable)},[]),p=Fe(function(){var T=f();h(T.x,T.y)},[f,h]),g=st(function(){return Oc(p)},[p]),v=Fe(function(){var T=e.current,D=eh(T);T&&D||Se();var E=T.scrollOptions;if(E.shouldPublishImmediately){p();return}g()},[g,p]),b=Fe(function(T,D){e.current&&Se();var E=s.current,I=E.getDroppableRef();I||Se();var P=dX(I),O={ref:I,descriptor:a,env:P,scrollOptions:D};e.current=O;var B=pX({ref:I,descriptor:a,env:P,windowScroll:T,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),A=P.closestScrollable;return A&&(A.setAttribute(M_.contextId,t.contextId),A.addEventListener("scroll",v,R_(O.scrollOptions))),B},[t.contextId,a,v,s]),x=Fe(function(){var T=e.current,D=eh(T);return T&&D||Se(),Hy(D)},[]),w=Fe(function(){var T=e.current;T||Se();var D=eh(T);e.current=null,D&&(g.cancel(),D.removeAttribute(M_.contextId),D.removeEventListener("scroll",v,R_(T.scrollOptions)))},[v,g]),k=Fe(function(T){var D=e.current;D||Se();var E=eh(D);E||Se(),E.scrollTop+=T.y,E.scrollLeft+=T.x},[]),C=st(function(){return{getDimensionAndWatchScroll:b,getScrollWhileDragging:x,dragStopped:w,scroll:k}},[w,b,x,k]),M=st(function(){return{uniqueId:r,descriptor:a,callbacks:C}},[C,a,r]);Ir(function(){return c.current=M.descriptor,i.droppable.register(M),function(){e.current&&w(),i.droppable.unregister(M)}},[C,a,w,M,o,i.droppable]),Ir(function(){e.current&&o.updateDroppableIsEnabled(c.current.id,!n.isDropDisabled)},[n.isDropDisabled,o]),Ir(function(){e.current&&o.updateDroppableIsCombineEnabled(c.current.id,n.isCombineEnabled)},[n.isCombineEnabled,o])}function Vv(){}var A_={width:0,height:0,margin:HV},yX=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return t||i==="close"?A_:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},bX=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,o=yX({isAnimatingOpenOnMount:t,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?hc.placeholder:null}};function xX(n){var e=j.useRef(null),t=Fe(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=n.animate,i=n.onTransitionEnd,o=n.onClose,s=n.contextId,a=j.useState(n.animate==="open"),c=a[0],h=a[1];j.useEffect(function(){return c?r!=="open"?(t(),h(!1),Vv):e.current?Vv:(e.current=setTimeout(function(){e.current=null,h(!1)}),t):Vv},[r,c,t]);var f=Fe(function(g){g.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),p=bX({isAnimatingOpenOnMount:c,animate:n.animate,placeholder:n.placeholder});return ze.createElement(n.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":s,onTransitionEnd:f,ref:n.innerRef})}var wX=ze.memo(xX),Zx=ze.createContext(null),SX=function(n){Y2(e,n);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var t=e.prototype;return t.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(ze.PureComponent),L_={dragging:5e3,dropAnimating:4500},kX=function(e,t){return t?hc.drop(t.duration):e?hc.snap:hc.fluid},EX=function(e,t){return e?t?Ac.opacity.drop:Ac.opacity.combining:null},CX=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function _X(n){var e=n.dimension,t=e.client,r=n.offset,i=n.combineWith,o=n.dropping,s=!!i,a=CX(n),c=!!o,h=c?Ly.drop(r,s):Ly.moveTo(r),f={position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:kX(a,o),transform:h,opacity:EX(s,c),zIndex:c?L_.dropAnimating:L_.dragging,pointerEvents:"none"};return f}function TX(n){return{transform:Ly.moveTo(n.offset),transition:n.shouldAnimateDisplacement?null:"none"}}function jX(n){return n.type==="DRAGGING"?_X(n):TX(n)}function DX(n,e,t){t===void 0&&(t=xn);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=rM(i,r),s=of(o,t),a={client:o,tagName:e.tagName.toLowerCase(),display:r.display},c={x:o.marginBox.width,y:o.marginBox.height},h={descriptor:n,placeholder:a,displaceBy:c,client:o,page:s};return h}function MX(n){var e=Jx("draggable"),t=n.descriptor,r=n.registry,i=n.getDraggableRef,o=n.canDragInteractiveElements,s=n.shouldRespectForcePress,a=n.isEnabled,c=st(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}},[o,a,s]),h=Fe(function(v){var b=i();return b||Se(),DX(t,b,v)},[t,i]),f=st(function(){return{uniqueId:e,descriptor:t,options:c,getDimension:h}},[t,h,c,e]),p=j.useRef(f),g=j.useRef(!0);Ir(function(){return r.draggable.register(p.current),function(){return r.draggable.unregister(p.current)}},[r.draggable]),Ir(function(){if(g.current){g.current=!1;return}var v=p.current;p.current=f,r.draggable.update(f,v)},[f,r.draggable])}function PX(n){n.preventDefault()}function OX(n){var e=j.useRef(null),t=Fe(function(O){e.current=O},[]),r=Fe(function(){return e.current},[]),i=df(np),o=i.contextId,s=i.dragHandleUsageInstructionsId,a=i.registry,c=df(Zx),h=c.type,f=c.droppableId,p=st(function(){return{id:n.draggableId,index:n.index,type:h,droppableId:f}},[n.draggableId,n.index,h,f]),g=n.children,v=n.draggableId,b=n.isEnabled,x=n.shouldRespectForcePress,w=n.canDragInteractiveElements,k=n.isClone,C=n.mapped,M=n.dropAnimationFinished;if(!k){var T=st(function(){return{descriptor:p,registry:a,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:x,isEnabled:b}},[p,a,r,w,x,b]);MX(T)}var D=st(function(){return b?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":v,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:PX}:null},[o,s,v,b]),E=Fe(function(O){C.type==="DRAGGING"&&C.dropping&&O.propertyName==="transform"&&M()},[M,C]),I=st(function(){var O=jX(C),B=C.type==="DRAGGING"&&C.dropping?E:null,A={innerRef:t,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":v,style:O,onTransitionEnd:B},dragHandleProps:D};return A},[o,D,v,C,E,t]),P=st(function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}},[p.droppableId,p.id,p.index,p.type]);return g(I,C.snapshot,P)}var KM=function(n,e){return n===e},JM=function(n){var e=n.combine,t=n.destination;return t?t.droppableId:e?e.droppableId:null},IX=function(e){return e.combine?e.combine.draggableId:null},NX=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function RX(){var n=bn(function(i,o){return{x:i,y:o}}),e=bn(function(i,o,s,a,c){return{isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),t=bn(function(i,o,s,a,c,h,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:h,mode:o,offset:i,dimension:s,forceShouldAnimate:f,snapshot:e(o,a,c,h,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var a=o.current.client.offset,c=o.dimensions.draggables[s.draggableId],h=Or(o.impact),f=NX(o.impact),p=o.forceShouldAnimate;return t(n(a.x,a.y),o.movementMode,c,s.isClone,h,f,p)}if(o.phase==="DROP_ANIMATING"){var g=o.completed;if(g.result.draggableId!==s.draggableId)return null;var v=s.isClone,b=o.dimensions.draggables[s.draggableId],x=g.result,w=x.mode,k=JM(x),C=IX(x),M=o.dropDuration,T={duration:M,curve:Wx.drop,moveTo:o.newHomeClientOffset,opacity:C?Ac.opacity.drop:null,scale:C?Ac.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:b,dropping:T,draggingOver:k,combineWith:C,mode:w,forceShouldAnimate:null,snapshot:e(w,v,k,C,T)}}}return null};return r}function QM(n){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}var AX={mapped:{type:"SECONDARY",offset:xn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:QM(null)}};function LX(){var n=bn(function(s,a){return{x:s,y:a}}),e=bn(QM),t=bn(function(s,a,c){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:e(a)}}}),r=function(a){return a?t(xn,a,!0):null},i=function(a,c,h,f){var p=h.displaced.visible[a],g=!!(f.inVirtualList&&f.effected[a]),v=Qf(h),b=v&&v.draggableId===a?c:null;if(!p){if(!g)return r(b);if(h.displaced.invisible[a])return null;var x=Ua(f.displacedBy.point),w=n(x.x,x.y);return t(w,b,!0)}if(g)return r(b);var k=h.displacedBy.point,C=n(k.x,k.y);return t(C,b,p.shouldAnimate)},o=function(a,c){if(a.isDragging)return a.critical.draggable.id===c.draggableId?null:i(c.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var h=a.completed;return h.result.draggableId===c.draggableId?null:i(c.draggableId,h.result.draggableId,h.impact,h.afterCritical)}return null};return o}var BX=function(){var e=RX(),t=LX(),r=function(o,s){return e(o,s)||t(o,s)||AX};return r},FX={dropAnimationFinished:PM},HX=tM(BX,FX,null,{context:Kx,pure:!0,areStatePropsEqual:KM})(OX);function ZM(n){var e=df(Zx),t=e.isUsingCloneFor;return t===n.draggableId&&!n.isClone?null:ze.createElement(HX,n)}function zX(n){var e=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,t=!!n.disableInteractiveElementBlocking,r=!!n.shouldRespectForcePress;return ze.createElement(ZM,We({},n,{isClone:!1,isEnabled:e,canDragInteractiveElements:t,shouldRespectForcePress:r}))}function UX(n){var e=j.useContext(np);e||Se();var t=e.contextId,r=e.isMovementAllowed,i=j.useRef(null),o=j.useRef(null),s=n.children,a=n.droppableId,c=n.type,h=n.mode,f=n.direction,p=n.ignoreContainerClipping,g=n.isDropDisabled,v=n.isCombineEnabled,b=n.snapshot,x=n.useClone,w=n.updateViewportMaxScroll,k=n.getContainerForClone,C=Fe(function(){return i.current},[]),M=Fe(function(A){i.current=A},[]);Fe(function(){return o.current},[]);var T=Fe(function(A){o.current=A},[]),D=Fe(function(){r()&&w({maxScroll:AM()})},[r,w]);vX({droppableId:a,type:c,mode:h,direction:f,isDropDisabled:g,isCombineEnabled:v,ignoreContainerClipping:p,getDroppableRef:C});var E=ze.createElement(SX,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},function(A){var L=A.onClose,R=A.data,V=A.animate;return ze.createElement(wX,{placeholder:R,onClose:L,innerRef:T,animate:V,contextId:t,onTransitionEnd:D})}),I=st(function(){return{innerRef:M,placeholder:E,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":t}}},[t,a,E,M]),P=x?x.dragging.draggableId:null,O=st(function(){return{droppableId:a,type:c,isUsingCloneFor:P}},[a,P,c]);function B(){if(!x)return null;var A=x.dragging,L=x.render,R=ze.createElement(ZM,{draggableId:A.draggableId,index:A.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(V,Q){return L(V,Q,A)});return JN.createPortal(R,k())}return ze.createElement(Zx.Provider,{value:O},s(I,b),B())}var qv=function(e,t){return e===t.droppable.type},B_=function(e,t){return t.draggables[e.draggable.id]},$X=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=We({},e,{shouldAnimatePlaceholder:!1}),r=bn(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=bn(function(s,a,c,h,f,p){var g=f.descriptor.id,v=f.descriptor.droppableId===s;if(v){var b=p?{render:p,dragging:r(f.descriptor)}:null,x={isDraggingOver:c,draggingOverWith:c?g:null,draggingFromThisWith:g,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:b}}if(!a)return t;if(!h)return e;var w={isDraggingOver:c,draggingOverWith:g,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}}),o=function(a,c){var h=c.droppableId,f=c.type,p=!c.isDropDisabled,g=c.renderClone;if(a.isDragging){var v=a.critical;if(!qv(f,v))return t;var b=B_(v,a.dimensions),x=Or(a.impact)===h;return i(h,p,x,x,b,g)}if(a.phase==="DROP_ANIMATING"){var w=a.completed;if(!qv(f,w.critical))return t;var k=B_(w.critical,a.dimensions);return i(h,p,JM(w.result)===h,Or(w.impact)===h,k,g)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var C=a.completed;if(!qv(f,C.critical))return t;var M=Or(C.impact)===h,T=!!(C.impact.at&&C.impact.at.type==="COMBINE"),D=C.critical.droppable.id===h;return M?T?e:t:D?e:t}return t};return o},WX={updateViewportMaxScroll:Qq};function VX(){return document.body||Se(),document.body}var qX={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:VX},eP=tM($X,WX,null,{context:Kx,pure:!0,areStatePropsEqual:KM})(UX);eP.defaultProps=qX;const YX=()=>{const[n,e]=j.useState([]),[t,r]=j.useState(null),[i,o]=j.useState(!1),[s,a]=j.useState(null),[c,h]=j.useState(""),[f,p]=j.useState(""),[g,v]=j.useState(!1),[b,x]=j.useState(""),[w,k]=j.useState(null),[C,M]=j.useState(null),T=j.useRef(),{username:D}=$t();Bt(),j.useEffect(()=>{E()},[w]);const E=async()=>{try{const q=w?`${on.LIST}?parentId=${w}`:on.LIST,re=await(await fetch(q,{credentials:"include"})).json();e(re)}catch(q){console.error("파일 로드 실패",q)}},I=async q=>{if(!q.destination)return;const Y=q.source.index,re=q.destination.index,le=Array.from(P),[W]=le.splice(Y,1);le.splice(re,0,W);const Z=le.map(be=>be.id),pe=n.slice();Z.forEach((be,ke)=>{const me=pe.findIndex(Ie=>Ie.id===be);if(me>-1){const[Ie]=pe.splice(me,1);pe.splice(ke,0,Ie)}}),e(pe),await fetch(on.REORDER,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(pe.map(be=>be.id)),credentials:"include"})},P=n.filter(q=>{const Y=i?q.favorite:!0,re=q.name.toLowerCase().includes(f.toLowerCase());return Y&&re}),O=async q=>{const Y=new FormData;Y.append("file",q),Y.append("user",D),Y.append("originalName",q.name),Y.append("parentId",w);try{if(!(await fetch(on.UPLOAD,{method:"POST",credentials:"include",body:Y})).ok)throw new Error("업로드 실패");await E()}catch(re){console.error("파일 업로드 실패",re)}},B=async()=>{if(!b.trim())return alert("폴더명을 입력하세요.");try{if(!(await fetch(on.CREATE_FOLDER,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:b,parentId:w})})).ok)throw new Error("폴더 생성 실패");await E(),v(!1),x("")}catch(q){console.error("폴더 생성 오류",q)}},A=async q=>{try{await fetch(on.RECENT_VIEW(q),{method:"POST",credentials:"include"}),window.location.href=on.DOWNLOAD(q)}catch(Y){console.error("다운로드 실패",Y)}},L=async q=>{await fetch(on.FAVORITE(q),{method:"PATCH"}),await E(),r(null)},R=async q=>{await fetch(on.DELETE(q),{method:"DELETE"}),await E(),r(null)},V=async q=>{await fetch(on.MOVE_TO_SHARED(q),{method:"PATCH"}),await E(),r(null)},Q=q=>{a(q.id),h(q.name),r(null)},oe=async q=>{await fetch(on.RENAME(q),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c})}),await E(),a(null)};return j.useEffect(()=>{const q=Y=>{T.current&&!T.current.contains(Y.target)&&r(null)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]),d.jsxs(d.Fragment,{children:[g&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsx("h3",{children:"새 폴더 만들기"}),d.jsx("input",{type:"text",value:b,onChange:q=>x(q.target.value),placeholder:"폴더명 입력"}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{onClick:B,children:"생성"}),d.jsx("button",{onClick:()=>v(!1),children:"취소"})]})]})}),d.jsx("div",{className:"topArea",children:d.jsxs("div",{className:"Title",children:[d.jsx("img",{src:"/images/Cloud.svg",alt:"클라우드"}),d.jsx("h3",{children:"Cloud"})]})}),d.jsxs("div",{className:"cloud-main",children:[d.jsxs("div",{className:"toolbar",children:[d.jsx("button",{onClick:()=>v(!0),children:"+ 신규 폴더"}),d.jsxs("label",{className:"upload-label",children:["📤 파일 업로드",d.jsx("input",{type:"file",style:{display:"none"},onChange:q=>q.target.files.length>0&&O(q.target.files[0])})]}),d.jsx("button",{onClick:()=>o(!i),children:i?"⭐ 전체 보기":"⭐ 즐겨찾기만"}),w&&d.jsx("button",{onClick:()=>k(null),children:"⬅ 상위 폴더"})]}),d.jsx("form",{className:"search-bar",onSubmit:q=>q.preventDefault(),children:d.jsx("input",{type:"text",placeholder:"Cloud 검색",value:f,onChange:q=>p(q.target.value)})}),d.jsx("div",{className:"drivetable",children:d.jsx(iX,{onDragEnd:I,onDragStart:q=>M(q.source.index),children:d.jsx(eP,{droppableId:"file-list",children:q=>d.jsxs("table",{className:"drivetables",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"사용자"}),d.jsx("th",{children:"파일명"}),d.jsx("th",{children:"유형"}),d.jsx("th",{children:"위치"}),d.jsx("th",{children:"업로드 날짜"})]})}),d.jsxs("tbody",{ref:q.innerRef,...q.droppableProps,children:[P.map((Y,re)=>{const le=C!==null&&(re===C-1||re===C+1);return d.jsx(zX,{draggableId:String(Y.id),index:re,children:W=>d.jsxs("tr",{ref:W.innerRef,...W.draggableProps,...W.dragHandleProps,className:le?"highlight-movable":"",children:[d.jsx("td",{children:Y.user||D}),d.jsx("td",{onClick:()=>Y.type==="folder"&&k(Y.id),style:{cursor:Y.type==="folder"?"pointer":"default"},children:s===Y.id?d.jsxs(d.Fragment,{children:[d.jsx("input",{value:c,onChange:Z=>h(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&oe(Y.id)}),d.jsx("button",{onClick:()=>oe(Y.id),children:"확인"})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:`star-icon ${Y.favorite?"active":""}`,onClick:Z=>{Z.stopPropagation(),L(Y.id)},children:"★"}),Y.name]})}),d.jsx("td",{children:Y.type}),d.jsx("td",{children:Y.location}),d.jsxs("td",{style:{position:"relative"},children:[d.jsx("span",{children:Y.date}),d.jsx("img",{src:"/images/Seemore.png",className:"tableimg",onClick:()=>r(Z=>Z===Y.id?null:Y.id)}),t===Y.id&&d.jsx("div",{className:"dropdown-menu",ref:T,children:d.jsxs("ul",{children:[d.jsx("li",{children:d.jsx("button",{onClick:()=>L(Y.id),children:"즐겨찾기"})}),d.jsx("li",{children:d.jsx("button",{onClick:()=>A(Y.id),children:"다운로드"})}),d.jsx("li",{children:d.jsx("button",{onClick:()=>Q(Y),children:"이름 변경"})}),d.jsx("li",{children:d.jsx("button",{onClick:()=>V(Y.id),children:"공유 드라이브로 이동"})}),d.jsx("li",{children:d.jsx("button",{onClick:()=>R(Y.id),children:"휴지통"})}),d.jsx("li",{children:d.jsx("button",{onClick:()=>v(!0),children:"하위 폴더 만들기"})})]})})]})]})},Y.id)}),q.placeholder]})]})})})})]})]})},GX=()=>d.jsx("div",{id:"drive",children:d.jsxs(sn,{children:[d.jsx(bi,{}),d.jsx("div",{className:"contentArea",children:d.jsx(YX,{})})]})}),XX=()=>{const[n,e]=j.useState([]),[t,r]=j.useState(null),[i,o]=j.useState(null),[s,a]=j.useState(""),c=j.useRef(),{username:h}=$t();j.useEffect(()=>{h&&(async()=>{try{const E=await(await fetch(`${on.RECENT_LIST}?uid=${h}`,{credentials:"include"})).json();if(!Array.isArray(E))throw new Error("응답이 배열이 아님");e(E)}catch(D){console.error("최근 드라이브 불러오기 실패",D)}})()},[h]),j.useEffect(()=>{const T=D=>{c.current&&!c.current.contains(D.target)&&r(null)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const f=(T,D)=>T.getFullYear()===D.getFullYear()&&T.getMonth()===D.getMonth()&&T.getDate()===D.getDate(),g=(T=>{const D=new Date,E=new Date;E.setDate(D.getDate()-1);const I=O=>new Date(O.replaceAll(".","-")),P={};return T.forEach(O=>{const B=I(O.date),A=f(B,D)?"오늘":f(B,E)?"어제":O.date;P[A]||(P[A]=[]),P[A].push(O)}),P})(n),v=async T=>{await fetch(on.FAVORITE(T),{method:"PATCH"}),e(D=>D.map(E=>E.id===T?{...E,favorite:!E.favorite}:E)),r(null)},b=async T=>{try{await fetch(`${on.RECENT_VIEW(T)}?uid=${h}`,{method:"POST",credentials:"include"})}catch(D){console.error("최근 기록 저장 실패",D)}window.location.href=on.DOWNLOAD(T),r(null)},x=async T=>{window.confirm("정말로 휴지통으로 이동하시겠습니까?")&&(await fetch(on.DELETE(T),{method:"DELETE"}),e(D=>D.filter(E=>E.id!==T)),r(null))},w=async(T,D)=>{await fetch(on.RENAME(T),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:D})})},k=T=>{o(T.id),a(T.name),r(null)},C=async T=>{await w(T,s),e(D=>D.map(E=>E.id===T?{...E,name:s}:E)),o(null)},M=(T,D)=>{T.key==="Enter"&&C(D)};return d.jsxs("div",{className:"cloud-main",children:[d.jsx("h3",{children:"최근 드라이브"}),d.jsx("form",{className:"search-bar",onSubmit:T=>T.preventDefault(),children:d.jsx("input",{type:"text",placeholder:"Cloud 검색",style:{width:"100%",padding:"6px 10px",border:"none",backgroundColor:"#f0eaf7"}})}),d.jsx("div",{className:"drivetable",children:Object.entries(g).map(([T,D])=>d.jsxs("table",{className:"drivetables",children:[d.jsxs("thead",{children:[d.jsx("tr",{children:d.jsx("th",{colSpan:"5",style:{textAlign:"left"},children:T})}),d.jsxs("tr",{children:[d.jsx("th",{children:"사용자"}),d.jsx("th",{children:"파일명"}),d.jsx("th",{children:"유형"}),d.jsx("th",{children:"위치"}),d.jsx("th",{children:"업로드 날짜"})]})]}),d.jsx("tbody",{children:D.map(E=>d.jsxs("tr",{children:[d.jsx("td",{children:E.user}),d.jsx("td",{children:i===E.id?d.jsxs(d.Fragment,{children:[d.jsx("input",{value:s,onChange:I=>a(I.target.value),onKeyDown:I=>M(I,E.id),autoFocus:!0}),d.jsx("button",{onClick:()=>C(E.id),children:"확인"})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:`star-icon ${E.favorite?"active":""}`,onClick:()=>v(E.id),style:{cursor:"pointer",marginRight:"5px"},children:"★"}),E.name]})}),d.jsx("td",{children:E.type}),d.jsx("td",{children:E.location}),d.jsxs("td",{style:{position:"relative"},children:[d.jsx("span",{children:E.date}),d.jsx("img",{className:"tableimg",src:"/images/Seemore.png",alt:"더보기",onClick:()=>r(I=>I===E.id?null:E.id)}),t===E.id&&d.jsx("div",{className:"dropdown-menu",ref:c,children:d.jsxs("ul",{children:[d.jsx("li",{children:d.jsx("button",{onClick:()=>v(E.id),children:"즐겨찾기"})}),d.jsx("li",{children:d.jsx("button",{onClick:()=>b(E.id),children:"다운로드"})}),d.jsx("li",{children:d.jsx("button",{onClick:()=>k(E),children:"이름 변경"})}),d.jsx("li",{children:d.jsx("button",{onClick:()=>x(E.id),children:"휴지통"})})]})})]})]},E.id))})]},T))})]})},KX=()=>d.jsx("div",{id:"drive",children:d.jsxs(sn,{children:[d.jsx(bi,{}),d.jsx("div",{className:"contentArea",children:d.jsx(XX,{})})]})}),JX=()=>{const[n,e]=j.useState([]),[t,r]=j.useState(!0);j.useEffect(()=>{fetch(on.DELETE_LIST).then(s=>s.json()).then(s=>{e(s),r(!1)}).catch(s=>{console.error("휴지통 데이터 로딩 실패",s),r(!1)})},[]);const i=async s=>{try{if(!(await fetch(on.RESTORE(s),{method:"PUT",credentials:"include"})).ok)throw new Error("복원 실패");e(c=>c.filter(h=>h.id!==s))}catch(a){console.error("복원 에러:",a)}},o=async s=>{try{if(!(await fetch(on.PERMANENT_DELETE(s),{method:"DELETE",credentials:"include"})).ok)throw new Error("완전 삭제 실패");e(c=>c.filter(h=>h.id!==s))}catch(a){console.error("완전 삭제 에러:",a)}};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"topArea",children:d.jsxs("div",{className:"Title",children:[d.jsx("img",{src:"/images/Cloud.svg",alt:"클라우드"}),d.jsx("h3",{children:"Cloud"})]})}),d.jsxs("div",{className:"cloud-main",children:[d.jsx("h3",{children:"휴지통"}),d.jsxs("form",{className:"search-bar",onSubmit:s=>s.preventDefault(),children:[d.jsx("input",{type:"text",placeholder:"Cloud 검색",style:{width:"100%",padding:"6px 10px",border:"none",backgroundColor:"#f0eaf7"}}),d.jsx("button",{type:"submit",style:{background:"none",border:"none",padding:0},children:d.jsx("img",{src:"/images/search.png",alt:"검색",className:"search-icon"})})]}),d.jsxs("div",{className:"search-type",children:[d.jsx("select",{children:d.jsx("option",{children:"유형▼"})}),d.jsx("select",{children:d.jsx("option",{children:"사람▼"})}),d.jsx("select",{children:d.jsx("option",{children:"수정날짜▼"})}),d.jsx("select",{children:d.jsx("option",{children:"위치▼"})})]}),!t&&n.length===0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{children:d.jsx("img",{src:"/images/delete_360.png",alt:"휴지통",style:{width:"300px",height:"250px",display:"block",margin:"0 auto"}})}),d.jsx("span",{className:"deleteclean",style:{textAlign:"center",fontSize:"25px",display:"block"},children:"휴지통 비어있음."}),d.jsx("span",{style:{textAlign:"center",fontSize:"15px",display:"block"},children:"휴지통으로 이동된 항목은 30일 후 완전히 삭제됩니다."})]}),!t&&n.length>0&&d.jsx("div",{className:"drivetable",children:d.jsxs("table",{className:"drivetables",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"사용자"}),d.jsx("th",{children:"파일명"}),d.jsx("th",{children:"유형"}),d.jsx("th",{children:"위치"}),d.jsx("th",{children:"삭제일"}),d.jsx("th",{children:"액션"})]})}),d.jsx("tbody",{children:n.map(s=>d.jsxs("tr",{children:[d.jsx("td",{children:s.user}),d.jsx("td",{children:s.name}),d.jsx("td",{children:s.type}),d.jsx("td",{children:s.location}),d.jsx("td",{children:s.date}),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>i(s.id),children:"복원"}),d.jsx("button",{style:{color:"red"},onClick:()=>{window.confirm("정말로 완전 삭제하시겠습니까?")&&o(s.id)},children:"완전 삭제"})]})]},s.id))})]})})]})]})},QX=()=>d.jsx("div",{id:"drive",children:d.jsxs(sn,{children:[d.jsx(bi,{}),d.jsx("div",{className:"contentArea",children:d.jsx(JX,{})})]})}),ZX=()=>{const n=Bt(),[e,t]=j.useState({terms:""});j.useEffect(()=>{_e.get(uL).then(i=>{t(i.data)}).catch(i=>{console.error("약관 불러오기 실패",i)})},[]);const r=i=>{n("/user/register")};return d.jsxs("div",{id:"user_page",children:[d.jsx("img",{src:"/images/user/login.jpg",alt:"로그인 화면"}),d.jsxs("div",{id:"login_form",children:[d.jsx(Ia,{}),d.jsxs("div",{children:[d.jsx("p",{className:"txt_title",children:"약관동의"}),d.jsxs("form",{id:"login",onSubmit:r,children:[d.jsx("div",{className:"signUp",children:d.jsxs("div",{className:"terms_box",children:[d.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",color:"#2f2f2f"},children:"이용약관"}),d.jsx("textarea",{readOnly:!0,value:e.terms,rows:12,className:"terms"}),d.jsxs("label",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px",marginTop:"10px"},children:[d.jsx("span",{children:"이용약관에 동의합니다."}),d.jsx("input",{type:"checkbox",required:!0,style:{width:"16px",height:"16px",accentColor:"#2f80ed"}})]})]})}),d.jsx("button",{type:"submit",className:"login_btn",children:"약관동의"})]})]})]})]})},eK=()=>d.jsx(Oa,{children:d.jsx(ZX,{})}),tK=()=>{const[n]=dT(),e=n.get("pg_token"),t=Bt();j.useEffect(()=>{e&&(async()=>{try{const s=await(await fetch(`http://localhost:8080/api/pay/success?pg_token=${e}`)).json();console.log("결제 승인 결과:",s)}catch(o){console.error("결제 승인 실패",o)}})()},[e]);const r=()=>{t("/credit/register")};return d.jsx("div",{className:"container",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:d.jsxs("div",{className:"buy",style:{marginTop:"270px"},children:[d.jsx("div",{className:"icon"}),d.jsx("h2",{children:"구매 완료"}),d.jsx("p",{children:"구매가 성공적으로 완료되었습니다. 아래에서 관리자 계정을 설정해주세요."}),d.jsx("button",{onClick:r,children:"아이디와 비밀번호 직접 입력"})]})})},nK=()=>d.jsx(Li,{children:d.jsx(tK,{})}),rK=()=>d.jsxs("div",{className:"cloud-main",children:[d.jsx("h3",{children:"공유 드라이브"}),d.jsxs("form",{className:"search-bar",action:"/cloud/search",method:"get",children:[d.jsx("input",{type:"text",id:"query",name:"query",placeholder:"Cloud 검색",style:{width:"100%",padding:"6px 10px",border:"none",backgroundColor:"#f0eaf7"}}),d.jsx("button",{type:"submit",style:{background:"none",border:"none",padding:0},children:d.jsx("img",{src:"/images/search.png",alt:"검색",className:"search-icon"})})]}),d.jsxs("div",{className:"search-type",children:[d.jsxs("select",{children:[d.jsx("option",{value:"유형",children:"유형▼"}),d.jsx("option",{value:"문서",children:"문서"}),d.jsx("option",{value:"PDF",children:"PDF"}),d.jsx("option",{value:"폴더",children:"폴더"}),d.jsx("option",{value:"이미지",children:"이미지"})]}),d.jsx("select",{children:d.jsx("option",{value:"사람",children:"사람▼"})}),d.jsxs("select",{children:[d.jsx("option",{value:"수정날짜",children:"수정날짜▼"}),d.jsx("option",{value:"오늘",children:"오늘"}),d.jsx("option",{value:"지난 7일",children:"지난 7일"}),d.jsx("option",{value:"지난 30일",children:"지난 30일"}),d.jsx("option",{value:"올해(2025)",children:"올해(2025)"}),d.jsx("option",{value:"지난해(2024)",children:"지난해(2024)"})]}),d.jsxs("select",{children:[d.jsx("option",{value:"위치",children:"위치▼"}),d.jsx("option",{value:"내 드라이브",children:"내 드라이브"}),d.jsx("option",{value:"공유 드라이브",children:"공유 드라이브"}),d.jsx("option",{value:"최근 드라이브",children:"최근 드라이브"}),d.jsx("option",{value:"중요 드라이브",children:"중요 드라이브"}),d.jsx("option",{value:"휴지통",children:"휴지통"})]})]}),d.jsx("div",{className:"drivetable",children:d.jsxs("table",{className:"drivetables",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"사용자"}),d.jsx("th",{children:"파일명"}),d.jsx("th",{children:"유형"}),d.jsx("th",{children:"위치"}),d.jsx("th",{children:"업로드 날짜(수정날짜)"})]})}),d.jsx("tbody",{children:Array.from({length:6}).map((n,e)=>d.jsxs("tr",{children:[d.jsx("td",{children:"minhyeok"}),d.jsx("td",{children:"000보고서"}),d.jsx("td",{children:"문서"}),d.jsx("td",{children:"공유 드라이브"}),d.jsxs("td",{style:{position:"relative"},children:[d.jsx("span",{children:"2020.00.00"}),d.jsx("img",{className:"tableimg",src:"/images/Seemore.png",alt:"더보기"}),d.jsx("div",{className:"dropdown-menu",children:d.jsxs("ul",{children:[d.jsx("li",{children:d.jsx("button",{type:"button",className:"favorite-btn",children:"즐겨찾기"})}),d.jsx("li",{children:d.jsx("button",{type:"button",className:"download-btn",children:"다운로드"})}),d.jsx("li",{children:d.jsx("button",{type:"button",className:"rename-btn",children:"이름 변경"})}),d.jsx("li",{children:d.jsx("button",{type:"button",className:"delete-btn",children:"휴지통"})})]})})]})]},e))})]})})]}),iK=()=>d.jsx("div",{id:"drive",children:d.jsxs(sn,{children:[d.jsx(bi,{}),d.jsx("div",{className:"contentArea",children:d.jsx(rK,{})})]})}),oK=()=>{const[n,e]=j.useState(null),[t,r]=j.useState(null),i=j.useRef(null),{username:o}=$t();j.useEffect(()=>{(async()=>{const p=await YT();e(p),console.log("📦 유저 데이터:",p)})()},[o]);const s=f=>{const p=f.target.files[0];if(p){const g=new FileReader;g.onload=()=>r(g.result),g.readAsDataURL(p)}},a=async()=>{const f=i.current.files[0];if(!f){alert("이미지를 선택해주세요.");return}const p=new FormData;p.append("profile",f);try{(await fetch(`${oy}`,{method:"PUT",body:p,credentials:"include"})).ok?(alert("프로필이 저장되었습니다."),window.location.reload()):alert("업로드 실패")}catch(g){console.error("업로드 에러:",g),alert("오류 발생")}},c=async()=>{try{(await fetch(`${eL}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:n.name,email:n.email,hp:n.hp})})).ok?alert("사용자 정보가 저장되었습니다."):(console.log(n),alert("저장 실패"))}catch(f){console.error("사용자 정보 저장 실패",f),alert("오류 발생")}},h=async()=>{if(!(n!=null&&n.currentPass)||!(n!=null&&n.newPass)||!(n!=null&&n.newPassCheck)){alert("모든 필드를 입력해주세요.");return}if(n.newPass!==n.newPassCheck){alert("새 비밀번호가 일치하지 않습니다.");return}try{(await fetch(`${UT}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({pass:n.currentPass,newPass:n.newPass})})).ok?(alert("비밀번호가 성공적으로 변경되었습니다."),e(p=>({...p,currentPass:"",newPass:"",newPassCheck:""}))):alert("비밀번호가 맞지 않습니다.")}catch(f){console.error("비밀번호 변경 오류:",f),alert("오류 발생")}};return d.jsxs("div",{className:"midArea",children:[d.jsxs("section",{children:[d.jsx("h4",{children:"프로필 이미지 변경"}),d.jsxs("div",{className:"semi",children:[d.jsx("img",{src:t||(n!=null&&n.profileImage?`${oy}/${n.profileImage}`:""),className:"photoPlaceholder",alt:"프로필"}),d.jsx("br",{}),d.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},ref:i,onChange:s}),d.jsxs("div",{className:"profile-btn-group",children:[d.jsx("button",{className:"btn btn-select",onClick:()=>i.current.click(),children:"이미지 선택"}),d.jsx("button",{className:"btn btn-save",onClick:a,children:"프로필 저장"})]})]})]}),d.jsxs("section",{children:[d.jsx("h4",{children:"사용자 정보 변경"}),d.jsxs("div",{id:"user-info-form",className:"semi user-info-form",children:[d.jsx("label",{children:"이름"}),d.jsx("input",{type:"text",value:(n==null?void 0:n.name)||"",onChange:f=>e(p=>({...p,name:f.target.value}))}),d.jsx("label",{children:"이메일"}),d.jsx("input",{type:"email",value:(n==null?void 0:n.email)||"",onChange:f=>e(p=>({...p,email:f.target.value}))}),d.jsx("label",{children:"전화번호"}),d.jsx("input",{type:"tel",value:(n==null?void 0:n.hp)||"",onChange:f=>e(p=>({...p,hp:f.target.value}))}),d.jsx("button",{className:"btn btn-save",onClick:()=>c(),children:"사용자 정보 저장"})]})]}),d.jsxs("section",{children:[d.jsx("h4",{children:"비밀번호 변경"}),d.jsxs("div",{id:"user-info-form",className:"semi user-password-form",children:[d.jsx("label",{children:"현재 비밀번호"}),d.jsx("input",{type:"password",value:(n==null?void 0:n.currentPass)||"",onChange:f=>e(p=>({...p,currentPass:f.target.value}))}),d.jsx("label",{children:"새 비밀번호"}),d.jsx("input",{type:"password",value:(n==null?void 0:n.newPass)||"",onChange:f=>e(p=>({...p,newPass:f.target.value}))}),d.jsx("label",{children:"새 비밀번호 확인"}),d.jsx("input",{type:"password",value:(n==null?void 0:n.newPassCheck)||"",onChange:f=>e(p=>({...p,newPassCheck:f.target.value}))}),d.jsx("button",{className:"btn btn-save",onClick:h,children:"비밀번호 변경"})]})]})]})},sK=()=>d.jsx("div",{id:"SettingPage",children:d.jsxs(sn,{children:[d.jsx(q2,{}),d.jsxs("div",{className:"contentArea",children:[d.jsx(Na,{title:"My Setting"}),d.jsx(oK,{})]})]})}),aK=HN([{path:"/",element:d.jsx(nB,{})},{path:"/credit/list",element:d.jsx(pB,{})},{path:"/pay/success",element:d.jsx(nK,{})},{path:"/credit/choice",element:d.jsx(gB,{})},{path:"/credit/result",element:d.jsx(yB,{})},{path:"/credit/register",element:d.jsx(wB,{})},{path:"/credit/email",element:d.jsx(kB,{})},{path:"/credit/info",element:d.jsx(_B,{})},{path:"/qna",element:d.jsx(PB,{})},{path:"/qna/view",element:d.jsx(IB,{})},{path:"/user/login",element:d.jsx(aB,{})},{path:"/user/findpass",element:d.jsx(uB,{})},{path:"/user/findid",element:d.jsx(fB,{})},{path:"/user/findid/result",element:d.jsx(jB,{})},{path:"/user/register",element:d.jsx(iB,{})},{path:"/user/temp",element:d.jsx(eK,{})},{path:"/user/logout",element:null},{path:"/dashboard/main",element:d.jsx(t3,{})},{path:"/admin/main",element:d.jsx(fH,{})},{path:"/admin/employee",element:d.jsx(gH,{})},{path:"/admin/membership",element:d.jsx(yH,{})},{path:"/admin/adminpayment",element:d.jsx(xH,{})},{path:"/dashboard/board/main",element:d.jsx(v7,{})},{path:"/dashboard/board/list",element:d.jsx(IC,{})},{path:"/dashboard/board/list/:categoryId",element:d.jsx(IC,{})},{path:"/dashboard/board/view",element:d.jsx(NC,{})},{path:"/dashboard/board/view/:id",element:d.jsx(NC,{})},{path:"/dashboard/calendar",element:d.jsx(uE,{})},{path:"/dashboard/calendar/public",element:d.jsx(uE,{})},{path:"/dashboard/chatting/main",element:d.jsx(TH,{})},{path:"/dashboard/chatting/room/:roomId",element:d.jsx(d8,{})},{path:"/dashboard/mypage/mypage",element:d.jsx(h7,{})},{path:"/dashboard/project/project",element:d.jsx(D7,{})},{path:"/dashboard/project/projectRegister",element:d.jsx(D9,{})},{path:"/dashboard/setting",element:d.jsx(P9,{})},{path:"/dashboard/setting/my",element:d.jsx(sK,{})},{path:"/dashboard/drive",element:d.jsx(GX,{})},{path:"/dashboard/drive/recent",element:d.jsx(KX,{})},{path:"/dashboard/drive/share",element:d.jsx(iK,{})},{path:"/dashboard/drive/delete",element:d.jsx(QX,{})}]);function lK(){return d.jsx(QN,{router:aK})}qO.createRoot(document.getElementById("root")).render(d.jsx(uR,{children:d.jsx(dB,{children:d.jsx(lK,{})})}));
